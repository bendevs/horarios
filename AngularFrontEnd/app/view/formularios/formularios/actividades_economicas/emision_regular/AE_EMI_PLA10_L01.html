<script>
    function soloNumericoTelefono(sValo){
        Numer=parseInt(sValo);
        if (isNaN(Numer)){
            return "";
        }else{
            var digits = ("" + Numer).split("");
            if(digits.length < 9 && (digits[0] == 2 || digits[0] == 3 || digits[0] == 4)){
                return Numer;
            }else{
                return "";
            }
        }
    }
    function valNumeroTelefono(Control){
        Control.value = soloNumericoTelefono(Control.value);
    }
    function deshabilita(form) {
        if (form.vci.value != "") {
            var valorCi = form.vci.value;
            if (valorCi.length >=5 ) 
                {form.btnBuscar.disabled = false; }
            else
                {form.btnBuscar.disabled = true;} 
        } else {
            if (form.vpmc.value != "") {
                var valorPCM = form.vpmc.value;
                if (valorPCM.length >=5 ) 
                    {form.btnBuscar.disabled = false; }
                else
                    {form.btnBuscar.disabled = true;} 
            } else {
                form.btnBuscar.disabled = true; 
            }
        }
    }
    function deshabilita2(form) {
        if (form.vnit.value != "" ) {
            var valorNit = form.vnit.value;
            if (valorNit.length >=7 ) 
                {form.btnBuscar.disabled = false;}
            else
                {form.btnBuscar.disabled = true;}
        } else {
            if (form.vpmc2.value != "" ) {
                var valorPMC2 = form.vpmc2.value;
                if (valorPMC2.length >=5 ) 
                    {form.btnBuscar.disabled = false;}
                else
                    {form.btnBuscar.disabled = true;}
            } else {
                form.btnBuscar.disabled = true; 
            }
        }
    }
    function soloNumerico(variable){
        Numer=parseInt(variable);
        if (isNaN(Numer)){
            return "";
        }
        return Numer;
    }
</script>
<script>
    function frmAE10Controller($scope, $rootScope, $routeParams, $location, $http, Data, sessionService, CONFIG, LogGuardarInfo, DreamFactory,ngTableParams,$filter,sweet, $sce, registroLog,FileUploader, wsContribuyenteNatural,wsContribuyenteJuridico,wsLicencia, $window,wsRgistrarPubliciadad, $soap, $q) {
    var fecha= new Date();

    $('.clockpicker').clockpicker();
     $scope.getprueba = function(accionSeleccionada){
    }
    $scope.desabilitt = "true";
    var fechactual=fecha.getFullYear() + "-" + fecha.getMonth() + "-" + fecha.getDate() + " " + fecha.getHours() + ":" + fecha.getMinutes() + ":" + fecha.getSeconds();
    var formularioPersona = "";
    //$scope.publi.INT_NRO_CARA = 1;
    var telefonomodif = "";
    var celularmodif = "";
    var existe = "";
    var estcivil = "";
    var tipoPersonaModificar = "";
    var idTramite = "";
    var a = "";
    var b = "";
    var nombreimagen= "";
    var idArchivo = "";
    var tipoPersona = null;
    var tipoDocumento = "";
    var existeidArchivo = "";
    var direccionURL=CONFIG.IMG_URL+"/ciudadano/"+idTramite;
    var uploader = $scope.uploader;
    var datoObjectFinal = []; 
    var datoObject = []; 

    var trayecto_tipo=false;
    $scope.nuevoj = 0;
    $scope.nuevoc = 0;
    $scope.titulo = "Buscador";
    $scope.formularioNatural = null;
    $scope.formularioJuridico = null;
    //$scope.tipo_persona = "N";
    $rootScope.prsId=0;
    $rootScope._id = '';
    $rootScope.ciMod = '';
    $scope.img_ninguna=CONFIG.IMG_URL+"/uploads/im4g3nn0ne23133434290756564558453453460696847346.png";
    $scope.uploader = new FileUploader({});
    idCiu = sessionService.get("IDSOLICITANTE");
    sessionService.destroy("IDSOLICITANTE");
    $scope.cabeceraNatural = false;
    $scope.cabeceraJuridico = false;
    $scope.mostrarFormulario = false;
    $scope.naturalForm = false;
    $scope.juridicoForm = false;
    $scope.volverForm = false;
    $scope.tipoCategoria = true;
    $scope.btnGuardar = false;
    $scope.recuperarContri = 0;
    $scope.nombreViaTxt = false;
    $scope.nombreViaCmb = true;    

    var fecha= new Date();
    var fechactual=fecha.getFullYear() + "-" + fecha.getMonth() + "-" + fecha.getDate() + " " + fecha.getHours() + ":" + fecha.getMinutes() + ":" + fecha.getSeconds();
    if (fecha.getDate()<10)
        dia = "0" + fecha.getDate();
    else
        dia = fecha.getDate();
    if ((fecha.getMonth()+1)<10)
        mes = "0" + (fecha.getMonth() + 1);
    else
        mes = fecha.getMonth() + 1;
    var fechaA = dia + "/" + mes + "/" + fecha.getFullYear();
    var fechaInicioActividad = dia + "/" + mes + "/" + fecha.getFullYear();
    $scope.juridic = 0;
    $scope.natura = 0;
    //////////////////////////////////////////////////////////////////////////////////////////////////////////////
    /////////////////////////////////// BUSCADOR DE PERSONA NATURAL - JURIDICA ///////////////////////////////////
    //////////////////////////////////////////////////////////////////////////////////////////////////////////////
   $scope.verificarC = function(datos){
    console.log(datos);
    $.blockUI(); 
        var paramPersona = {
            "procedure_name":"GENERAL.spDatosContribuyente",
            "body":{"params": [
                            {"name":"idContribuyente","param_type":"IN","value":""},
                            {"name":"clase","param_type":"IN","value":""},
                            {"name":"padron","param_type":"IN","value":""},
                            {"name":"identificacion","param_type":"IN","value":datos.f01_num_dos_prop},
                            {"name":"primerNombre","param_type":"IN","value":""},
                            {"name":"primerApellido","param_type":"IN","value":""},
                            {"name":"segundoApellido","param_type":"IN","value":""},
                            {"name":"nit","param_type":"IN","value":""},
                            {"name":"empresa","param_type":"IN","value":""},
                            {"name":"p_accion","param_type":"IN","value":"C06"}
                            ]}
        };
        var obj=DreamFactory.api[CONFIG.SERVICEGENESIS].callStoredProcWithParams(paramPersona);
        obj.success(function(response){
            $.unblockUI();
            if(response.length > 0){ 
                $scope.datos = response[0];
                $scope.datos.f01_tipo_per = "N";
                $scope.nombreciu = $scope.datos.NOMBRE+" "+$scope.datos.APELLIDO+" "+$scope.datos.APELLIDO2;
                 $("#myModal").modal();
                 var buscarCiudadano = new rcNatural();
                buscarCiudadano.tipo_persona = "NATURAL";
                buscarCiudadano.ci = datos.f01_num_dos_prop;
                console.log("responseeeeee: ",response);
                buscarCiudadano.buscarPersona(function(resultado){
                    resultadoApi = JSON.parse(resultado);
                         if(resultadoApi.length > 0){
                            console.log("Existe en Mongo",resultadoApi);
                        } else {
                           // $scope.natura = 1;
                            console.log("No Existe en mongo",resultadoApi,$scope.natura);
                        }           
                });
            } else {
                /*var buscarCiudadano = new rcNatural();
                buscarCiudadano.tipo_persona = "NATURAL";
                buscarCiudadano.ci = datos.f01_num_dos_prop;
                buscarCiudadano.buscarPersona(function(resultado){
                    resultadoApi = JSON.parse(resultado);
                    console.log(resultadoApi);
                         if(resultadoApi.length > 0){
                            $scope.datos = resultadoApi[0];
                            $scope.datoss = resultadoApi[0];
                            $scope.nombreciu = $scope.datoss.dtspsl_nombres+" "+$scope.datoss.dtspsl_paterno+" "+$scope.datoss.dtspsl_materno;
                            $("#naturalm").modal();
                        } else {
                            $scope.natura = 1;
                            $scope.obtDatos="";
                            $scope.tablaCiudadanos = null;
                            $scope.tablaEmpresas = null;
                        }           
                });*/
            } 
        })
        obj.error(function(response){  
            $.unblockUI();           
        });
   }
   $scope.actualizarActividadEconomica = function(datosAct){
        if(datosAct.deudaActividad != 'DEUDA DE GESTION EN MORA') {
            sweet.show({
                title: 'Editar Actividad Económica',
                text: '¿Esta seguro de actualizar la Actividad Economica ' + datosAct.Descripcion + '?',
                type: 'warning',
                showCancelButton: true,
                confirmButtonColor: '#DD6B55',
                confirmButtonText: 'SI',
                cancelButtonText: 'NO',
                closeOnConfirm: false
            }, function() {
                sweet.close();
                $scope.cargarDatosActividad(datosAct);
            });
        } else {
            sweet.show('Si recibe el tramite creara una nueva actividad', "La actividad seleccionada tiene deudas", 'warning');
        }
    } 
    $scope.obtenerGrupo = function(grupo){
        console.log(grupo);
        $scope[name] = 'Running';
        var deferred = $q.defer();
        $scope.exito = "";
        var paramActividad = {
            "procedure_name":"sp_grupo_actividad_desarrollada",
            "body":{"params": [
                {"name":"idcategoria","param_type":"IN","value":parseInt(grupo)}
            ]}
        };

        var obj=DreamFactory.api[CONFIG.SERVICE].callStoredProcWithParams(paramActividad);
        obj.success(function(resGrupo){
            console.log(resGrupo);
            $scope.exito = resGrupo[0].grupo;
            $scope.datos.f01_categoria_agrupada = $scope.exito;
            $q.all($scope.exito).then(function(data){
                   deferred.resolve($scope.exito);
            });
        });
        return deferred.promise;
    };
   $scope.cargarDatosActividad = function (datosAct) {
        var paramActividad = {
            "procedure_name":"AE.spDatosGeneralesActividadEconomicaSimgep",
            "body":{"params": [
                {"name":"idActividadEconomica","param_type":"IN","value":datosAct.IdActividad},
                {"name":"tipo","param_type":"IN","value":$scope.datos.f01_tipo_per}
            ]}
        };
        var obj=DreamFactory.api[CONFIG.SERVICEGENESIS].callStoredProcWithParams(paramActividad);
        obj.success(function(response){
            angular.forEach(response[0], function(value, key) {
                if(value == null || value =="undefined" || value =="UNDEFINED" || typeof(value)=='undefined' ) {
                    response[0][key] = "";
                }
            }, log);
            $scope.nombreViaTxt = false;
            if(response.length > 0) {
                if(response[0].deudaActividad != 'DEUDA DE GESTION EN MORA') {
                    $scope.datos.f01_tipo_tramite = "RENOVACION";
                    $scope.datos.f01_id_actividad_economica = datosAct.IdActividad;
                    $scope.datos.f01_nro_orden = response[0].nroOrdenAE;
                    $scope.datos.f01_nit = response[0].identificacion;
                    $scope.datos.f01_raz_soc = response[0].denominacion;
                    $scope.datos.f01_sup = parseFloat(response[0].superficie).toFixed(2);
                    $scope.datos.f01_cap_aprox = parseFloat(response[0].capacidad).toFixed(2);
                    $scope.datos.f01_actividad_desarrollada = response[0].desc_desarrollada;
                    console.log($scope.datos.f01_actividad_desarrollada);

                    
                    var arregloDatos = $scope.obtenerGrupo(parseInt(response[0].idActividadDesarrollada));
                        arregloDatos.then(function(respuesta) {
                            $scope.datos.f01_categoria_agrupada = respuesta;
                            $scope.getRequisitosCategoria($scope.datos.f01_categoria_agrupada, $scope.datos.f01_tipo_per);
                        }, function(reason) {
                            alert('Failed: ' + reason);
                        });

                    var horarioA = "";
                    if(response[0].horarioAtencion != "NINGUNA" && response[0].horarioAtencion != "" && response[0].horarioAtencion != null){
                        horarioA = response[0].horarioAtencion.split("-");
                        if($scope.datos.f01_de_hor == $scope.datos.f01_de_hor || $scope.datos.f01_de_hor =="undefined" || $scope.datos.f01_de_hor =="UNDEFINED" || typeof($scope.datos.f01_de_hor)=='undefined' )
                            $scope.datos.f01_de_hor = horarioA[0];
                        else
                            $scope.datos.f01_de_hor = horarioA[0].trim();

                        if($scope.datos.f01_de_hor == $scope.datos.f01_de_hor || $scope.datos.f01_de_hor =="undefined" || $scope.datos.f01_de_hor =="UNDEFINED" || typeof($scope.datos.f01_de_hor)=='undefined' )
                            $scope.datos.f01_a_hor = horarioA[1];
                        else
                            $scope.datos.f01_a_hor = horarioA[1].trim();
                    } else {
                        $scope.datos.f01_de_hor = response[0].horarioAtencion;
                        $scope.datos.f01_a_hor = response[0].horarioAtencion;
                    }
                    $scope.datos.f01_fecha_ini_act = response[0].AE_fechaInicio || "";
                    $scope.datos.f01_estab_es = response[0].AE_establecimiento || "";
                    if (response[0].IdMacroDistrito == sessionService.get("US_IDMACRO")) {
                        $scope.datos.f01_zona_act = parseInt(response[0].idzona_ae);
                        $scope.datos.f01_macro_act = parseInt(response[0].IdMacroDistrito);
                        $scope.datos.f01_macro_act_descrip = response[0].MacroDistrito || "";
                        $scope.datos.f01_dist_act = parseInt(response[0].idDistrito);
                        $scope.datos.f01_idCodigoZona = parseInt(response[0].AE_idCodigoZona);
                        $scope.datos.f01_dist_act_descrip = "DISTRITO "+response[0].idDistrito || "";
                        $scope.datos.f01_tip_via_act = response[0].Tipo_Via_ae || "";
                        $scope.datos.f01_zona_act_descrip = response[0].zona_ae || "";
                        $scope.datos.f01_num_act = response[0].via_ae || "";
                        $scope.datos.f01_num_act1 = response[0].numero_ae || "";
                        $scope.datos.f01_factor = response[0].factor || "";
                        $scope.getDistritos($scope.datos.f01_macro_act);
                        $scope.getZonas($scope.datos.f01_dist_act);
                        $scope.cargarTipoVia($scope.datos.f01_factor, $scope.datos);
                        $scope.cargarNombVia($scope.datos.f01_tip_via_act, $scope.datos)
                        if ($scope.datos.f01_factor == "VA") {
                            $scope.tipoTrayecto = false;
                            $scope.datos.f01_num_act = "NINGUNO";
                            $scope.datos.f01_num_act_n = response[0].via_ae;
                        } else {
                            $scope.tipoTrayecto = true;
                            $scope.datos.f01_num_act = response[0].via_ae
                            $scope.datos.f01_num_act_n = "";
                            $scope.nombreViaTxt = false;
                        }
                    } else {
                        sweet.show('Advertencia Macrodistrito', "Eligio una actividad registrada en Macrodistrito " + sessionService.get("US_IDMACRO"), 'warning');
                        $scope.datos.f01_zona_act = "";
                        $scope.datos.f01_macro_act = sessionService.get("US_IDMACRO");
                        $scope.datos.f01_dist_act = "";
                        $scope.datos.f01_idCodigoZona = "";
                        $scope.datos.f01_dist_act_descrip = "";
                        $scope.datos.f01_tip_via_act = response[0].Tipo_Via_ae || "";
                        $scope.datos.f01_zona_act = "";
                        $scope.datos.f01_zona_act_descrip = "";
                        $scope.datos.f01_num_act = "";
                        $scope.datos.f01_num_act1 = "";
                        $scope.datos.f01_factor = "";
                        $scope.getDistritos($scope.datos.f01_macro_act);
                    }
                    $scope.datos.f01_edificio_act = response[0].edificio_ae || "";
                    $scope.datos.f01_bloque_act = response[0].bloque_ae || "";
                    $scope.datos.f01_piso_act = response[0].piso_ae || "";
                    $scope.datos.f01_dpto_of_loc = response[0].departamento_ae || "";
                    $scope.datos.f01_tel_act1 = response[0].telefono_ae || "";
                    $scope.datos.f01_cod_luz = response[0].AE_cuentaEnergiaElectrica || "";
                    $scope.datos.f01_casilla = response[0].AE_casilla || "";
                    $scope.datos.f01_productosElaborados = response[0].productosElaborados || "";
                    $scope.datos.f01_actividadesSecundarias = response[0].actividadesSecundarias || "";
                    $scope.datos.f01_tip_act = response[0].tipoActividad;
                    $scope.datos.f01_tipo_lic = parseInt(response[0].idTipoLicencia);
                    $scope.datos.f01_tipo_lic_descrip = response[0].TipoLicencia;
                    $scope.tipoCategoria = false;
                    $scope.actividadDesarrollada = true;
                    console.log("Tipo Licencia", response[0].idTipoLicencia);
                    if(response[0].idTipoLicencia == 2) {
                        $scope.segura = true;
                        $scope.datos.f01_zon_se = false;
                        $scope.tipoActividad(response[0].idTipoLicencia); 
                        $scope.GetValueLicencia();
                        $scope.tipoCategoria = false;
                        $scope.actividadDesarrollada = true;
                        $scope.datos.f01_categoria = response[0].idActividadDesarrollada;
                        $scope.getRequisitosActividad($scope.datos.f01_categoria, $scope.datos.f01_tipo_per); 
                        $scope.GetValueCategoria();
                        $scope.getRequisitosTecnicosCategoria($scope.datos.f01_categoria,$scope.datos.f01_tipo_per);
                        $scope.datos.f01_categoria_agrupada_descripcion =  response[0].desc_desarrollada;
                        $scope.datos.f01_categoria_agrupada = "";
                        $scope.datos.f01_categoria_descrip = "";
                    } else {
                        $scope.segura = false;
                        //$scope.getCategorias(response[0].idTipoLicencia);
                        $scope.tipoActividad(response[0].idTipoLicencia); 
                        $scope.GetValueLicencia();
                        $scope.tipoCategoria = true;
                        $scope.actividadDesarrollada = false;
                        $scope.datos.f01_categoria_agrupada = response[0].idActividadDesarrollada;
                        $scope.getRequisitosCategoria($scope.datos.f01_categoria_agrupada, $scope.datos.f01_tipo_per); 
                        $scope.GetValueCategoriaAgrupada();
                        $scope.getRequisitosTecnicosCategoria($scope.datos.f01_categoria_agrupada,$scope.datos.f01_tipo_per);
                        //$scope.getRequisitosCategoria($scope.datos.f01_categoria_agrupada);
                        $scope.datos.f01_categoria_descrip = response[0].desc_desarrollada;
                        $scope.datos.f01_categoria = "";
                        $scope.datos.f01_categoria_agrupada_descripcion = "";
                    } 
                    if ($scope.datos.f01_estab_es == 'ANTIC') {
                        $scope.datos.f01_estab_es = 'ANTICRÉTICO';
                    }
                    if ($scope.datos.f01_estab_es == 'ALQUI') {
                        $scope.datos.f01_estab_es = 'ALQUILADO';
                    }
                    if ($scope.datos.f01_estab_es == 'PROPI') {
                        $scope.datos.f01_estab_es = 'PROPIO';
                    };
                    $scope.datos.f01_fecha_ini_act = $filter('date')(new Date(), 'dd/MM/yyyy');
                  } else {
                    sweet.show('', "La actividad seleccionada tiene deudas", 'warning');
                    $scope.tipoCategoria = false;
                    $scope.actividadDesarrollada = true;
                    $scope.datos.f01_id_actividad_economica = '';
                    $scope.datos.f01_nro_orden = "";
                    $scope.datos.f01_nit = '';
                    $scope.datos.f01_raz_soc = '';
                    $scope.datos.f01_sup = '';
                    $scope.datos.f01_cap_aprox = '';
                    $scope.datos.f01_de_hor = '';
                    $scope.datos.f01_a_hor = '';
                    $scope.datos.f01_fecha_ini_act = '';
                    $scope.datos.f01_estab_es = '';
                    $scope.datos.f01_macro_act = '';
                    $scope.datos.f01_macro_act_descrip = '';
                    $scope.datos.f01_dist_act = '';
                    $scope.datos.f01_dist_act_descrip = '';
                    $scope.datos.f01_tip_via_act = '';
                    $scope.datos.f01_zona_act = '';
                    $scope.datos.f01_zona_act_descrip = '';
                    $scope.datos.f01_num_act = '';
                    $scope.datos.f01_num_act1 = '';
                    $scope.datos.f01_edificio_act = '';
                    $scope.datos.f01_bloque_act = '';
                    $scope.datos.f01_piso_act = '';
                    $scope.datos.f01_dpto_of_loc = '';
                    $scope.datos.f01_tel_act1 = '';
                    $scope.datos.f01_cod_luz = '';
                    $scope.datos.f01_idCodigoZona = '';
                    $scope.datos.f01_casilla = '';
                    $scope.datos.f01_productosElaborados = '';
                    $scope.datos.f01_actividadesSecundarias = '';
                    $scope.datos.f01_factor = '';
                    $scope.datos.f01_tip_act = '';
                    $scope.datos.f01_tipo_lic = '';
                    $scope.datos.f01_tipo_lic_descrip = '';
                    $scope.datos.f01_categoria = '';
                    $scope.datos.f01_categoria_descrip = '';
                }
            }
            $scope.licenciaToogle1 = false;
            $scope.licenciaToogle2 = true;
            $scope.getAtividadPublicidad(datosAct.IdActividad);
            $.unblockUI();
        })
        obj.error(function(response){
            $.unblockUI();
        });
    };
    $scope.getAtividadPublicidad = function(idtramite){
        var paramActividad = {
            "procedure_name":"AE.PUB_spListarPublicidades",
            "body":{"params": [
                {"name":"idActividadEconomica","param_type":"IN","value":idtramite}
            ]}
        };
        $scope.datos.swpublicidad = '';
        $scope.datos.publicidad = '' ;
        $scope.publicid = '' ;
        var obj=DreamFactory.api[CONFIG.SERVICEGENESIS].callStoredProcWithParams(paramActividad);
        obj.success(function(response){
            var mes=fecha.getMonth()+1;
            if(mes.toString().length==1)
                mes='0'+mes;
            var dia=fecha.getDate();
            if(dia.toString().length==1)
                dia='0'+dia;
            $scope.fechactuall= dia+ "/"+mes+ "/"+ fecha.getFullYear() ;
            $scope.publi_envio = [];
            for(j=0; j<response.length;j++) {
                total = parseInt(response[j].alto) * parseInt(response[j].ancho);
                $scope.publi_envio.push({
                    id: j+1, 
                    idPublicidad: response[j].idPublicidad,
                    idcarac: response[j].idTipoLetrero,
                    idcate: 6,//response[j].idCategoria,
                    id_cara:  parseInt(response[j].idCaracteristica),
                    INT_CATE: response[j].categoria,
                    INT_TIPO_LETRE: response[j].tipo,
                    INT_CARA: response[j].caracteristica,
                    INT_DESC: response[j].descripcion.toUpperCase(),
                    INT_SUP: response[j].superficieTotal,
                    INT_NRO_CARA: response[j].caras,
                    INT_ALTO: response[j].alto,
                    INT_ANCHO: response[j].ancho,
                    FECHAINICIO: $scope.fechactuall, //response[j].inicio
                    control_renovacion: 'R'
                    //INT_SUP:total
                });
            }
            //if ($scope.publi_envio[0]=='tipo') {
                $scope.publi_grilla = [];
                var encabezado = [];
                var indice = 1;
                encabezado[0] = {"tipo": "GRD","campos": "nroElem|INT_TIPO_LETRE|INT_CARA|INT_NRO_CARA|INT_DESC|INT_ALTO|INT_ANCHO|INT_SUP","titulos": "ID|Tipo de Letrero|Característica|Caras|Descripción|Alto|Ancho|Superficie","impresiones": "true|true|true|true|true|true|true|true|"};
                var nroElem = 0;
                var j=0;
                for(j=0; j<response.length;j++) {
                    total = parseInt(response[j].alto) * parseInt(response[j].ancho);
                    $scope.publi_grilla.push({
                        nroElem: j+1,
                        INT_NRO_CARA: response[j].caras,
                        INT_TIPO_LETRE: response[j].tipo,
                        INT_CARA: response[j].caracteristica,
                        INT_DESC: response[j].descripcion.toUpperCase(),
                        INT_ALTO: response[j].alto,
                        INT_ANCHO: response[j].ancho,
                        INT_SUP: response[j].superficieTotal
                    });
                }
                var jsonString = '['+ (encabezado) +']';
                //console.log($scope.publi_grilla);
                //console.log(">>>> ",jsonString);

                angular.forEach($scope.publi_grilla, function(value, key) {
                        encabezado[indice] = value;
                        indice = indice + 1;
                    }, log);
                $scope.datos.publicidad_grilla=encabezado;
            //}
            if(response.length > 0){
                $scope.datos.swpublicidad = 'CP';
                $scope.datos.publicidad = $scope.publi_envio;
               // $scope.datos.publicidad_grilla = $scope.publi_envio2;
                //console.log("2222222",$scope.datos.publicidad_grilla);
                console.log("publicidadada",$scope.datos.publicidad);
                $scope.publicid = $scope.publi_envio;
            }else{
                $scope.datos.swpublicidad = 'SP';
                $scope.datos.publicidad = '' ;
                $scope.publicid = '' ;
            }
            $scope.publi.INT_CATE="II Fija";
            $scope.publi.idcate=6;
            $scope.lssubcategoria();
            //console.log($scope.datos.publicidad);
            //console.log($scope.publicid);
            $.unblockUI();
        })
        obj.error(function(response){
            $.unblockUI();
        });
    }
    $scope.verificarJ = function(datos){
        console.log(datos);
        $.blockUI(); 
        var paramPersona = {
            "procedure_name":"GENERAL.spDatosContribuyente",
            "body":{"params": [
                            {"name":"idContribuyente","param_type":"IN","value":""},
                            {"name":"clase","param_type":"IN","value":""},
                            {"name":"padron","param_type":"IN","value":""},
                            {"name":"identificacion","param_type":"IN","value":""},
                            {"name":"primerNombre","param_type":"IN","value":""},
                            {"name":"primerApellido","param_type":"IN","value":""},
                            {"name":"segundoApellido","param_type":"IN","value":""},
                            {"name":"nit","param_type":"IN","value":datos.f01_num_doc_per_jur},
                            {"name":"empresa","param_type":"IN","value":""},
                            {"name":"p_accion","param_type":"IN","value":"C05"}
                            ]}
        };
        var obj=DreamFactory.api[CONFIG.SERVICEGENESIS].callStoredProcWithParams(paramPersona);
        obj.success(function(response){
            $.unblockUI();
            if(response.length > 0){ 
                $scope.datos = response[0];
                $scope.datos.f01_tipo_per = "J";
                $scope.nombreemp = $scope.datos.contribuyente;
                 $("#juridico").modal();
                 var buscarJuridico = new rcNatural();
                buscarJuridico.nit = datos.f01_num_doc_per_jur.toUpperCase();
                buscarJuridico.tipo_persona = "JURIDICO";
                buscarJuridico.buscarPersona(function(resultado){
                    resultadoApi = JSON.parse(resultado);
                    console.log(resultadoApi);
                    if(resultadoApi.length > 0){
                        console.log("if juridico",resultadoApi);                       
                    } else {
                        console.log("else juridico",resultadoApi);
                    }        
                });
            } else {
              /*  var buscarJuridico = new rcNatural();
                buscarJuridico.nit = datos.f01_num_doc_per_jur.toUpperCase();
                buscarJuridico.tipo_persona = "JURIDICO";
                buscarJuridico.buscarPersona(function(resultado){
                    resultadoApi = JSON.parse(resultado);
                    console.log(resultadoApi);
                    if(resultadoApi.length > 0){
                        $scope.datoss = resultadoApi[0];
                        $scope.nombreemp = $scope.datoss.dtspsl_razon_social;
                         $("#juridicom").modal();                        
                    } else {
                        $scope.obtDatos="";
                        $scope.tablaCiudadanos = null;
                        $scope.tablaEmpresas = null;
                    }      
                    $.unblockUI();  
                });*/ 
            } 
        })
        obj.error(function(response){  
            $.unblockUI();           
        });
    }
    $scope.buscarPersona = function (datos) {
        $.blockUI(); 
        var paramPersona = {
            "procedure_name":"GENERAL.spDatosContribuyente",
            "body":{"params": [
                            {"name":"idContribuyente","param_type":"IN","value":""},
                            {"name":"clase","param_type":"IN","value":""},
                            {"name":"padron","param_type":"IN","value":datos.vpmc},
                            {"name":"identificacion","param_type":"IN","value":datos.vci},
                            {"name":"primerNombre","param_type":"IN","value":datos.vnombre},
                            {"name":"primerApellido","param_type":"IN","value":datos.vappaterno},
                            {"name":"segundoApellido","param_type":"IN","value":datos.vapmaterno},
                            {"name":"nit","param_type":"IN","value":""},
                            {"name":"empresa","param_type":"IN","value":""},
                            {"name":"p_accion","param_type":"IN","value":"C01"}
                            ]}
        };
        var obj=DreamFactory.api[CONFIG.SERVICEGENESIS].callStoredProcWithParams(paramPersona);
        obj.success(function(response){
            $.unblockUI();
            console.log("response::::::", response);
            if(response.length > 0){ 
                $scope.tablaCiudadanos = "mostrar";
                $scope.tablaCiudadanosRC = null;

                $scope.obtDatos = response;
                console.log("data",response);
                sweet.show('', "Datos Encontrados !!!", 'success'); 
            } else {
                var buscarCiudadano = new rcNatural();
                buscarCiudadano.ci = datos.vci;
                buscarCiudadano.tipo_persona = "NATURAL";
                buscarCiudadano.buscarPersona(function(resultado){
                    resultadoApi = JSON.parse(resultado);
                    if(resultadoApi.length > 0){
                        sweet.show('', "Datos Encontrados en Registro Ciudadano!!!", 'success'); 
                        $scope.tablaCiudadanos = null;
                        $scope.tablaCiudadanosRC = "mostrar";
                        $scope.obtDatosRC = resultadoApi;
                        console.log(resultadoApi);
                    } else {
                        console.log(error);
                        sweet.show('', "No existe ningun ciudadano", 'error');
                    }      
                    $.unblockUI();  
                }); 
                $scope.obtDatos="";
                $scope.tablaCiudadanos = null;
                $scope.tablaEmpresas = null;
            } 

        
        })
        obj.error(function(response){  
            sweet.show('', "Datos no Encontrados !!!", 'warning');
            $.unblockUI();           
        });
    };
    $scope.buscarPersonaJ = function (datos) {
        $scope.tablaEmpresas = null;
        $scope.tablaCiudadanosRCE = null;
        console.log("datos.vpmc2    ",datos.vpmc2,"   datos.vnit   ",datos.vnit,"  datos.vrazonsocial  ",datos.vrazonsocial);
        $.blockUI(); 
        var paramPersona = {
            "procedure_name":"GENERAL.spDatosContribuyente",
            "body":{"params": [
                            {"name":"idContribuyente","param_type":"IN","value":""},
                            {"name":"clase","param_type":"IN","value":""},
                            {"name":"padron","param_type":"IN","value":datos.vpmc2},
                            {"name":"identificacion","param_type":"IN","value":""},
                            {"name":"primerNombre","param_type":"IN","value":""},
                            {"name":"primerApellido","param_type":"IN","value":""},
                            {"name":"segundoApellido","param_type":"IN","value":""},
                            {"name":"nit","param_type":"IN","value":datos.vnit},
                            {"name":"empresa","param_type":"IN","value":datos.vrazonsocial},
                            {"name":"p_accion","param_type":"IN","value":"C02"}
                            ]}
        };
        var obj=DreamFactory.api[CONFIG.SERVICEGENESIS].callStoredProcWithParams(paramPersona);
        obj.success(function(response){
            $.unblockUI();
            if(response.length > 0){ 
                $scope.tablaEmpresas = "mostrar";
                $scope.obtDatos = response;
                sweet.show('', "Datos Encontrados !!!", 'success'); 
            } else {
                //sweet.show('', "No existe ningun ciudadano", 'error');
                /*$scope.obtDatos="";
                $scope.tablaCiudadanos = null;
                $scope.tablaEmpresas = null;*/
                var buscarEmpresa = new rcJuridico();
                buscarEmpresa.nit = datos.vnit;
                buscarEmpresa.tipo_persona = "JURIDICO";
                buscarEmpresa.buscarJuridico(function(resultadoE){
                resultadoApiE = JSON.parse(resultadoE);
                    if(resultadoApiE.length > 0){
                        sweet.show('', "Datos Encontrados en Registro Ciudadano!!!", 'success'); 
                        $scope.tablaEmpresas = null;
                        $scope.tablaCiudadanosRCE = "mostrar";
                        $scope.obtDatosRC = resultadoApiE;
                        $.unblockUI();  
                    } else {
                        //console.log(error);
                        sweet.show('', "No existe ninguna persona Juridica", 'error');
                        $scope.obtDatos="";
                        $scope.tablaCiudadanos = null;
                        $scope.tablaEmpresas = null;
                        $.unblockUI();
                    }      
                });
            } 
        });
        obj.error(function(response){  
            var buscarEmpresa = new rcJuridico();
            buscarEmpresa.nit = datos.vnit;
            buscarEmpresa.tipo_persona = "JURIDICO";
            buscarEmpresa.buscarJuridico(function(resultadoE){
            resultadoApiE = JSON.parse(resultadoE);
                if(resultadoApiE.length > 0){
                    sweet.show('', "Datos Encontrados en Registro Ciudadano!!!", 'success'); 
                    $scope.tablaEmpresas = null;
                    $scope.tablaCiudadanosRCE = "mostrar";
                    $scope.obtDatosRC = resultadoApiE;
                    $.unblockUI();  
                } else {
                    console.log(error);
                    sweet.show('', "No existe ninguna persona Juridica", 'error');
                    $scope.obtDatos="";
                    $scope.tablaCiudadanos = null;
                    $scope.tablaEmpresas = null;
                    $.unblockUI();
                }      
            });  
        });  
    };

    /////////////////////////////////// FIN BUSCADOR DE PERSONA NATURAL - JURIDICA ///////////////////////////////////
    //////////////////////////////////////////////////////////////////////////////////////////////////////////
    /////////////////////////////////// RECUPERAR DATOS DE PERSONA NATURAL ///////////////////////////////////
    //////////////////////////////////////////////////////////////////////////////////////////////////////////
    $scope.verFormularioNatural = function (datos) {
        var datoslista = {};
        $scope.nuevoc = 1;
        var paramPersona = {
            "procedure_name":"GENERAL.spDatosIdPersona",
            "body":{"params": [
                            {"name":"idPersona","param_type":"IN","value":datos.idContribuyente},
                            {"name":"tipo","param_type":"IN","value":"FULL"}
                            ]}
        };

        var obj=DreamFactory.api[CONFIG.SERVICEGENESIS].callStoredProcWithParams(paramPersona);
        obj.success(function(response){
            $.unblockUI();
            if(response.length > 0){ 
                var datos = {}; 
                $scope.tablaEmpresas = "mostrar";
                $scope.formularioNatural = "mostrar";
                $scope.formularioJuridico = null; 
                $scope.tablaCiudadanos = null;
                $scope.tablaEmpresas = null;
                $scope.desabilitado = "true";
                angular.forEach(response, function(value, key) {
                    if(value == null || value =="undefined" || value =="UNDEFINED" || typeof(value)=='undefined' ) {
                        response[key] = "";
                    }
                }, log);
                datos.f01_id_contribuyente = response[0].idPersona;
                datoslista['idContribuyente'] = datos.f01_id_contribuyente;
                datoslista['personaclase'] = $scope.tipoDePersona;
                console.log("datoslista: ", datoslista);

                $scope.listadoAEContribuyente(datoslista);
                datos.f01_id_actividad_economica = "";
                datos.f01_nro_orden = "";
                
                datos.f01_num_pmc = response[0].padron;
                datos.f01_tipo_per = "N";
                datos.f01_tipo_per_desc = "NATURAL";
                datos.f01_nit_prop = response[0].nit;
                if(datos.f01_nit_prop != ""){
                    $scope.desabilitadonitc="true";
                } else {
                    datos.f01_nit_prop = " ";
                }
                datos.f01_tip_doc_prop = response[0].tipoIdentidad;
                if(datos.f01_tip_doc_prop != ""){
                    $scope.desabilitadotpc="true";
                }
                datos.f01_num_dos_prop = response[0].identificacion;
                if(datos.f01_num_dos_prop != ""){
                    $scope.desabilitadonroc="true";
                }
                $scope.actividadesReferencial();
                datos.f01_expedido_prop = response[0].expedicion;
                console.log("------------------------------------------------------77777777777777777");
                console.log(response[0].expedicion);
                console.log("------------------------------------------------------77777777777777777");
                if(datos.f01_expedido_prop != "" || datos.f01_expedido_prop.length > 1){
                    $scope.desabilitadoexp=true;
                } else {
                    $scope.desabilitadoexp=false;
                }
                datos.f01_pri_nom_prop = response[0].primerNombre;
                if(datos.f01_pri_nom_prop != ""){
                    $scope.desabilitadopric="true";
                } else {
                    datos.f01_pri_nom_prop = " ";
                }
                datos.f01_seg_nom_prop = response[0].segundoNombre;
                if(datos.f01_seg_nom_prop != ""){
                    $scope.desabilitadosegc="true";
                }  else {
                    datos.f01_seg_nom_prop = " ";
                }
                datos.f01_ter_nom_prop = response[0].tercerNombre;
                if(datos.f01_ter_nom_prop != ""){
                    $scope.desabilitadotresc="true";
                } else {
                    datos.f01_ter_nom_prop = " ";
                }
                datos.f01_ape_pat_prop = response[0].primerApellido;
                if(datos.f01_ape_pat_prop != ""){
                    $scope.desabilitadoapatc="true";
                } else {
                    datos.f01_ape_pat_prop = " ";
                }
                datos.f01_ape_mat_prop = response[0].segundoApellido;
                if(datos.f01_ape_mat_prop != ""){
                    $scope.desabilitadoamatc="true";
                } else {
                    datos.f01_ape_mat_prop = " ";
                }
                datos.f01_ape_cas_prop = response[0].tercerApellido;
                if(datos.f01_ape_cas_prop != ""){
                    $scope.desabilitadoacasc="true";
                } else {
                    datos.f01_ape_cas_prop = " ";
                }
                datos.f01_nac_prop = response[0].nacionalidad;
                if(datos.f01_nac_prop != ""){
                    $scope.desabilitadonacc="true";
                } else {
                    datos.f01_nac_prop = " ";
                }
                datos.f01_fecha_nac = response[0].fechaNacimiento ;
                if(datos.f01_fecha_nac != ""){
                    $scope.desabilitadofnacc="true";
                }
                datos.f01_telef_prop = response[0].telefono;
                if(datos.f01_telef_prop != ""){
                    $scope.desabilitadotelec="true";
                } else {
                    datos.f01_telef_prop = " ";
                }
                datos.f01_cel_prop = response[0].celular;
                if(datos.f01_cel_prop != ""){
                    $scope.desabilitadocelc="true";
                } else {
                    datos.f01_cel_prop = "0";
                }
                datos.f01_email_prop = response[0].email;
                if(datos.f01_email_prop != ""){
                    $scope.desabilitadocec="true";
                } else {
                    datos.f01_email_prop = " "; 
                }
                datos.f01_zon_prop = parseInt(response[0].idZona);
                if(datos.f01_zon_prop != ""){
                    $scope.desabilitadozonc="true";
                }
                datos.f01_zon_prop_descrip = response[0].zona;
                datos.f01_tip_via_prop = response[0].tipoVia;
                if(datos.f01_tip_via_prop != ""){
                    $scope.desabilitadotipc="true";
                } 
                datos.f01_nom_via_prop = response[0].via;
                if(datos.f01_nom_via_prop != ""){
                    $scope.desabilitadonomc="true";
                } else {
                    datos.f01_nom_via_prop = " ";
                }
                datos.f01_num_prop = response[0].numero;
                if(datos.f01_num_prop != ""){
                    $scope.desabilitadonrovc="true";
                } else {
                    datos.f01_num_prop = " ";
                }
                datos.f01_nom_edi_prop = response[0].edificio;
                if(datos.f01_num_prop != ""){
                    $scope.desabilitadonrovc="true";
                } else {
                    datos.f01_num_prop = " ";
                }
                datos.f01_bloq_prop = response[0].bloque;
                if(datos.f01_num_prop != ""){
                    $scope.desabilitadonrovc="true";
                } else {
                    datos.f01_num_prop = " ";
                }
                datos.f01_piso_prop = response[0].piso;
                if(datos.f01_num_prop != ""){
                    $scope.desabilitadonrovc="true";
                } else {
                    datos.f01_num_prop = " ";
                }
                datos.f01_depa_prop = response[0].departamento;
                if(datos.f01_num_prop != ""){
                    $scope.desabilitadonrovc="true";
                } else {
                    datos.f01_num_prop = " ";
                }
                datos.f01_dir_det_prop = response[0].direccionDetallada;
                if(datos.f01_num_prop != ""){
                    $scope.desabilitadonrovc="true";
                } else {
                    datos.f01_num_prop = " ";
                }
                $scope.datos = datos;
              //  sweet.show('', "Contribuyente encontrado", 'success');
                $scope.cabeceraNatural = true;
                $scope.cabeceraJuridico = false;
                $scope.mostrarFormulario = true;
                $scope.naturalForm = true;
                $scope.juridicoForm = false;
                $scope.tipoPersona = "OCULTAR";
                $scope.personaNatural = null;
                $scope.personaJuridica = null;
                $scope.tablaCiudadanos = null;
                $scope.tablaEmpresas = null;
                $scope.volverForm = true;
                $scope.btnGuardar = true;
                $rootScope.datosRequisitos = {};
                $rootScope.datosTecnicos = {};
                $scope.recuperarContri = 1;
            } 
            else 
            {
                sweet.show('', "No existen ninguno ciudadano", 'error');
                $scope.obtDatos = "";
                $scope.tablaCiudadanos = null;
                $scope.tablaEmpresas = null;
                $scope.formularioNatural = null;
                $scope.formularioJuridico = null;
                $scope.cabeceraNatural = false;
                $scope.cabeceraJuridico = false;
                $scope.mostrarFormulario = false;
                $scope.naturalForm = false;
                $scope.juridicoForm = false;
                $scope.volverForm = false;
                $scope.btnGuardar = false;
                $rootScope.datosRequisitos = {};
                $rootScope.datosTecnicos = {};
                $scope.recuperarContri = 0;
            } 
        })
        obj.error(function(response){  
            sweet.show('', "Datos no Encontrados !!!", 'warning');
            $.unblockUI();
        });
    };
    $scope.verFormularioNaturalM = function (datoss) {
        console.log(datoss);
        var datos = {}; 
        var datoslista = {}; 
        $scope.tablaEmpresas = "mostrar";
        $scope.formularioNatural = "mostrar";
        $scope.formularioJuridico = null; 
        $scope.tablaCiudadanos = null;
        $scope.tablaEmpresas = null;
        $scope.desabilitado = "true";
        datos.f01_id_contribuyente = "";
        datos.f01_id_actividad_economica = "";
        datos.f01_nro_orden = "";
        datos.f01_num_pmc = " ";
        datos.f01_tipo_per = "N";
        datos.f01_tipo_per_desc = "NATURAL";
        datos.f01_nit_prop = datoss.dtspsl_nit;
        datos.f01_tip_doc_prop = "CI";
        if(datos.f01_tip_doc_prop != ""){
            $scope.desabilitadotpc="true";
        }
        datos.f01_num_dos_prop = datoss.dtspsl_ci;
        if(datos.f01_num_dos_prop != ""){
            $scope.desabilitadonroc="true";
        }
        datos.f01_expedido_prop = datoss.dtspsl_expedido;
        if(datos.f01_expedido_prop != ""){
            $scope.desabilitadoexp="true";
        }
        datos.f01_pri_nom_prop = datoss.dtspsl_nombres;
        if(datos.f01_pri_nom_prop != ""){
            $scope.desabilitadopric="true";
        }
        datos.f01_seg_nom_prop = "";
        datos.f01_ter_nom_prop = "";
        datos.f01_ape_pat_prop = datoss.dtspsl_paterno;
        if(datos.f01_ape_pat_prop != ""){
            $scope.desabilitadoapatc="true";
        }
        datos.f01_ape_mat_prop = datoss.dtspsl_materno;
        if(datos.f01_ape_mat_prop != ""){
            $scope.desabilitadoamatc="true";
        }
        datos.f01_ape_cas_prop = datoss.dtspsl_tercer_apellido;
        datos.f01_nac_prop = "";
        if(datos.f01_nac_prop != ""){
            $scope.desabilitadonacc="true";
        }
        datos.f01_fecha_nac = datoss.dtspsl_fec_nacimiento ;
        if(datos.f01_fecha_nac != ""){
            $scope.desabilitadofnacc="true";
        }
        datos.f01_telef_prop = datoss.dtspsl_telefono;
        datos.f01_cel_prop = datoss.dtspsl_movil;
        if(datos.f01_cel_prop != ""){
            $scope.desabilitadocelc="true";
        }
        datos.f01_email_prop = datoss.dtspsl_correo;
        if(datos.f01_email_prop != ""){
            $scope.desabilitadocec="true";
        }
        datos.f01_zon_prop = parseInt(datoss.dtspsl_zona);
        if(datos.f01_zon_prop != ""){
            $scope.desabilitadozonc="true";
        }
        datos.f01_zon_prop_descrip = datoss.zona;
        datos.f01_tip_via_prop = datoss.dtspsl_tipo_via;
        if(datos.f01_tip_via_prop != ""){
            $scope.desabilitadotipc="true";
        }
        datos.f01_nom_via_prop = datoss.dtspsl_nombre_via;
        if(datos.f01_nom_via_prop != ""){
            $scope.desabilitadonomc="true";
        }
        datos.f01_num_prop = datoss.dtspsl_numero_casa;
        if(datos.f01_num_prop != ""){
            $scope.desabilitadonrovc="true";
        }
        datos.f01_nom_edi_prop = datoss.edificio;
        datos.f01_bloq_prop = datoss.bloque;
        datos.f01_piso_prop = datoss.piso;
        datos.f01_depa_prop = datoss.departamento;
        datos.f01_dir_det_prop = datoss.dtspsl_direccion;
        $scope.datos = datos;
        $scope.cabeceraNatural = true;
        $scope.cabeceraJuridico = false;
        $scope.mostrarFormulario = true;
        $scope.naturalForm = true;
        $scope.juridicoForm = false;
        //$scope.actividadesReferencial();
        console.log(" datos.f01_id_contribuyente: ", datos.f01_id_contribuyente);
        datoslista['idContribuyente'] = $scope.datos.f01_id_contribuyente;
        datoslista['personaclase'] = $scope.datos.f01_tipo_per;
        console.log("datoslista: ", datoslista);
        $scope.listadoAEContribuyente(datoslista);
        $scope.tipoPersona = "OCULTAR";
        $scope.personaNatural = null;
        $scope.personaJuridica = null;
        $scope.tablaCiudadanos = null;
        $scope.tablaEmpresas = null;
        $scope.volverForm = true;
        $scope.btnGuardar = true;
        $rootScope.datosRequisitos = {};
        $rootScope.datosTecnicos = {};
        $scope.recuperarContri = 1;
    };
    /////////////////////////////////// FIN RECUPERAR DATOS DE PERSONA NATURAL ///////////////////////////////////
    //////////////////////////////////////////////////////////////////////////////////////////////////////////
    /////////////////////////////////// RECUPERAR DATOS DE PERSONA NATURAL ///////////////////////////////////
    //////////////////////////////////////////////////////////////////////////////////////////////////////////
    $scope.verFormularioJuridico = function (datos) {
        //// 7815920
        //// 1015403021
        var paramPersonaJuridica = {
            "procedure_name":"GENERAL.spDatosIdEmpresa",
            "body":{"params": [
                {"name":"idContribuyente","param_type":"IN","value":datos.idContribuyente},
                {"name":"tipo","param_type":"IN","value":"FULL"}
            ]}
        };
        var obj=DreamFactory.api[CONFIG.SERVICEGENESIS].callStoredProcWithParams(paramPersonaJuridica);
        obj.success(function(response){
            if(response.length > 0){ 
                /////////////////////////////////// representante legal ///////////////////////////////////
                    var paramRepLegal = {
                        "procedure_name":"GENERAL.spDatosRepresentanteLegalEmpresa",
                        "body":{"params": [
                                    {"name":"idContribuyente","param_type":"IN","value":datos.idContribuyente}
                        ]}
                    };
                    var obj=DreamFactory.api[CONFIG.SERVICEGENESIS].callStoredProcWithParams(paramRepLegal);
                    obj.success(function(responseLegal){
                        $.unblockUI();
                        console.log("responselegallll",responseLegal);
                        if(response.length > 0){ 
                            var datos = {}; 
                            var datoslista = {}; 

                            $scope.tablaEmpresas = "mostrar";
                            $scope.formularioNatural = "mostrar";
                            $scope.formularioJuridico = null; 
                            $scope.tablaCiudadanos = null;
                            $scope.tablaEmpresas = null;
                            $scope.desabilitado = "true";
                            datos.f01_id_contribuyente = response[0].idEmpresa;
                            datos.f01_id_actividad_economica = "";
                            datos.f01_nro_orden = "";
                            datos.f01_num_pmc = response[0].padron;
                            datos.f01_tipo_per = "J";
                            datos.f01_tipo_per_desc = "JURIDICO";
                            datos.f01_num_doc_per_jur = response[0].nit;
                            datos.f01_raz_soc_per_jur = response[0].empresa;
                            datos.f01_id_representante_legal = responseLegal[0].idRepresentanteLegal;
                            datos.f01_tip_doc_rep = responseLegal[0].tipoIdentidad;
                            datos.f01_num_doc_rep = responseLegal[0].identificacion;
                            datos.f01_expedido_rep = responseLegal[0].expedicion;
                            datos.f01_pri_nom_rep = responseLegal[0].primerNombre;
                            datos.f01_seg_nom_rep = responseLegal[0].segundoNombre;
                            datos.f01_ter_nom_rep = responseLegal[0].tercerNombre;
                            datos.f01_ape_pat_rep = responseLegal[0].primerApellido;
                            datos.f01_ape_mat_rep = responseLegal[0].segundoApellido;
                            datos.f01_ape_cas_rep = responseLegal[0].tercerApellido;
                            datos.f01_telef_rep = response[0].telefono;
                            datos.f01_cel_rep = responseLegal[0].celular;
                            datos.f01_email_rep = responseLegal[0].correoElectronico;
                            datos.f01_id_zona_rep = parseInt(responseLegal[0].idZona);
                            datos.f01_zona_rep = responseLegal[0].zona;
                            datos.f01_tipo_viarep = responseLegal[0].tipoVia;
                            datos.f01_nom_via_rep = responseLegal[0].via;
                            datos.f01_num_rep = responseLegal[0].numeroVia;
                            datos.f01_ges_vig_pod = responseLegal[0].gestionPoder;
                            datos.f01_num_pod_leg = responseLegal[0].numeroPoder;
                            datos.f01_num_not = responseLegal[0].numeroNotaria;
                            $scope.nuevoj = 1;
                            $scope.datos = datos;
                            sweet.show('', "Contribuyente juridico encontrado", 'success');
                            $scope.cabeceraNatural = false;
                            $scope.cabeceraJuridico = true;
                            $scope.mostrarFormulario = true;
                            $scope.naturalForm = false;
                            $scope.juridicoForm = true;
                            console.log(" datos.f01_id_contribuyente: ", datos.f01_id_contribuyente);
                            datoslista['idContribuyente'] = datos.f01_id_contribuyente;
                            datoslista['personaclase'] = $scope.tipoDePersona;
                            console.log("datoslista: ", datoslista);
                            $scope.listadoAEContribuyente(datoslista)
                            //$scope.actividadesReferencial();
                            $scope.tipoPersona = "OCULTAR";
                            $scope.personaNatural = null;
                            $scope.personaJuridica = null;
                            $scope.tablaCiudadanos = null;
                            $scope.tablaEmpresas = null;
                            $scope.volverForm = true;
                            $scope.btnGuardar = true;
                            $rootScope.datosRequisitos = {};
                            $rootScope.datosTecnicos = {};
                            $scope.recuperarContri = 1;
                        } 
                        else 
                        {
                            $scope.obtDatos = "";
                            $scope.tablaCiudadanos = null;
                            $scope.tablaEmpresas = null;
                            $scope.formularioNatural = null;
                            $scope.formularioJuridico = null;
                            $scope.cabeceraNatural = false;
                            $scope.cabeceraJuridico = false;
                            $scope.mostrarFormulario = false;
                            $scope.naturalForm = false;
                            $scope.juridicoForm = false;
                            sweet.show('', "No existen ninguno ciudadano", 'error');
                            $scope.volverForm = false;
                            $scope.btnGuardar = false;
                            $rootScope.datosRequisitos = {};
                            $rootScope.datosTecnicos = {};
                            $scope.recuperarContri = 0;
                        } 
                    })
                    obj.error(function(response){  
                        sweet.show('', "Datos no Encontrados !!!", 'warning');
                        $.unblockUI();
                    });

                /////////////////////////////////// representante legal ///////////////////////////////////
            } 
            else 
            {
                $scope.obtDatos = "";
                $scope.tablaCiudadanos = null;
                $scope.tablaEmpresas = null;
                $scope.formularioNatural = null;
                $scope.formularioJuridico = null;
                $scope.cabeceraNatural = false;
                $scope.cabeceraJuridico = false;
                $scope.mostrarFormulario = false;
                $scope.naturalForm = false;
                $scope.juridicoForm = false;
                sweet.show('', "No existen ninguno ciudadano", 'error');
            } 
            $.unblockUI();    
        })
        obj.error(function(response){  
            sweet.show('', "Datos no Encontrados !!!", 'warning');
            $.unblockUI();
        });
    };
    $scope.cargardatosj = function (datos) {
        console.log(datos.idContribuyente)
        datos.idContribuyente = parseInt(datos.idContribuyente);
        var paramPersonaJuridica = {
            "procedure_name":"GENERAL.spDatosIdEmpresa",
            "body":{"params": [
            {"name":"idContribuyente","param_type":"IN","value":datos.idContribuyente},
            {"name":"tipo","param_type":"IN","value":"FULL"}
            ]}
        };
        var obj=DreamFactory.api[CONFIG.SERVICEGENESIS].callStoredProcWithParams(paramPersonaJuridica);
        obj.success(function(response){
            var paramRepLegal = {
                "procedure_name":"GENERAL.spDatosRepresentanteLegalEmpresa",
                "body":{"params": [
                {"name":"idContribuyente","param_type":"IN","value":datos.idContribuyente}
                ]}
            };
            var obj=DreamFactory.api[CONFIG.SERVICEGENESIS].callStoredProcWithParams(paramRepLegal);
            obj.success(function(responseLegal){
                $scope.datos.f01_id_contribuyente = response[0].idEmpresa;
                $scope.datos.f01_id_actividad_economica = "";
                $scope.datos.f01_nro_orden = "";
                $scope.datos.f01_num_pmc = response[0].padron;
                $scope.datos.f01_tipo_per = "J";
                $scope.datos.f01_tipo_per_desc = "JURIDICO";
                $scope.datos.f01_num_doc_per_jur = response[0].nit;
                $scope.datos.f01_raz_soc_per_jur = response[0].empresa;
                $scope.datos.f01_id_representante_legal = responseLegal[0].idRepresentanteLegal;
                $scope.datos.f01_tip_doc_rep = responseLegal[0].tipoIdentidad;
                $scope.datos.f01_num_doc_rep = responseLegal[0].identificacion;
                $scope.datos.f01_expedido_rep = responseLegal[0].expedicion;
                $scope.datos.f01_pri_nom_rep = responseLegal[0].primerNombre;
                $scope.datos.f01_seg_nom_rep = responseLegal[0].segundoNombre;
                $scope.datos.f01_ter_nom_rep = responseLegal[0].tercerNombre;
                $scope.datos.f01_ape_pat_rep = responseLegal[0].primerApellido;
                $scope.datos.f01_ape_mat_rep = responseLegal[0].segundoApellido;
                $scope.datos.f01_ape_cas_rep = responseLegal[0].tercerApellido;
                $scope.datos.f01_telef_rep = response[0].telefono;
                $scope.datos.f01_cel_rep = responseLegal[0].celular;
                $scope.datos.f01_email_rep = responseLegal[0].correoElectronico;
                $scope.datos.f01_id_zona_rep = parseInt(responseLegal[0].idZona);
                $scope.datos.f01_zona_rep = responseLegal[0].zona;
                $scope.datos.f01_tipo_viarep = responseLegal[0].tipoVia;
                $scope.datos.f01_nom_via_rep = responseLegal[0].via;
                $scope.datos.f01_num_rep = responseLegal[0].numeroVia;
                $scope.datos.f01_ges_vig_pod = responseLegal[0].gestionPoder;
                $scope.datos.f01_num_pod_leg = responseLegal[0].numeroPoder;
                $scope.datos.f01_num_not = responseLegal[0].numeroNotaria;
                $scope.cargarDatos($scope.datos);
                $scope.guardarData($scope.datos);
            })
            obj.error(function(response){  
                sweet.show('', "Datos no Encontrados !!!", 'warning');
                $.unblockUI();
            });
        })
        obj.error(function(response){  
            sweet.show('', "Datos no Encontrados !!!", 'warning');
            $.unblockUI();
        });
    };
    $scope.verFormularioJuridicoM = function (datoss) {
        var datos = {}; 
        var datoslista = {};
        $scope.tablaEmpresas = "mostrar";
        $scope.formularioNatural = "mostrar";
        $scope.formularioJuridico = null; 
        $scope.tablaCiudadanos = null;
        $scope.tablaEmpresas = null;
        $scope.desabilitado = "true";
        datos.f01_id_contribuyente = "";
        datos.f01_id_actividad_economica = "";
        datos.f01_nro_orden = "";
        datos.f01_num_pmc = "";
        datos.f01_tipo_per = "J";
        datos.f01_tipo_per_desc = "JURIDICO";
        datos.f01_num_doc_per_jur = datoss.dtspsl_nit;
        datos.f01_raz_soc_per_jur = datoss.dtspsl_razon_social;
        datos.f01_id_representante_legal = datoss.idRepresentanteLegal;
        datos.f01_tip_doc_rep = "CI";
        datos.f01_num_doc_rep = datoss.dtspsl_ci_representante;
        datos.f01_expedido_rep = "";
        datos.f01_pri_nom_rep = datoss.primerNombre;
        datos.f01_seg_nom_rep = datoss.segundoNombre;
        datos.f01_ter_nom_rep = datoss.tercerNombre;
        datos.f01_ape_pat_rep = datoss.primerApellido;
        datos.f01_ape_mat_rep = datoss.segundoApellido;
        datos.f01_ape_cas_rep = datoss.tercerApellido;
        datos.f01_telef_rep = datoss.telefono;
        datos.f01_cel_rep = datoss.celular;
        datos.f01_email_rep = datoss.correoElectronico;
        datos.f01_id_zona_rep = parseInt(datoss.idZona);
        datos.f01_zona_rep = datoss.zona;
        datos.f01_tipo_viarep = datoss.tipoVia;
        datos.f01_nom_via_rep = datoss.via;
        datos.f01_num_rep = datoss.numeroVia;
        datos.f01_ges_vig_pod = datoss.gestionPoder;
        datos.f01_num_pod_leg = datoss.numeroPoder;
        datos.f01_num_not = datoss.numeroNotaria;
        $scope.datos = datos;
        sweet.show('', "Contribuyente juridico encontrado", 'success');
        $scope.cabeceraNatural = false;
        $scope.cabeceraJuridico = true;
        $scope.mostrarFormulario = true;
        $scope.naturalForm = false;
        $scope.juridicoForm = true;
        $scope.actividadesReferencial();
        /*console.log(" datos.f01_id_contribuyente: ", datos.f01_id_contribuyente);
        datoslista['idContribuyente'] = $scope.datos.f01_id_contribuyente;
        datoslista['personaclase'] = $scope.datos.f01_tipo_per;
        console.log("datoslista: ", datoslista);
        $scope.listadoAEContribuyente(datoslista);*/


        $scope.tipoPersona = "OCULTAR";
        $scope.personaNatural = null;
        $scope.personaJuridica = null;
        $scope.tablaCiudadanos = null;
        $scope.tablaEmpresas = null;
        $scope.volverForm = true;
        $scope.btnGuardar = true;
        $rootScope.datosRequisitos = {};
        $rootScope.datosTecnicos = {};
        $scope.recuperarContri = 1;
    };
    //[AE].[spCActividadEconomicaContribuyenteSimgep] '" + idContribuyente + "','" + tipo + "'";
     $scope.actividadesReferencial = function () {
        try{
            var actEco = new actividadesContribuyente();
            actEco.idContribuyente = $scope.datos.f01_id_contribuyente;
            actEco.tipo = $scope.datos.f01_tipo_per;
                actEco.lstActividadesEconomicas(function(resultado){
                    console.log("resultado: ", resultado);
                    var resp    =   JSON.parse(resultado);
                    console.log("resultado2: ", resultado);
                    if(resp.success.dataSql.length > 0){
                        $scope.obtDatosRef = resp.success.dataSql;
                        $scope.obtDatosCont = resp.success.dataSql;
                    }
                });
        }catch(e){
            $.unblockUI();
        }
        /*
        var paramPersonaJuridica = {
            "procedure_name":"AE.spCActividadEconomicaContribuyenteSimgep",
            "body":{"params": [
                {"name":"idContribuyente","param_type":"IN","value":$scope.datos.f01_id_contribuyente},
                {"name":"tipo","param_type":"IN","value":$scope.datos.f01_tipo_per}
            ]}
        };
        console.log("******************************************************");
        console.log("******************************************************");
        console.log("******************************************************");
        console.log(paramPersonaJuridica.body);
        console.log("******************************************************");
        console.log("******************************************************");
        console.log("******************************************************");
        var obj=DreamFactory.api[CONFIG.SERVICEGENESIS].callStoredProcWithParams(paramPersonaJuridica);
        obj.success(function(response){
            $scope.obtDatosRef = response
            console.log("Actividad Referencial",response);
        })
        obj.error(function(response){  
            sweet.show('', "Datos no Encontrados !!!", 'warning');
            $.unblockUI();
        });
        */
    };
    /////////////////////////////////// FIN RECUPERAR DATOS DE PERSONA NATURAL ///////////////////////////////////
    /*$scope.formBlanco = function(){
        $scope.datos = {"f01_num_pmc":"", "f01_id_contribuyente":"", "f01_tipo_per":"", 
        "f01_nit_prop":"", "f01_tip_doc_prop":"", "f01_num_dos_prop":"", "f01_expedido_prop":"", "f01_pri_nom_prop":"", 
        "f01_seg_nom_prop":"", "f01_ter_nom_prop":"", "f01_ape_pat_prop":"", "f01_ape_mat_prop":"", "f01_ape_cas_prop":"",
        "f01_nac_prop":"", "f01_fecha_nac":"", "f01_telef_prop":"", "f01_cel_prop":"", "f01_email_prop":"",
        "f01_zon_prop":"", "f01_zon_prop_descrip":"", "f01_tip_via_prop":"", "f01_nom_via_prop":"", "f01_num_prop":"",
        "f01_nom_edi_prop":"", "f01_bloq_prop":"", "f01_piso_prop":"", "f01_depa_prop":"", "f01_dir_det_prop":"",
        "f01_raz_soc_per_jur":"", "f01_num_doc_per_jur":"", "f01_tip_doc_rep":"", "f01_num_doc_rep":"", "f01_expedido_rep":"",
        "f01_id_representante_legal":"", "f01_pri_nom_rep":"", "f01_seg_nom_rep":"", "f01_ter_nom_rep":"", "f01_ape_pat_rep":"",
        "f01_ape_mat_rep":"", "f01_ape_cas_rep":"", "f01_telef_rep":"", "f01_cel_rep":"", "f01_email_rep":"",
        "f01_zona_rep":"", "f01_id_zona_rep":"", "f01_tipo_viarep":"", "f01_nom_via_rep":"", "f01_num_rep":"",
        "f01_ges_vig_pod":"", "f01_num_pod_leg":"", "f01_num_not":"", 
        "f01_id_actividad_economica":"", "f01_nit":"", "f01_raz_soc":"", "f01_sup":"", "f01_cap_aprox":"",
        "f01_de_hor":"", "f01_a_hor":"", "f01_fecha_ini_act":"", "f01_estab_es":"", "f01_macro_act_descrip":"",
        "f01_macro_act":"", "f01_id_area_recuadadora":"", "f01_dist_act_descrip":"", "f01_dist_act":"", "f01_tip_via_act":"",
        "f01_zona_act_descrip":"", "f01_zona_act":"", "f01_num_act":"", "f01_num_act1":"", "f01_edificio_act":"",
        "f01_bloque_act":"", "f01_piso_act":"", "f01_dpto_of_loc":"", "f01_tel_act1":"", "f01_cod_luz":"",
        "f01_idCodigoZona":"", "f01_casilla":"", "f01_productosElaborados":"", "f01_actividadesSecundarias":"", "f01_factor":"",
        "f01_hojas_recibidas":"", "f01_observaciones_i":"",
        "f01_tip_act":"", "f01_categoria":"", "f01_categoria_descrip":"", "f01_tipo_lic_descrip":"", "f01_tipo_lic":"",
        "f01_zon_seg":"", "f01_categoria_agrupada":"", "f01_categoria_agrupada_descripcion":""};
    };*/
    $scope.nuevoForm = function () {
        $scope.obtDatosRef = [];
        $scope.datos= {};
        $rootScope.datosRequisitos = {};
        $rootScope.datosTecnicos = {};
        //$scope.formBlanco();

        if($scope.tipoDePersona == "N")
        {
            $scope.tablaEmpresas = "mostrar";
            $scope.formularioNatural = "mostrar";
            $scope.formularioJuridico = null; 
            $scope.tablaCiudadanos = null;
            $scope.tablaCiudadanosRC = null;
            $scope.tablaCiudadanosRCE = null;
            $scope.tablaEmpresas = null;
            $scope.desabilitadotpc = false;
            $scope.desabilitadonroc = false;
            $scope.desabilitadoexp = false;
            $scope.desabilitadopric = false;
            $scope.desabilitadoapatc = false;
            $scope.desabilitadoamatc = false;
            $scope.desabilitadonacc = false;
            $scope.desabilitadofnacc = false;
            $scope.desabilitadocelc = false;
            $scope.desabilitadocec = false;
            $scope.desabilitadozonc = false;
            $scope.desabilitadotipc = false;
            $scope.desabilitadonomc = false;
            $scope.desabilitadonrovc = false;
            $scope.desabilitado = false;
            $scope.cabeceraNatural = true;
            $scope.cabeceraJuridico = false;
            $scope.mostrarFormulario = true;
            $scope.naturalForm = true;
            $scope.juridicoForm = false;
            $scope.tipoPersona = "OCULTAR";
            $scope.personaNatural = null;
            $scope.personaJuridica = null;
            $scope.volverForm = true;
            $scope.datos.f01_tipo_per = "N";
            $scope.datos.f01_tipo_per_desc = "NATURAL";
            $scope.btnGuardar = true;
            $scope.recuperarContri = 0;
        }
        else
        {
            if($scope.tipoDePersona == "J")
            {
                $scope.tablaEmpresas = "mostrar";
                $scope.formularioNatural = "mostrar";
                $scope.formularioJuridico = null; 
                $scope.tablaCiudadanos = null;
                $scope.tablaEmpresas = null;
                $scope.desabilitado = false;
                $scope.cabeceraNatural = false;
                $scope.cabeceraJuridico = true;
                $scope.mostrarFormulario = true;
                $scope.naturalForm = false;
                $scope.juridicoForm = true;
                $scope.tipoPersona = "OCULTAR";
                $scope.personaNatural = null;
                $scope.personaJuridica = null;
                $scope.volverForm = true;
                $scope.datos.f01_tipo_per = "J";
                $scope.datos.f01_tipo_per_desc = "JURIDICO";
                $scope.btnGuardar = true;
                $scope.recuperarContri = 0;
            }
        }
    };
     $scope.nuevoFormRC = function (datos) {
        $scope.obtDatosRef = [];
        $scope.datos= {};
        $rootScope.datosRequisitos = {};
        $rootScope.datosTecnicos = {};
        //$scope.formBlanco();
        if(datos.dtspsl_tipo_persona == "NATURAL")
        {
            $scope.formularioNatural = "mostrar";
            $scope.formularioJuridico = null; 
            $scope.tablaCiudadanos = null;
            $scope.tablaCiudadanosRC = null;
            $scope.tablaCiudadanosRCE = null;
            $scope.tablaEmpresas = null;
            $scope.desabilitadotpc = false;
            $scope.desabilitadonroc = false;
            $scope.desabilitadoexp = false;
            $scope.desabilitadopric = false;
            $scope.desabilitadoapatc = false;
            $scope.desabilitadoamatc = false;
            $scope.desabilitadonacc = false;
            $scope.desabilitadofnacc = false;
            $scope.desabilitadocelc = false;
            $scope.desabilitadocec = false;
            $scope.desabilitadozonc = false;
            $scope.desabilitadotipc = false;
            $scope.desabilitadonomc = false;
            $scope.desabilitadonrovc = false;
            $scope.desabilitado = false;
            $scope.cabeceraNatural = true;
            $scope.cabeceraJuridico = false;
            $scope.mostrarFormulario = true;
            $scope.naturalForm = true;
            $scope.juridicoForm = false;
            $scope.tipoPersona = "OCULTAR";
            $scope.personaNatural = null;
            $scope.personaJuridica = null;
            $scope.volverForm = true;
            $scope.datos.f01_tipo_per = "N";
            $scope.datos.f01_tipo_per_desc = "NATURAL";
            if (datos.dtspsl_complemento)
                X = datos.dtspsl_complemento.trim();
            else
                X = "";
            $scope.datos.f01_tip_doc_prop = "CI";
            if(X.length > 0)
                $scope.datos.f01_num_dos_prop = datos.dtspsl_ci + "-" + datos.dtspsl_complemento;
            else
                $scope.datos.f01_num_dos_prop = datos.dtspsl_ci;
            $scope.datos.f01_expedido_prop = datos.dtspsl_expedido;
            $scope.datos.f01_pri_nom_prop = datos.dtspsl_nombres;
            $scope.datos.f01_ape_pat_prop = datos.dtspsl_paterno;
            $scope.datos.f01_ape_mat_prop = datos.dtspsl_materno;
            $scope.datos.f01_ape_cas_prop = datos.dtspsl_tercer_apellido;
            fecha = new Date(datos.dtspsl_fec_nacimiento);
            if (fecha.getDate()<10)
                dia = "0" + fecha.getDate();
            else
                dia = fecha.getDate();
            if (fecha.getMonth()<9)
                mes = "0" + parseInt(fecha.getMonth() + 1);
            else
                mes = parseInt(fecha.getMonth() + 1);
            $scope.datos.f01_fecha_nac = dia + "/" + mes + "/" + fecha.getFullYear() ;

            $scope.datos.f01_telef_prop = datos.dtspsl_telefono;
            $scope.datos.f01_cel_prop = datos.dtspsl_movil;
            $scope.datos.f01_email_prop = datos.dtspsl_correo;
            $scope.datos.f01_zon_prop = datos.dtspsl_zona;
            //$scope.datos.f01_zon_prop_descrip= datos.dtspsl_zona_desc;
            var combo = document.getElementById("f01_zon_prop");
            var selected = combo.options[combo.selectedIndex].text;
            $scope.datos.f01_zon_prop_descrip= selected; 
           // $scope.zonaRC = datos.dtspsl_zona_desc;
            $scope.datos.f01_tip_via_prop = datos.dtspsl_tipo_via;
            $scope.datos.f01_nom_via_prop = datos.dtspsl_nombre_via;
            $scope.datos.f01_num_prop = datos.dtspsl_numero_casa;
            $scope.datos.f01_nom_edi_prop = datos.dtspsl_edificio;
            $scope.datos.f01_bloq_prop = datos.dtspsl_bloque;
            $scope.datos.f01_piso_prop = datos.dtspsl_piso;
            $scope.datos.f01_depa_prop = datos.dtspsl_oficina;
            $scope.datos.f01_dir_det_prop = datos.dtspsl_direccion;
            $scope.btnGuardar = true;
            $scope.recuperarContri = 0;
        } else {
            if(datos.dtspsl_tipo_persona  == "JURIDICO")
            {
                /*
                $scope.tablaEmpresas = "mostrar";
                $scope.formularioNatural = "mostrar";
                $scope.formularioJuridico = null; 
                $scope.tablaCiudadanos = null;
                $scope.tablaEmpresas = null;
                */
                $scope.formularioNatural = "mostrar";
                $scope.formularioJuridico = null; 
                $scope.tablaCiudadanos = null;
                $scope.tablaCiudadanosRC = null;
                $scope.tablaCiudadanosRCE = null;
                $scope.tablaEmpresas = null;
                $scope.desabilitado = false;
                $scope.cabeceraNatural = false;
                $scope.cabeceraJuridico = true;
                $scope.mostrarFormulario = true;
                $scope.naturalForm = false;
                $scope.juridicoForm = true;
                $scope.tipoPersona = "OCULTAR";
                $scope.personaNatural = null;
                $scope.personaJuridica = null;
                $scope.volverForm = true;                
                $scope.datos.f01_tipo_per = "J";
                $scope.datos.f01_tipo_per_desc = "JURIDICO";
                $scope.btnGuardar = true;
                $scope.recuperarContri = 0;
                $scope.datos.f01_num_doc_per_jur = datos.dtspsl_nit;
                $scope.datos.f01_raz_soc_per_jur = datos.dtspsl_razon_social;
                $scope.datos.f01_tip_doc_rep = "CI";
                $scope.datos.f01_num_doc_rep = datos.dtspsl_ci_representante;
                $scope.datos.f01_expedido_rep = -1;
                vectorNombre = datos.dtspsl_representante.split(" ");
                if (vectorNombre.length = 4) {
                        $scope.datos.f01_pri_nom_rep = vectorNombre[0];
                        $scope.datos.f01_seg_nom_rep = vectorNombre[1];;
                        $scope.datos.f01_ter_nom_rep = "";
                        $scope.datos.f01_ape_pat_rep = vectorNombre[2];
                        $scope.datos.f01_ape_mat_rep = vectorNombre[3];
                } else{
                    if (vectorNombre.length = 3) {
                        $scope.datos.f01_pri_nom_rep = vectorNombre[0];
                        $scope.datos.f01_seg_nom_rep = "";
                        $scope.datos.f01_ter_nom_rep = "";
                        $scope.datos.f01_ape_pat_rep = vectorNombre[1];
                        $scope.datos.f01_ape_mat_rep = vectorNombre[2];
                    } else{
                        $scope.datos.f01_pri_nom_rep = datos.dtspsl_representante;
                        $scope.datos.f01_seg_nom_rep = "";
                        $scope.datos.f01_ter_nom_rep = "";
                        $scope.datos.f01_ape_pat_rep = datos.dtspsl_representante;
                        $scope.datos.f01_ape_mat_rep = datos.dtspsl_representante;
                }
                }
                $scope.datos.f01_telef_rep = datos.dtspsl_telefono;
                $scope.datos.f01_cel_rep = datos.dtspsl_movil;
                $scope.datos.f01_email_rep = datos.dtspsl_correo;
                $scope.datos.f01_num_pod_leg = datos.dtspsl_poder_replegal;
                $scope.datos.f01_num_not = datos.dtspsl_nro_notaria;
                $scope.datos.f01_id_zona_rep = datos.dtspsl_zona;
                $scope.datos.f01_id_zona_rep_desc = datos.dtspsl_zona_desc;
                $scope.datos.f01_tipo_viarep = datos.dtspsl_tipo_via;
                $scope.datos.f01_nom_via_rep = datos.dtspsl_nombre_via;
                $scope.datos.f01_num_rep = datos.dtspsl_numero_casa;

            }
        }
    };
    /*
        $scope.cargarDatosActividad = function (datosAct) {
        console.log(".... joder ....",datosAct);
        console.log("mostrar 2",datosAct.IdActividad);
        console.log("mostrar 3",$scope.datos.f01_tipo_per);
        var paramActividad = {
            "procedure_name":"AE.spDatosGeneralesActividadEconomicaSimgep",
            "body":{"params": [
                {"name":"idActividadEconomica","param_type":"IN","value":datosAct.IdActividad},
                {"name":"tipo","param_type":"IN","value":$scope.datos.f01_tipo_per}
            ]}
        };
        var obj=DreamFactory.api[CONFIG.SERVICEGENESIS].callStoredProcWithParams(paramActividad);
        obj.success(function(response){
            console.log("responseeeeeee    ",response);
            //$scope.obtDatosRef = response
            if(response.length > 0)
            {
              if(response[0].deudaActividad != 'DEUDA DE GESTION EN MORA')
              {
                $scope.datos.f01_id_actividad_economica = datosAct.IdActividad;
                $scope.datos.f01_nit = response[0].identificacion;
                $scope.datos.f01_raz_soc = response[0].denominacion;
                $scope.datos.f01_sup = parseFloat(response[0].superficie).toFixed(2);
                $scope.datos.f01_cap_aprox = parseFloat(response[0].capacidad).toFixed(2);

                var horarioA = "";
                if(response[0].horarioAtencion != "NINGUNO" && response[0].horarioAtencion != "" && response[0].horarioAtencion != null)
                {
                    horarioA = response[0].horarioAtencion.split("-");
                    $scope.datos.f01_de_hor = horarioA[0];
                    $scope.datos.f01_a_hor = horarioA[1];
                }
                else
                {
                    $scope.datos.f01_de_hor = response[0].horarioAtencion;
                    $scope.datos.f01_a_hor = response[0].horarioAtencion;
                }
                $scope.datos.f01_fecha_ini_act = response[0].AE_fechaInicio || "";
                $scope.datos.f01_estab_es = response[0].AE_establecimiento || "";
                $scope.datos.f01_macro_act = parseInt(response[0].IdMacroDistrito);
                $scope.datos.f01_macro_act_descrip = response[0].MacroDistrito || "";
                $scope.datos.f01_dist_act = parseInt(response[0].idDistrito);
                $scope.datos.f01_idCodigoZona = parseInt(response[0].AE_idCodigoZona);
                $scope.datos.f01_dist_act_descrip = "DISTRITO "+response[0].idDistrito || "";
                $scope.datos.f01_tip_via_act = response[0].Tipo_Via_ae || "";
                $scope.datos.f01_zona_act = parseInt(response[0].idzona_ae);
                $scope.datos.f01_zona_act_descrip = response[0].zona_ae || "";
                $scope.datos.f01_num_act = response[0].via_ae || "";
                $scope.datos.f01_num_act1 = response[0].numero_ae || "";
                $scope.datos.f01_edificio_act = response[0].edificio_ae || "";
                $scope.datos.f01_bloque_act = response[0].bloque_ae || "";
                $scope.datos.f01_piso_act = response[0].piso_ae || "";
                $scope.datos.f01_dpto_of_loc = response[0].departamento_ae || "";
                $scope.datos.f01_tel_act1 = response[0].telefono_ae || "";
                $scope.datos.f01_cod_luz = response[0].AE_cuentaEnergiaElectrica || "";
                //$scope.datos.f01_idCodigoZona = response[0].AE_idCodigoZona || "";
                $scope.datos.f01_casilla = response[0].AE_casilla || "";
                $scope.datos.f01_productosElaborados = response[0].productosElaborados || "";
                $scope.datos.f01_actividadesSecundarias = response[0].actividadesSecundarias || "";
                $scope.datos.f01_factor = response[0].factor || "";
                ////////////////////////////////////////////////////////////////////////
                $scope.datos.f01_tip_act = response[0].tipoActividad;
                $scope.datos.f01_tipo_lic = parseInt(response[0].idTipoLicencia);
                $scope.datos.f01_tipo_lic_descrip = response[0].TipoLicencia;
                $scope.tipoCategoria = false;
                $scope.actividadDesarrollada = true;
                $scope.datos.f01_categoria = response[0].idActividadDesarrollada;
                $scope.datos.f01_categoria_descrip = response[0].desc_desarrollada;
                if(response[0].idTipoLicencia != "2")
                {
                    var parametros = {
                        "procedure_name":"ae.sp_lista_categoria_actividad_desarrollada",
                        "body":{
                            "params": [
                                {"name":"idactividad","param_type":"IN","value":response[0].idActividadDesarrollada}
                            ]
                        }            
                    };
                    var categ =  DreamFactory.api[CONFIG.SERVICE].callStoredProcWithParams(parametros).success(function (responseCate){
                        console.log(responseCate)
                        $scope.datos.f01_categoria_agrupada = responseCate[0].categoriaAct;
                        $scope.datos.f01_categoria_agrupada_descripcion = responseCate[0].categoriaActDesc;
                        $scope.getRequisitosCategoria($scope.datos.f01_categoria_agrupada, $scope.datos.f01_tipo_per);    
                    });
                    categ.error(function(results){
                         //alert("error");
                    });
                }
                else
                {
                    $scope.datos.f01_categoria_agrupada = "";
                    $scope.datos.f01_categoria_agrupada_descripcion = "";
                    $scope.getRequisitosActividad($scope.datos.f01_categoria, $scope.datos.f01_tipo_per)
                }

                $scope.getDistritos($scope.datos.f01_macro_act);
                $scope.getZonas($scope.datos.f01_dist_act);
                $scope.cargarTipoVia($scope.datos.f01_factor, $scope.datos);
                $scope.cargarNombVia($scope.datos.f01_tip_via_act, $scope.datos)

                console.log($scope.datos);
                if ($scope.datos.f01_estab_es == 'ANTIC') {
                    $scope.datos.f01_estab_es = 'ANTICRÉTICO';
                }
                if ($scope.datos.f01_estab_es == 'ALQUI') {
                    $scope.datos.f01_estab_es = 'ALQUILADO';
                }
                if ($scope.datos.f01_estab_es == 'PROPI') {
                    $scope.datos.f01_estab_es = 'PROPIO';
                };

                $scope.datos.f01_fecha_ini_act = $filter('date')(new Date(), 'dd/MM/yyyy');
              }else{
                sweet.show('', "La actividad seleccionada tiene deudas", 'warning');
                $scope.tipoCategoria = false;
                $scope.actividadDesarrollada = true;
                $scope.datos.f01_id_actividad_economica = '';
                $scope.datos.f01_nit = '';
                $scope.datos.f01_raz_soc = '';
                $scope.datos.f01_sup = '';
                $scope.datos.f01_cap_aprox = '';
                $scope.datos.f01_de_hor = '';
                $scope.datos.f01_a_hor = '';
                $scope.datos.f01_fecha_ini_act = '';
                $scope.datos.f01_estab_es = '';
                $scope.datos.f01_macro_act = '';
                $scope.datos.f01_macro_act_descrip = '';
                $scope.datos.f01_dist_act = '';
                $scope.datos.f01_dist_act_descrip = '';
                $scope.datos.f01_tip_via_act = '';
                $scope.datos.f01_zona_act = '';
                $scope.datos.f01_zona_act_descrip = '';
                $scope.datos.f01_num_act = '';
                $scope.datos.f01_num_act1 = '';
                $scope.datos.f01_edificio_act = '';
                $scope.datos.f01_bloque_act = '';
                $scope.datos.f01_piso_act = '';
                $scope.datos.f01_dpto_of_loc = '';
                $scope.datos.f01_tel_act1 = '';
                $scope.datos.f01_cod_luz = '';
                $scope.datos.f01_idCodigoZona = '';
                $scope.datos.f01_casilla = '';
                $scope.datos.f01_productosElaborados = '';
                $scope.datos.f01_actividadesSecundarias = '';
                $scope.datos.f01_factor = '';
                $scope.datos.f01_tip_act = '';
                $scope.datos.f01_tipo_lic = '';
                $scope.datos.f01_tipo_lic_descrip = '';
                $scope.datos.f01_categoria = '';
                $scope.datos.f01_categoria_descrip = '';
              }
            }
            $scope.getAtividadPublicidad(datosAct.IdActividad);
            $.unblockUI();
        })
        obj.error(function(response){

            $.unblockUI();
        });

    };
    */
    ////////////////////////////////////////////////////////////////////////////////////////////////
    /////////////////////////////////// CARGAR COMBOS FORMULARIO ///////////////////////////////////
    ////////////////////////////////////////////////////////////////////////////////////////////////
    // llamado a las zona - machositrito - distrito
    $scope.getMacrodistritos = function(){
        var parametros = {
            //"procedure_name":"ae.sp_lst_macrodistritos"            
            "procedure_name":"ae.sp_lst_macrodistritos_filtro",
            "body":{"params": [{"name":"id_macrodistrito","param_type":"IN","value": sessionService.get('US_IDMACRO')}]}                 
        };
        var ss =  DreamFactory.api[CONFIG.SERVICE].callStoredProcWithParams(parametros).success(function (response){
            if (response[0].idmacro != 0){
                $scope.datosMacrodistritos= response;
                $scope.macrodistrito = $scope.datosMacrodistritos[0].macro;
                $scope.macrodistritoID = $scope.datosMacrodistritos[0].idmacro;
                $scope.getDistritos($scope.datosMacrodistritos[0].idmacro);
                $scope.macroSesion = null;
            } else {
                $scope.macroSesion = "mostrar";
            }
        });
        ss.error(function(results){
             alert("error");
        });
    }   
    $scope.getDistritos = function(macro){
        var parametros = {
            "procedure_name":"ae.sp_lst_distritos",
            "body":{"params": [{"name":"id_macrodistrito","param_type":"IN","value":macro}]}            
        };
        var ss =  DreamFactory.api[CONFIG.SERVICE].callStoredProcWithParams(parametros).success(function (response){
            $scope.datosDistritos= response;
        });
        ss.error(function(results){
             alert("error");
        });
    }
    $scope.getZonas = function(distrito){        
        var parametros = {
            "procedure_name":"ae.sp_lst_zonas",
            "body":{"params": [{"name":"id_distrito","param_type":"IN","value":distrito}]}            
        };
        var ss =  DreamFactory.api[CONFIG.SERVICE].callStoredProcWithParams(parametros).success(function (response){
            $scope.datosZonas= response;
        });
        ss.error(function(results){
             alert("error");
        });
    }
    $scope.segura = false;
    $scope.getLicencias = function(){
        var parametros = {
             "procedure_name":"ae.sp_datos_licencia"            
        };
        var ss =  DreamFactory.api[CONFIG.SERVICE].callStoredProcWithParams(parametros).success(function (response){
            $scope.datosLicencia= response;
        });
        ss.error(function(results){
             alert("error");
        });
    }
    $scope.tipoActividad = function(idLicencia){
        $scope.datos.f01_requisitos_actividad_economica = null;
        $rootScope.datosRequisitos = null;
        $scope.datos.f01_requisitos_tecnicos = null;
        $rootScope.datosTecnicos = null;

        if(idLicencia == 2)
        {   $scope.segura = true;
            $scope.datos.f01_zon_se = false;
            $scope.getActividadDesarrollada();
            $scope.tipoCategoria = false;
            $scope.actividadDesarrollada = true;
        }
        else
        {
            $scope.segura = false;
            $scope.getCategorias(idLicencia);
            $scope.tipoCategoria = true;
            $scope.actividadDesarrollada = false;
        }
    };
    $scope.getCategorias = function(idLicencia){
        var parametros = {
            "procedure_name":"ae.sp_categoria_agrupada_licencia",
            "body":{"params": [{"name":"dependencia","param_type":"IN","value":idLicencia}]}           
        }; 
        var ss =  DreamFactory.api[CONFIG.SERVICE].callStoredProcWithParams(parametros).success(function (response){
            if (response.length > 0 ) {
                $scope.desabilitt = false;
            }
            $scope.datosCategoria= response;
        });
        ss.error(function(results){
             alert("error");
        });
    };
    ////////// id 20 solo para bebidas alcoholicas
    $scope.getActividadDesarrollada = function(){
        var parametros = {
            "procedure_name":"ae.sp_actividad_desarrollada_licencia",
            "body":{"params": [{"name":"dependencia","param_type":"IN","value":20}]}           
        }; 
        var ss =  DreamFactory.api[CONFIG.SERVICE].callStoredProcWithParams(parametros).success(function (response){
            if (response.length > 0 ) {
                $scope.desabilitt = false;
            }
            $scope.datosActividadDesarrollada= response;
        });
        ss.error(function(results){
             alert("error");
        });
    };
    //////////////////////////////////////////////////

    

    $scope.getRequisitosCategoria = function(idCategoria, persona){
        var aaaaa = {
            "procedure_name":"ae.sp_listarequisitos_documentales_categoria",
            "body":{
                "params": [
                    {"name":"dependencia","param_type":"IN","value":idCategoria},
                    {"name":"tipopersona","param_type":"IN","value":persona}
            ]}
        };
        var obj=DreamFactory.api[CONFIG.SERVICE].callStoredProcWithParams(aaaaa);
        obj.success(function (datosRequisitosTmp) {
            console.log(datosRequisitosTmp.length);
            datoObjectFinal = [];
            for(j=0; j<datosRequisitosTmp.length; j++){
                datoObject = new Object(); 
                datoObject.resid = datosRequisitosTmp[j].idRequisito; 
                datoObject.resvalor = datosRequisitosTmp[j].descRequisito; 
                datoObject.estado=false;
                datoObjectFinal[j] = datoObject;
            }
            $scope.datos.f01_requisitos_actividad_economica = datoObjectFinal;
            $rootScope.datosRequisitos = datoObjectFinal;
            $scope.getRequisitosTecnicosCategoria(idCategoria,persona);
        })
        obj.error(function(error) {
            
        }); 
    };


    $scope.getRequisitosActividad = function(idCategoria, persona){
        console.log("111111 aca requisitos");
        var parametros = {
            "procedure_name":"ae.sp_listarequisitos_documentales_actividad",
            "body":{
                "params": [
                    {"name":"dependencia","param_type":"IN","value":idCategoria},
                    {"name":"tipopersona","param_type":"IN","value":persona}
            ]}
        };
        var obj=DreamFactory.api[CONFIG.SERVICE].callStoredProcWithParams(parametros);
        obj.success(function (datosRequisitosTmp) {
            console.log(idCategoria,persona,datosRequisitosTmp,"DATOS ACTIVIDAD");
            datoObjectFinal = [];
            for(j=0; j<datosRequisitosTmp.length; j++){
                datoObject = new Object(); 
                datoObject.resid = datosRequisitosTmp[j].idRequisito; 
                datoObject.resvalor = datosRequisitosTmp[j].descRequisito; 
                datoObject.estado=false;
                datoObjectFinal[j] = datoObject;
            }
            $scope.datos.f01_requisitos_actividad_economica = datoObjectFinal;
            $rootScope.datosRequisitos = datoObjectFinal;
            $scope.getRequisitosTecnicosActividad(idCategoria,persona);
        })
        obj.error(function(error) {
            
        }); 

        
    };


    /*
    select ae.sp_listarequisitos_tecnicos_actividad ('3342', 'N')
    select ae.sp_listarequisitos_tecnicos_categoria (25, 'N')
    */

    
    /*$scope.getRequisitosTecnicos = function(idCategoria){
        var requisitos = $scope.getSPCombos('ae.sp_requisitostecnicos','{"params": [{"name":"_idclasificacion","value":"'+idCategoria+'"}]}');
            requisitos.then(function(respuesta) {
                datoObjectFinal = [];

                $scope.datosRequisitosTecTmp = JSON.parse(respuesta[0].sp_requisitostecnicos);

                for(j=0; j<$scope.datosRequisitosTecTmp.length;j++){
                    datoObject = new Object(); 
                    datoObject.resid=$scope.datosRequisitosTecTmp[j].f1; 
                    datoObject.resvalor=$scope.datosRequisitosTecTmp[j].f2; 
                    datoObject.estado=false;
                    datoObjectFinal[j] = datoObject;    
                }
                $scope.datos.f01_requisitos_tecnicos = datoObjectFinal;
                $rootScope.datosTecnicos = datoObjectFinal;

            }, function(reason) {
                alert('Failed: ' + reason);
            });
    }*/

    $scope.getRequisitosTecnicosCategoria = function(idCategoria, persona){
        var aaaaa = {
            "procedure_name":"ae.sp_listarequisitos_tecnicos_categoria",
            "body":{
                "params": [
                    {"name":"dependencia","param_type":"IN","value":idCategoria},
                    {"name":"tipopersona","param_type":"IN","value":persona}
            ]}
        };
        var obj=DreamFactory.api[CONFIG.SERVICE].callStoredProcWithParams(aaaaa);
        obj.success(function (datosRequisitosTmp) {
            datoObjectFinal = [];
            for(j=0; j<datosRequisitosTmp.length; j++){
                datoObject = new Object(); 
                datoObject.resid = datosRequisitosTmp[j].idRequisito; 
                datoObject.resvalor = datosRequisitosTmp[j].descRequisito; 
                datoObject.estado=false;
                datoObjectFinal[j] = datoObject;
            }
            $scope.datos.f01_requisitos_tecnicos = datoObjectFinal;
            $rootScope.datosTecnicos = datoObjectFinal;
        })
        obj.error(function(error) {
            
        }); 
    };


    $scope.getRequisitosTecnicosActividad = function(idCategoria, persona){
        console.log("aca");
        var aaaaa = {
            "procedure_name":"ae.sp_listarequisitos_tecnicos_actividad",
            "body":{
                "params": [
                    {"name":"dependencia","param_type":"IN","value":idCategoria},
                    {"name":"tipopersona","param_type":"IN","value":persona}
            ]}
        };
        var obj=DreamFactory.api[CONFIG.SERVICE].callStoredProcWithParams(aaaaa);
        obj.success(function (datosRequisitosTmp) {
            datoObjectFinal = [];
            for(j=0; j<datosRequisitosTmp.length; j++){
                datoObject = new Object(); 
                datoObject.resid = datosRequisitosTmp[j].idRequisito; 
                datoObject.resvalor = datosRequisitosTmp[j].descRequisito; 
                datoObject.estado=false;
                datoObjectFinal[j] = datoObject;
            }
            $scope.datos.f01_requisitos_tecnicos = datoObjectFinal;
            $rootScope.datosTecnicos = datoObjectFinal;
        })
        obj.error(function(error) {
            
        }); 

        
    };
    


    $scope.getZonaMD = function() {
        $scope.aZonaMD = {};
        var parametros = {
            "procedure_name": "lstzonamacrodistritos"
        };
        DreamFactory.api[CONFIG.SERVICE].callStoredProcWithParams(parametros).success(function(response) {
            if (response.length > 0) {
                $scope.aZonaMD = response;
            } else {
                $scope.aZonaMD = "";
            }
        }).error(function(response) {});
    };


    $scope.actualizaZonaMD = function(dato) {
        //$.blockUI();        
        //lstmacrodistritos(IN idz integer )
        var resproductos = {
            "procedure_name":"lstmacrodistritos",
            "body":{"params": [{"name":"idz","param_type":"IN","value":dato}]}
        };
        var obj=DreamFactory.api[CONFIG.SERVICE].callStoredProcWithParams(resproductos);
        obj.success(function (data) {
            $scope.macrod = data;
            $rootScope.txtMacrodistritoDistrito = $scope.macrod[0].ymdst_macrodistrito;
            $rootScope.idMacrodistritoDistrito = $scope.macrod[0].yzona_mdst_id;
            $scope.registro['zona_mdst_id'] = $scope.macrod[0].yzona_mdst_id;

            $rootScope.txtDistrito = $scope.macrod[0].ydst_distrito;
            $rootScope.idDistrito = $scope.macrod[0].yzona_dst_id;
            $scope.registro['yzona_dst_id'] = $scope.macrod[0].yzona_dst_id;

            $.unblockUI();
        })
        obj.error(function(error) {
            $scope.errors["error_usuarios"] = error;
        }); 
    };


    $scope.datosTipoVia = [
        {"idVia" : "AV", "nomVia": "AVENIDA"}, 
        {"idVia" : "CA", "nomVia": "CALLE"}, 
        {"idVia" : "CL", "nomVia": "CALLEJON"}, 
        {"idVia" : "CN", "nomVia": "CANCHA"}, 
        {"idVia" : "PR", "nomVia": "PARQUE"}, 
        {"idVia" : "PL", "nomVia": "PLAZA"}, 
        {"idVia" : "PA", "nomVia": "PASAJE"}, 
        {"idVia" : "ND", "nomVia": "NO DEFINIDO"}];

    
    $scope.cargarTipoVia = function(tipoTrayecto, dato) {

        if(tipoTrayecto == "TM")
        {
            var resproductos = {
                "procedure_name":"ae.sp_lst_tipos_via_tm",
                "body":{"params": [{"name":"idzona","param_type":"IN","value":dato.f01_zona_act}]}
            };
            var obj=DreamFactory.api[CONFIG.SERVICE].callStoredProcWithParams(resproductos);
            obj.success(function (data) {
                if(data.length > 0)
                {
                    $scope.datosTipoVia =  [
                    {"idVia" : "AV", "nomVia": "AVENIDA"}, 
                    {"idVia" : "CA", "nomVia": "CALLE"}, 
                    {"idVia" : "CL", "nomVia": "CALLEJON"}, 
                    {"idVia" : "CN", "nomVia": "CANCHA"}, 
                    {"idVia" : "PR", "nomVia": "PARQUE"}, 
                    {"idVia" : "PL", "nomVia": "PLAZA"}, 
                    {"idVia" : "PA", "nomVia": "PASAJE"}, 
                    {"idVia" : "ND", "nomVia": "NO DEFINIDO"}];
                    $scope.nombreViaCmb = false;
                    $scope.nombreViaTxt = true;
                }
                else
                {
                    $scope.datosTipoVia = [
                    {"idVia" : "AV", "nomVia": "AVENIDA"}, 
                    {"idVia" : "CA", "nomVia": "CALLE"}, 
                    {"idVia" : "CL", "nomVia": "CALLEJON"}, 
                    {"idVia" : "CN", "nomVia": "CANCHA"}, 
                    {"idVia" : "PR", "nomVia": "PARQUE"}, 
                    {"idVia" : "PL", "nomVia": "PLAZA"}, 
                    {"idVia" : "PA", "nomVia": "PASAJE"}, 
                    {"idVia" : "ND", "nomVia": "NO DEFINIDO"}]

                    $scope.nombreViaCmb = false;
                    $scope.nombreViaTxt = true;
                }
            })
            obj.error(function(error) {
            }); 
        }
        else
        {
            $scope.datosTipoVia = [
            {"idVia" : "AV", "nomVia": "AVENIDA"}, 
            {"idVia" : "CA", "nomVia": "CALLE"}, 
            {"idVia" : "CL", "nomVia": "CALLEJON"}, 
            {"idVia" : "CN", "nomVia": "CANCHA"}, 
            {"idVia" : "PR", "nomVia": "PARQUE"}, 
            {"idVia" : "PL", "nomVia": "PLAZA"}, 
            {"idVia" : "PA", "nomVia": "PASAJE"}, 
            {"idVia" : "ND", "nomVia": "NO DEFINIDO"}];

            $scope.nombreViaCmb = false;
            $scope.nombreViaTxt = true;
        }
    };

    $scope.cargarNombVia = function(tipoVia, dato) {
        var resproductos = {
            "procedure_name":"ae.sp_lst_tipos_via_cmb",
            "body":{
                "params": [
                    {"name":"idzona","param_type":"IN","value":dato.f01_zona_act},
                    {"name":"tipovia","param_type":"IN","value":tipoVia},
                ]
            }
        };
        var obj=DreamFactory.api[CONFIG.SERVICE].callStoredProcWithParams(resproductos);
        obj.success(function (data) {
             if (data.length > 0) {
                console.log("-------------------------data-------------------------2110");
                console.log(dato);
                console.log("-------------------------data-------------------------2110");
                $scope.datosNombVia = data;
                $scope.nombreViaCmb = true;
                if (dato.f01_factor == "VA") { 
                    $scope.nombreViaTxt = true;
                } else {
                    $scope.nombreViaTxt = false;
                }
            } else{
                $scope.nombreViaCmb = true;
                $scope.nombreViaTxt = false;
            }; 
        })
        obj.error(function(error) {
        }); 

    };
    $scope.cargarNombViaTxt = function(valor) {
        console.log(valor);
        if (valor == "NINGUNO"){
            $scope.nombreViaTxt = true;
            $scope.tipoTrayecto = false;
            $scope.datos.f01_factor ="VA";
        } else {
            $scope.nombreViaTxt = false;
            $scope.tipoTrayecto = true;
        }
    };

    $scope.cargarZonaContribuyente = function(tipoVia, dato) {
        var resproductos = {
            "procedure_name":"ae.sp_datos_zona_todo"
        };
        var obj=DreamFactory.api[CONFIG.SERVICE].callStoredProcWithParams(resproductos);
        obj.success(function (data) {
            $scope.datosZonaTodo = data;
        })
        obj.error(function(error) {
        }); 

    };
    /////////////////////////////////// FIN CARGAR COMBOS FORMULARIO ///////////////////////////////////
    /// datos de publicidad  
    // datos de la la publicidad ******************************************************************************************************************************************************************
    //     DATIOS PUBLICIDAD ->   categoria -> tipo de letrero  ***********************************************************************************************************************************
    
    $scope.lscategoria = function(){
        $scope.DataCategoria = {};
        var parametros = {
            "procedure_name":"pub.sp_categorialetrero"
        };        
        DreamFactory.api[CONFIG.SERVICE].callStoredProcWithParams(parametros).success(function (response){
            if(response.length > 0){
                $scope.DataCategoria = response;
            }else{
                $scope.msg = "Error !!";
            }             
        }).error(function(results){
        });
    };


    var mes=fecha.getMonth()+1;
    if(mes.toString().length==1)
        mes='0'+mes;
    var dia=fecha.getDate();
    if(dia.toString().length==1)
        dia='0'+dia;
    $scope.fechactuall= dia+ "/"+mes+ "/"+ fecha.getFullYear() ;//+ " " + fecha.getHours() + ":" + fecha.getMinutes() + ":" + fecha.getSeconds();
    $scope.fechadatoo  = "01/01/1900";

    $scope.publi=[];
    //$scope.publi.FECHAINICIO=$scope.fechactuall;
    //$scope.publi.FECHAFIN=$scope.fechadatoo;
    $scope.lssubcategoria = function(){
        //$scope.publi=[];
        //$scope.carass = [];
        $scope.publi.INT_CATE="II Fija";
        $scope.publi.idcate=6;
        /*$scope.TipoLetrero = {};
        var idcate = "";
        if($scope.DataCategoria){
            angular.forEach($scope.DataCategoria, function(value, key) {
                if(value.p_categoria == idcatee){
                    idcate = value.p_idcategoria;
                }
            });
        }
        $scope.datos.idcate=idcate;*/
        //console.log($scope.datos.idcate);
        var parametros = {
            //"procedure_name":"pub.sp_tipoletrero_general",
            "procedure_name":"pub.sp_tipoletrero"//,
            /*"body":{"params": [
                {"name":"idcategoria","param_type":"IN","value":idcate}
            ]}*/
        
        };
        DreamFactory.api[CONFIG.SERVICE].callStoredProcWithParams(parametros).success(function (response){
            if(response.length > 0){
                $scope.TipoLetrero = response;
                //console.log($scope.TipoLetrero);
            }else{
                $scope.msg = "Error !!";
            }             
        }).error(function(results){
        });
    };

    $scope.ltCaracteristica = function(idlee){
        $scope.lCaracteristica = {};
        var idcarac = "";
        if($scope.TipoLetrero){
            angular.forEach($scope.TipoLetrero, function(value, key) {
                if(value.p_descripcion == idlee){
                    idcarac = value.p_idtipoletrero;
                }
            });                  
        }
        //console.log(idlee);
        $scope.publi.idcarac=idcarac;
        //console.log("idTL -> ",idcarac);
        //console.log("idTL *> ",$scope.publi.idcarac);
        var parametros = {
            "procedure_name":"pub.sp_letrero_caracteristica",
            "body":{"params": [
                {"name":"p_idtipoletrero","param_type":"IN","value":idcarac}
            ]}
        };
        DreamFactory.api[CONFIG.SERVICE].callStoredProcWithParams(parametros).success(function (response){
            if(response.length > 0){
                $scope.lCaracteristica = response;
                //console.log($scope.lCaracteristica);
            }else{
                $scope.msg = "Error !!";
            }             
        }).error(function(results){
        });
    };
    $scope.actulizarCaracteristica = function(){
        var id_cara="";
        var distNombre  = $scope.publi.INT_CARA;
        if($scope.lCaracteristica){
            angular.forEach($scope.lCaracteristica, function(value, key) {
                if(value.p_caracteristica == distNombre){
                    id_cara  =   value.p_idcaracteristica;                    
                }
            });
        }
        console.log(id_cara);
        $scope.publi.id_cara  =  id_cara;
    };

    $scope.lsCaracteristica = function(){
        $scope.lsTipovia = {};
        var parametros = {
            "procedure_name":"general.sp_catalogo",
            "body":{"params": [
                {"name":"clasificador","param_type":"IN","value":9}
            ]}
        };
        DreamFactory.api[CONFIG.SERVICE].callStoredProcWithParams(parametros).success(function (response){
            if(response.length > 0){
                $scope.lsTipovia = response;
                //console.log($scope.lsTipovia);
            }else{
                $scope.msg = "Error !!";
            }             
        }).error(function(results){
        });
    };
    // detalles del elemento publicidad 
    //$scope.caras = [];
    $scope.detalle = [];
    $scope.edit = {};
    $scope.addUser = function(user){
        
        //if($scope.datos.caras.length>0){
        if($scope.carass =='' || $scope.carass == null || $scope.carass =="undefined" ){
            $scope.carass = [];
            //console.log("-*->",$scope.carass)
        }else{
            //$scope.carass = $scope.publi.caras;
            console.log("--*>",$scope.carass)
        }
        $scope.carass.push({
            //id      : user.id,
            desc    : user.desc,
            sup     : user.sup
        });
        //console.log($scope.carass);
        $scope.user = "";
        $scope.detalle = [];
        //$scope.actulizarCaras();
    };
    $scope.deleteUser = function(user){
        $scope.carass.splice( $scope.carass.indexOf(user), 1 );
    };
    $scope.editUser = function(user){
        delete $scope.edit[user.id];
    };
    $scope.showEdition = function($event, id){
        $scope.edit[id] = true;
        var input = angular.element($event.currentTarget).parent().find("input")[0];        
        setTimeout(function(){
            input.focus();
            input.select(); 
        }, 50);
        //$scope.actulizarCaras();
    };
    $scope.actulizarCaras= function () {
        $scope.publi.caras = $scope.carass;
        //console.log("*************",$scope.publi.caras);
    };
   $scope.toggleMin = function() {
        //console.log("FECHA",fecha.getMonth(),fecha.getFullYear().toString());
        var mes = fecha.getMonth() + 1;
          if(mes.toString().length==1)
            mes='0'+mes;
        $scope.fechactualll= mes+ "/01/"+ fecha.getFullYear() ;
        //console.log($scope.fechactualll);
        $scope.minDate = new Date($scope.fechactualll);// $scope.minDate ? null : new Date();
    };

    $scope.toggleMin();
    $scope.startDateOpenIni = function($event) {
        $event.preventDefault();
        $event.stopPropagation();
        $scope.startDateOpenedIni = true;
    };
    $scope.changeHandler = function () {
        console.log($scope.publi.FECHAINICIO);
        var mes=$scope.publi.FECHAINICIO.getMonth()+1;
        if(mes.toString().length==1)
            mes='0'+mes;
        $scope.publi.FECHAINICIO= "01/"+mes+"/"+ $scope.publi.FECHAINICIO.getFullYear();
    };
    $scope.id = 0;
    $scope.adicionarpublicidad = function(public){
        
        console.log("public");
        console.log(public);
        if (public.INT_SUPERFICIE) {
            if(public.INT_NRO_CARA =='' || public.INT_NRO_CARA == null || public.INT_CARA =='' || public.INT_CARA == null ||
            public.INT_CATE =='' || public.INT_CATE == null || public.INT_TIPO_LETRE =='' || public.INT_TIPO_LETRE == null ||
            public.INT_DESC =='' || public.INT_DESC == null || public.INT_SUPERFICIE =='' || public.INT_SUPERFICIE == null ) {
                sweet.show('', 'Llene lo campos requeridos para la VIAE  ', 'error');
            } else {
                var id=0
                if($scope.datos.publicidad =='' || $scope.datos.publicidad == null || $scope.datos.publicidad =="undefined" ){
                    if($scope.publicid =='' || $scope.publicid == null || $scope.publicid =="undefined" ){
                        $scope.publicid = [];
                        id=0;
                    }
                    id = $scope.publicid.length + 1;
                }else{
                    id = $scope.publicid.length + 1;
                    console.log("-->",$scope.carass)
                }
                if(id<21){
                    total = parseFloat(public.INT_SUPERFICIE);
                    if (total < 700) {
                        $scope.id = id;
                        $scope.publicid.push({
                            id: id,
                            INT_NRO_CARA: public.INT_NRO_CARA,
                            INT_CARA: public.INT_CARA,
                            INT_CATE: public.INT_CATE,
                            INT_TIPO_LETRE: public.INT_TIPO_LETRE,
                            INT_DESC: public.INT_DESC.toUpperCase(),
                            INT_ALTO: parseFloat(0).toFixed(2),
                            INT_ANCHO: parseFloat(0).toFixed(2),
                            id_cara: public.id_cara,
                            idcarac: public.idcarac,
                            idcate: public.idcate,
                            INT_SUP:total.toFixed(2)
                        });
                        $scope.publi=[];
                        $scope.publi.INT_CATE="II Fija";
                        $scope.publi.idcate=6;
                        $scope.lssubcategoria();
                        $scope.datos.publicidad = $scope.publicid;
                        $scope.Plubli_Grilla($scope.publicid);
                    } else {
                        sweet.show('', 'La superficie de la VIAE excede los estadares permitidos', 'error');
                    }
                } else {
                    sweet.show('', 'Llego al limite de registro de Publicidad', 'error');
                }
            }
        } else {
            if(public.INT_NRO_CARA =='' || public.INT_NRO_CARA == null || public.INT_CARA =='' || public.INT_CARA == null ||
            public.INT_CATE =='' || public.INT_CATE == null || public.INT_TIPO_LETRE =='' || public.INT_TIPO_LETRE == null ||
            public.INT_DESC =='' || public.INT_DESC == null || public.INT_ALTO =='' || public.INT_ALTO == null || public.INT_ANCHO =='' || public.INT_ANCHO == null ) {
                sweet.show('', 'Llene lo campos requeridos para la VIAE  ', 'error');
            } else {
                var id=0
                if($scope.datos.publicidad =='' || $scope.datos.publicidad == null || $scope.datos.publicidad =="undefined" ){
                    if($scope.publicid =='' || $scope.publicid == null || $scope.publicid =="undefined" ){
                        $scope.publicid = [];
                        id=0;
                    }
                    id = $scope.publicid.length + 1;
                }else{
                    id = $scope.publicid.length + 1;
                    console.log("-->",$scope.carass)
                }
                if(id<21){
                    total = parseFloat(public.INT_ALTO) * parseFloat(public.INT_ANCHO);
                    if (total < 700) {
                        $scope.id = id;
                        $scope.publicid.push({
                            id: id,
                            INT_NRO_CARA: public.INT_NRO_CARA,
                            INT_CARA: public.INT_CARA,
                            INT_CATE: public.INT_CATE,
                            INT_TIPO_LETRE: public.INT_TIPO_LETRE,
                            INT_DESC: public.INT_DESC.toUpperCase(),
                            INT_ALTO: parseFloat(public.INT_ALTO).toFixed(2),
                            INT_ANCHO: parseFloat(public.INT_ANCHO).toFixed(2),
                            id_cara: public.id_cara,
                            idcarac: public.idcarac,
                            idcate: public.idcate,
                            INT_SUP:total.toFixed(2)
                        });
                        $scope.publi=[];
                        $scope.publi.INT_CATE="II Fija";
                        $scope.publi.idcate=6;
                        $scope.lssubcategoria();
                        $scope.datos.publicidad = $scope.publicid;
                        $scope.Plubli_Grilla($scope.publicid);
                    } else {
                        sweet.show('', 'La superficie de la VIAE excede los estadares permitidos', 'error');
                    }
                } else {
                    sweet.show('', 'Llego al limite de registro de Publicidad', 'error');
                }
            }
        }
    }
    $scope.Plubli_Grilla = function(dato){
        $scope.publi_grilla = [];
        var encabezado = [];
        var indice = 1;
        encabezado[0] = {"tipo": "GRD","campos": "nroElem|INT_TIPO_LETRE|INT_CARA|INT_NRO_CARA|INT_DESC|INT_ALTO|INT_ANCHO|INT_SUP","titulos": "ID|Tipo de Letrero|Característica|Caras|Descripción|Alto|Ancho|Superficie","impresiones": "true|true|true|true|true|true|true|true|"};
        var nroElem = 0;
        var j=0;
        for(j=0; j<dato.length;j++) {
            //console.log(">>>>>>",dato.publicidad[j]);
            $scope.publi_grilla.push({
                nroElem: j+1,
                INT_NRO_CARA: dato[j].INT_NRO_CARA,
                INT_TIPO_LETRE: dato[j].INT_TIPO_LETRE,
                INT_CARA: dato[j].INT_CARA,
                //INT_CATE: dato[j].INT_CATE,
                INT_DESC: dato[j].INT_DESC.toUpperCase(),
                INT_ALTO: dato[j].INT_ALTO,
                INT_ANCHO: dato[j].INT_ANCHO,
                INT_SUP: dato[j].INT_SUP
            });
        }
        //var jsonString = JSON.stringify($scope.publi_grilla);
        //var jsonString = jsonString.replace("[", "");
       //var jsonString = jsonString.replace("]", "");
        //var jsonString = '"TER_PUBLICIDAD": ['+encabezado+','+jsonString +']';
        //var jsonString = '['+ JSON.stringify(encabezado)+','+jsonString +']';
        var jsonString = '['+ (encabezado) +']';
        console.log($scope.publi_grilla);
        console.log(">>>> ",jsonString);

        angular.forEach($scope.publi_grilla, function(value, key) {
                encabezado[indice] = value;
                indice = indice + 1;
            }, log);
        //$scope.datos.publicidad_grilla=jsonString;
        $scope.datos.publicidad_grilla=encabezado;
        $scope.publi_grilla = $scope.datos.publicidad_grilla;

    }
    $scope.onlyy=false;
    $scope.botonn="new";
    $scope.modificarPlubli = function(dato){
        console.log(dato);
        $scope.onlyy=true;
        $scope.botonn="upd";
        $scope.publi=dato;
        //$scope.carass = dato.caras;
        $scope.ltCaracteristica(dato.INT_TIPO_LETRE);
        //console.log(">>>>",$scope.publi);
    }
    $scope.eliminarPubli = function(dato){
        //console.log(dato);
        $scope.publicid.splice( $scope.publicid.indexOf(dato), 1 );
        $scope.id = $scope.id - 1;
    }
    $scope.modificarpublicidad = function(dato){
        $scope.onlyy=true;
        $scope.botonn="new";
        delete $scope.edit[dato.id];
        $scope.publi=[];
        //$scope.carass = [];
        $scope.lssubcategoria();
    }
    /*
    $scope.NumericoAlto = function(alto){
        if(alto){
            alto = alto.replace(/[^,.0-9]+/g, "");
            alto = alto.replace(/,/g, ".");
            $scope.publi.INT_ALTO = alto;
        }
    }
    $scope.NumericoAncho = function(ancho){
        if(ancho){
            ancho = ancho.replace(/[^,.0-9]+/g, "");
            ancho = ancho.replace(/,/g, ".");
            $scope.publi.INT_ANCHO = ancho;
        }
    }*/
    
    $scope.verSuperficie = function(p){
        if (p==false || typeof(p)=='undefined'){
            $scope.publi.INT_ALTO = 0;
            $scope.publi.INT_ANCHO = 0;
            $scope.especial="mostrar";
        } else {
            $scope.especial=null;
        }

    }
    //////////////////////////////////////////////       END PUBLICIDADA        ////////////////////////////////////////////////////////////////////////////////////

    $scope.startDateOpen = function($event) {
        if(!$scope.desabilitado)
        {
            $event.preventDefault();
            $event.stopPropagation();
            $scope.startDateOpened = true;    
        }
    }; 
    

    $scope.abrirDivPersona = function(dato) {
        console.log("datooo. :",dato);
        $scope.tipoDePersona = dato;
        if (dato=="N") {
            $scope.personaNatural = "mostrar";
            $scope.personaJuridica = null;
            $scope.tipoPersona = "ocultar";
            $scope.titulo = "Busqueda Persona Natural";
            $scope.frmPersonaNatural = "mostrar";
            $scope.frmPersonaJuridica = null;
            $scope.opcion="natural";
            //$scope.datos.f01_tipo_per = "N";
        } else { 
            $scope.personaNatural = null;
            $scope.personaJuridica = "mostrar";
            $scope.tipoPersona = "ocultar";
            $scope.titulo = "Busqueda Persona Jurídica";
            $scope.frmPersonaNatural = null;
            $scope.frmPersonaJuridica = "mostrar";
            $scope.opcion="juridico";
            //$scope.datos.f01_tipo_per = "J";
        }
    }
    
    $scope.volverBusqueda = function() {
        //$scope.restaurarBusqueda();
        $scope.titulo = "Buscador";
        $scope.tipoPersona = null;
        $scope.personaNatural = null;
        $scope.personaJuridica = null;
        $scope.tablaCiudadanos = null;
        $scope.tablaEmpresas = null; 
        $scope.opciones = null;
        $scope.opciones2 = null;
        $scope.formCambioPin = null;
        $scope.regMedico =null;
        $scope.formActivacionDigital = null;
        $scope.modRegistro =null;
        $scope.nuevaBusqueda = null;
        $scope.nuevaBusquedaJ = null;
        sessionService.destroy("IDSOLICITANTE");
        $scope.template = "";

        $scope.cabeceraNatural = false;
        $scope.cabeceraJuridico = false;
        $scope.mostrarFormulario = false;
        $scope.naturalForm = false;
        $scope.juridicoForm = false;

        $scope.volverForm = false;
        $scope.btnGuardar = false;
        
    };

    $scope.$watch('datos.f01_fecha_nac',function() {
        //console.log(22222);
        try {    
            if ($scope.datos.f01_fecha_nac) 
            {
                var dia_nacim = $scope.datos.f01_fecha_nac.getDate();
                var mes_nacim = $scope.datos.f01_fecha_nac.getMonth()+1;
                var anio_nacim = $scope.datos.f01_fecha_nac.getFullYear();
                
                if (dia_nacim<10)
                {
                    dia_nacim = "0" + dia_nacim;
                }

                if(mes_nacim<10)
                {
                    mes_nacim = "0" + mes_nacim;   
                }
                $scope.datos.f01_fecha_nac = dia_nacim+"/"+mes_nacim+"/"+anio_nacim;
            }
        } catch (err) {}
    });


    $scope.calcularCapacidad = function(superficie)
    {
        
        if(superficie)
        {
            superficie = superficie.replace(/[^,.0-9]+/g, "");
            console.log(superficie);
            superficie = superficie.replace(/,/g, ".")
            console.log(superficie);
            $scope.datos.f01_sup = superficie;
            $scope.datos.f01_cap_aprox = parseFloat(superficie * 0.9).toFixed(2);

            /*if(/^([0-9])*$/.test(superficie))
            {
               console.log(superficie);
            }*/
        }
        else
        {
            $scope.datos.f01_cap_aprox = 0;   
        }    
    }


    $scope.GetValueLicencia = function () {
        var e = document.getElementById("f01_tipo_lic");
        $scope.datos.f01_tipo_lic_descrip = e.options[e.selectedIndex].text;
    }

    $scope.GetValueCategoriaAgrupada = function () {
        var e = document.getElementById("f01_categoria_agrupada");
        $scope.datos.f01_categoria_descrip = e.options[e.selectedIndex].text;
        $scope.datos.f01_categoria_agrupada_descripcion = "";
    }

    $scope.GetValueCategoria = function () {
        var e = document.getElementById("f01_categoria");
        $scope.datos.f01_categoria_descrip = "";
        $scope.datos.f01_categoria_agrupada_descripcion = e.options[e.selectedIndex].text;
    }

    $scope.GetValueMacrodistrito = function (macro) {
        sessionService.set('US_IDMACRO', macro);
        var e = document.getElementById("f01_macro_act");
        $scope.datos.f01_macro_act_descrip = e.options[e.selectedIndex].text;
    }

    $scope.GetValueDistrito = function () {
        var e = document.getElementById("f01_dist_act");
        $scope.datos.f01_dist_act_descrip = e.options[e.selectedIndex].text;
    }

    $scope.GetValueZonaActividad = function () {
        var e = document.getElementById("f01_zona_act");
        $scope.datos.f01_zona_act_descrip = e.options[e.selectedIndex].text;
        $scope.datos.f01_factor = "";
        $scope.datos.f01_tip_via_act = "";
        $scope.datos.f01_num_act = "";
    }


    $scope.GetValueZonaContribuyente = function () {
        var e = document.getElementById("f01_zon_prop");
        $scope.datos.f01_zon_prop_descrip = e.options[e.selectedIndex].text;
    }

    $scope.GetValueZonaContribuyenteJuridico = function () {
        var e = document.getElementById("f01_id_zona_rep");
        $scope.datos.f01_zona_rep = e.options[e.selectedIndex].text;
    }


    $scope.tipoTrayectoMain=false;
    if ($scope.datos.f01_zona_act !='' || $scope.datos.f01_zona_act != 'undefined') {
        $scope.tipoTrayectoMain=true;
    }
    else{
        $scope.tipoTrayectoMain=false;
    };


    $scope.GetTrayecto = function(id, tipo){
        if (tipo == 'd') {
            $scope.tipoTrayectoMain=false;
        }
        else
        {
            $scope.tipoTrayectoMain=true;
        };
    }
    $scope.asignarcampo = function(tipo){
        if (tipo == "SU") {
            tipo = "SUCURSAL";
            $scope.datos.f01_tip_act_dec = tipo;
        }
        if (tipo == "MA") {
            tipo = "MATRIZ";
            $scope.datos.f01_tip_act_dec = tipo;
        }
        
    }



    $scope.GetDatosVia = function (id) {
        $scope.tipoTrayecto=false;  
        var resproductos = {
            "procedure_name":"ae.sp_lst_datos_via_cmb",
            "body":{
                "params": [
                    {"name":"idzona","param_type":"IN","value":id},
                ]
            }
        };
        var obj=DreamFactory.api[CONFIG.SERVICE].callStoredProcWithParams(resproductos);
        obj.success(function (data) {
            if(data.length > 0) {                    
                $scope.datosNombreVia = [
                {"idVia" : "AV", "nomVia": "AVENIDA"}, 
                {"idVia" : "CA", "nomVia": "CALLE"}, 
                {"idVia" : "CL", "nomVia": "CALLEJON"}, 
                {"idVia" : "CN", "nomVia": "CANCHA"}, 
                {"idVia" : "PR", "nomVia": "PARQUE"}, 
                {"idVia" : "PL", "nomVia": "PLAZA"}, 
                {"idVia" : "PA", "nomVia": "PASAJE"}, 
                {"idVia" : "ND", "nomVia": "NO DEFINIDO"}];
                $scope.nombreViaCmb = true;
                $scope.nombreViaTxt = true;
                $scope.tipoTrayecto=true;
                console.log("trayecto matriz");
                $scope.datos.f01_factor ="TM";
            } else {
                $scope.datosTipoVia = [
                {"idVia" : "AV", "nomVia": "AVENIDA"}, 
                {"idVia" : "CA", "nomVia": "CALLE"}, 
                {"idVia" : "CL", "nomVia": "CALLEJON"}, 
                {"idVia" : "CN", "nomVia": "CANCHA"}, 
                {"idVia" : "PR", "nomVia": "PARQUE"}, 
                {"idVia" : "PL", "nomVia": "PLAZA"}, 
                {"idVia" : "PA", "nomVia": "PASAJE"}, 
                {"idVia" : "ND", "nomVia": "NO DEFINIDO"}]
                $scope.nombreViaCmb = true;
                $scope.nombreViaTxt = true;
                $scope.tipoTrayecto=false;
                $scope.datos.f01_factor ="VA";
            }
        })
        obj.error(function(error) {
        }); 
    }
    //////////////////////// FORM GUARDADO /////////////////////
    if( $scope.datos.f01_tipo_per != "" && $scope.datos.f01_tipo_per != null &&
        $scope.datos.f01_tip_act != "" && $scope.datos.f01_tip_act != null &&
        $scope.datos.f01_tipo_lic != "" && $scope.datos.f01_tipo_lic != null 
        //$scope.datos.f01_requisitos_actividad_economica != "" &&
        //$scope.datos.f01_requisitos_tecnicos != "" &&
        //$scope.datos.f01_categoria_agrupada != "" && $scope.datos.f01_categoria_agrupada != null 
        )
    {
        if($scope.datos.f01_tipo_per == "N")
        {
            $scope.tablaEmpresas = "mostrar";
            $scope.formularioNatural = "mostrar";
            $scope.formularioJuridico = null; 
            $scope.tablaCiudadanos = null;
            $scope.tablaEmpresas = null;
            $scope.desabilitado = "true";
            $scope.cabeceraNatural = true;
            $scope.cabeceraJuridico = false;
            $scope.mostrarFormulario = true;
            $scope.naturalForm = true;
            $scope.juridicoForm = false;
            $scope.actividadesReferencial();
            $scope.tipoPersona = "OCULTAR";
            $scope.personaNatural = null;
            $scope.personaJuridica = null;
            $scope.tablaCiudadanos = null;
            $scope.tablaEmpresas = null;
            $scope.volverForm = true;
        }
        else
        {
            if($scope.datos.f01_tipo_per == "J")
            {
                $scope.tablaEmpresas = "mostrar";
                $scope.formularioNatural = "mostrar";
                $scope.formularioJuridico = null; 
                $scope.tablaCiudadanos = null;
                $scope.tablaEmpresas = null;
                $scope.desabilitado = "true";
                $scope.cabeceraNatural = false;
                $scope.cabeceraJuridico = true;
                $scope.mostrarFormulario = true;
                $scope.naturalForm = false;
                $scope.juridicoForm = true;
                $scope.actividadesReferencial();
                $scope.tipoPersona = "OCULTAR";
                $scope.personaNatural = null;
                $scope.personaJuridica = null;
                $scope.tablaCiudadanos = null;
                $scope.tablaEmpresas = null;
                $scope.volverForm = true;
            } 
        }
        
        if($scope.datos.f01_tipo_lic && $scope.datos.f01_tipo_lic != "" && $scope.datos.f01_tipo_lic != null)
        {
            $scope.datos.f01_tipo_lic = parseInt($scope.datos.f01_tipo_lic);
        }
        if($scope.datos.f01_categoria_agrupada && $scope.datos.f01_categoria_agrupada != "" && $scope.datos.f01_categoria_agrupada != null)
        {
            $scope.datos.f01_categoria_agrupada = parseInt($scope.datos.f01_categoria_agrupada);
        }
        if($scope.datos.f01_categoria && $scope.datos.f01_categoria != "" && $scope.datos.f01_categoria != null)
        {
            $scope.datos.f01_categoria = parseInt($scope.datos.f01_categoria);
        }
        console.log("f01_tipo_lic", $scope.datos);
        console.log("f01_categoria_agrupada", $scope.datos.f01_categoria_agrupada);
        console.log("f01_categoria", $scope.datos.f01_categoria);
        if($scope.datos.f01_tip_doc_prop != ""){
            $scope.desabilitadotpc="true";
        }
        if($scope.datos.f01_num_dos_prop != ""){
            $scope.desabilitadonroc="true";
        }
        if($scope.datos.f01_expedido_prop != ""){
            $scope.desabilitadoexp="true";
            //$scope.desabilitadoexp=false;
            //var dptos = ["LPZ","ORU","PTS","CBB","TJA","CHQ","SCZ","PND","BNI","EXT"];
        } else {
            $scope.desabilitadoexp=false;
            //var dptos = ["LPZ","ORU","PTS","CBB","TJA","CHQ","SCZ","PND","BNI","EXT"];
            var dptos = ["BNI","CBB","CHQ","LPZ","ORU","PND","PTS","SCZ","TJA","EXT"];
            $scope.datos.f01_expedido_prop = dptos[$scope.datos.f01_expedido_prop];
        }
        if($scope.datos.f01_pri_nom_prop != ""){
            $scope.desabilitadopric="true";
        }
        if($scope.datos.f01_ape_pat_prop != ""){
            $scope.desabilitadoapatc="true";
        }
        if($scope.datos.f01_ape_mat_prop != ""){
            $scope.desabilitadoamatc="true";
        }
        if($scope.datos.f01_nac_prop != ""){
            $scope.desabilitadonacc="true";
        }
        if($scope.datos.f01_fecha_nac != ""){
            $scope.desabilitadofnacc="true";
        }
        if($scope.datos.f01_cel_prop != ""){
            $scope.desabilitadocelc="true";
        }
        if($scope.datos.f01_email_prop != ""){
            $scope.desabilitadocec="true";
        }
        if($scope.datos.f01_zon_prop != ""){
            $scope.desabilitadozonc="true";
        }
        if($scope.datos.f01_tip_via_prop != ""){
            $scope.desabilitadotipc="true";
        }
        if($scope.datos.f01_nom_via_prop != ""){
            $scope.desabilitadonomc="true";
        }
        if($scope.datos.f01_num_prop != ""){
            $scope.desabilitadonrovc="true";
        }
        if($scope.datos.f01_tipo_lic == 2)
        {
            $scope.getActividadDesarrollada();
            $scope.tipoCategoria = false;
            $scope.actividadDesarrollada = true;
            $scope.segura = true;
        }
        else
        {
            $scope.getCategorias($scope.datos.f01_tipo_lic);
            $scope.tipoCategoria = true;
            $scope.actividadDesarrollada = false;
            $scope.segura = false;
        }

        $scope.getDistritos($scope.datos.f01_macro_act);
        $scope.getZonas($scope.datos.f01_dist_act);
        $scope.cargarTipoVia($scope.datos.f01_factor, $scope.datos);
        $scope.cargarNombVia($scope.datos.f01_tip_via_act, $scope.datos);


        $rootScope.datosTecnicos = $scope.datos.f01_requisitos_tecnicos
        $rootScope.datosRequisitos = $scope.datos.f01_requisitos_actividad_economica

        $scope.btnGuardar = true;
    }
    /*else
    {
        $scope.formBlanco();
    }*/
    $scope.guardarForm = function() {
        angular.forEach($scope.datos, function(value, key) {
            if(value == null || value =="undefined" || value =="UNDEFINED" || typeof(value)=='undefined' ) {
                $scope.datos[key] = "";
            }
        }, log);

        console.log("datossssss: ", $scope.datos);
        var tmpDatos = $scope.datos;
        var response = $scope.datos;
        var tmpDatosPersona = 0;
        var tmpDatosLicencia = 0;
        var tmpDatosActividad = 0;
        if($scope.datos.swpublicidad == 'CP') {
            $scope.id = $scope.datos.publicidad.length;
        } else {
            $scope.id = 1;
            $scope.datos.publicidad_grilla = [];
            $scope.datos.publicidad = [];
        }

        console.log("recuperar: ", $scope.recuperarContri);
        if($scope.recuperarContri == 0) {
            if( tmpDatos &&
                tmpDatos.f01_tipo_per == "N" &&
                tmpDatos.f01_tip_doc_prop != "" && tmpDatos.f01_tip_doc_prop != null &&
                tmpDatos.f01_tip_doc_prop != "" && tmpDatos.f01_tip_doc_prop != null &&
                tmpDatos.f01_num_dos_prop != "" && tmpDatos.f01_num_dos_prop != null &&
                tmpDatos.f01_expedido_prop != "" && tmpDatos.f01_expedido_prop != null &&
                tmpDatos.f01_pri_nom_prop != "" && tmpDatos.f01_pri_nom_prop != null &&
                ((tmpDatos.f01_ape_pat_prop != "" && tmpDatos.f01_ape_pat_prop != null) || 
                (tmpDatos.f01_ape_mat_prop != "" && tmpDatos.f01_ape_mat_prop != null)) &&
                tmpDatos.f01_nac_prop != "" && tmpDatos.f01_nac_prop != null &&
                tmpDatos.f01_fecha_nac != "" && tmpDatos.f01_fecha_nac != null &&
                ((tmpDatos.f01_telef_prop != "" && tmpDatos.f01_telef_prop != null) ||
                (tmpDatos.f01_cel_prop != "" && tmpDatos.f01_cel_prop != null)) &&
                tmpDatos.f01_zon_prop != "" && tmpDatos.f01_zon_prop != null &&
                tmpDatos.f01_tip_via_prop != "" && tmpDatos.f01_tip_via_prop != null &&
                tmpDatos.f01_nom_via_prop != "" && tmpDatos.f01_nom_via_prop != null &&
                tmpDatos.f01_num_prop != "" && tmpDatos.f01_num_prop != null )
            {
                tmpDatosPersona = 1;
            } else {
                if( tmpDatos &&
                    tmpDatos.f01_tipo_per == "J" && tmpDatos.f01_tipo_per == "J" &&
                    tmpDatos.f01_num_doc_per_jur != "" && tmpDatos.f01_num_doc_per_jur != null &&
                    tmpDatos.f01_raz_soc_per_jur != "" && tmpDatos.f01_raz_soc_per_jur != null &&
                    tmpDatos.f01_tip_doc_rep != "" && tmpDatos.f01_tip_doc_rep != null &&
                    tmpDatos.f01_num_doc_rep != "" && tmpDatos.f01_num_doc_rep != null &&
                    tmpDatos.f01_expedido_rep != "" && tmpDatos.f01_expedido_rep != null &&
                    tmpDatos.f01_pri_nom_rep != "" && tmpDatos.f01_pri_nom_rep != null &&
                    ((tmpDatos.f01_ape_pat_rep != "" && tmpDatos.f01_ape_pat_rep != null) ||
                    (tmpDatos.f01_ape_mat_rep != "" && tmpDatos.f01_ape_mat_rep != null)) &&
                    //tmpDatos.f01_telef_rep != "" && tmpDatos.f01_telef_rep != null &&
                    tmpDatos.f01_id_zona_rep != "" && tmpDatos.f01_id_zona_rep != null &&
                    tmpDatos.f01_tipo_viarep != "" && tmpDatos.f01_tipo_viarep != null &&
                    tmpDatos.f01_nom_via_rep != "" && tmpDatos.f01_nom_via_rep != null &&
                    tmpDatos.f01_num_rep != "" && tmpDatos.f01_num_rep != null &&
                    tmpDatos.f01_ges_vig_pod != "" && tmpDatos.f01_ges_vig_pod != null &&
                    tmpDatos.f01_num_pod_leg != "" && tmpDatos.f01_num_pod_leg != null &&
                    tmpDatos.f01_num_not != "" && tmpDatos.f01_num_not != null )
                {
                    tmpDatosPersona = 1;
                }            
            } 
        } else {
            tmpDatosPersona = 1;
        }
        if( tmpDatos &&
            tmpDatos.f01_tip_act != "" && tmpDatos.f01_tip_act != null &&
            tmpDatos.f01_tipo_lic != "" && tmpDatos.f01_tipo_lic != null &&
            ((tmpDatos.f01_categoria_agrupada != "" && tmpDatos.f01_categoria_agrupada != null) ||
            (tmpDatos.f01_categoria != "" && tmpDatos.f01_categoria != null)) &&
            //tmpDatos.f01_requisitos_tecnicos != "" && tmpDatos.f01_requisitos_tecnicos != null &&
            tmpDatos.f01_requisitos_actividad_economica != "" && tmpDatos.f01_requisitos_actividad_economica != null )
        {
            tmpDatosLicencia = 1;
        }
        if ($scope.datos.f01_num_act == "NINGUNO") {
            if ($scope.datos.f01_num_act_n != "" && $scope.datos.f01_num_act_n != null ) {
                viaValor = true;
                $scope.datos.f01_num_act = $scope.datos.f01_num_act_n;
            } else {
                viaValor = false;
            }
        } else {
            viaValor = true;
        }


        if( tmpDatos &&
            tmpDatos.f01_sup != "" && tmpDatos.f01_sup != null && $scope.id != 0 &&
            tmpDatos.f01_cap_aprox != "" && tmpDatos.f01_cap_aprox != null &&
            tmpDatos.f01_de_hor != "" && tmpDatos.f01_de_hor != null &&
            tmpDatos.f01_a_hor != "" && tmpDatos.f01_a_hor != null &&
            tmpDatos.f01_estab_es != "" && tmpDatos.f01_estab_es != null &&
            //tmpDatos.f01_macro_act != "" && tmpDatos.f01_macro_act != null &&
            tmpDatos.f01_dist_act != "" && tmpDatos.f01_dist_act != null &&
            tmpDatos.f01_zona_act != "" && tmpDatos.f01_zona_act != null &&
            tmpDatos.f01_factor != "" && tmpDatos.f01_factor != null &&
            tmpDatos.f01_tip_via_act != "" && tmpDatos.f01_tip_via_act != null &&
            tmpDatos.f01_num_act != "" && tmpDatos.f01_num_act != null &&
            tmpDatos.f01_num_act1 != "" && tmpDatos.f01_num_act1 != null &&
            tmpDatos.f01_hojas_recibidas != "" && tmpDatos.f01_hojas_recibidas != null &&
            tmpDatos.f01_observaciones_i != "" && tmpDatos.f01_observaciones_i != null && viaValor)
        {
            tmpDatosActividad = 1;
        }
        //console.log(tmpDatosPersona, tmpDatosLicencia, tmpDatosActividad);
        //console.log("ddddd   ",tmpDatos);
        //console.log("checkssss   ",tmpDatos.f01_requisitos_actividad_economica);
        //console.log(tmpDatosPersona,tmpDatosLicencia,tmpDatosActividad,$scope.id);
        if(tmpDatosPersona == 1 && tmpDatosLicencia == 1 && tmpDatosActividad == 1)
        {  $scope.datos.f01_zon_seg = '[{"tipo":"CHK"},{"valor":"'+tmpDatos.f01_zon_se+'"}]';
            $scope.datos.f01_zon_seg = JSON.parse($scope.datos.f01_zon_seg);
            /*var indice = 1;
            var vector = []
            vector[0] = {"tipo":"CHKM"};
            angular.forEach($scope.datos.f01_requisitos_actividad_economica, function(value, key) {
                vector[indice] = value;
                indice = indice + 1;
            }, log);
            $scope.datos.f01_requisitos_actividad_economica = vector;*/

            if ($scope.datos.f01_seg_nom_rep == null) {
                $scope.datos.f01_seg_nom_rep = '';
            };
            if ($scope.datos.f01_ape_cas_rep == null) {
                $scope.datos.f01_ape_cas_rep = '';
            };
            
            $scope.datos.f01_macro_act_descrip = $scope.macrodistrito;
            $scope.datos.f01_macro_act = $scope.macrodistritoID;

            //$scope.datos.g_fecha=fechaA;
            $scope.datos.f01_fecha_ini_act=fechaInicioActividad;
            
            if($scope.nuevoj === 0 && $scope.nuevoc === 0) {
                //completar las de sesion 
                //$scope.setContribuyente($scope.datos);
                console.log($scope.nuevoj," quitando registro de contribuyente",$scope.nuevoc);
                $scope.cargarDatos($scope.datos);
                $scope.guardarData($scope.datos);
            } else {
                
                //completar las de sesion 
                var sesNodo = sessionService.get("NODO").toUpperCase();
                var sesTpPrc = sessionService.get("TIPO_PROCESO");//no se tiene 
                var sesTrmAct = sessionService.get("TRAMITE_ACTUAL");
                var sesUsr = sessionService.get("USUARIO");
                var sesUsrNom = sessionService.get("US_NOMBRE").toUpperCase() + " " + sessionService.get("US_PATERNO").toUpperCase() + " " + sessionService.get("US_MATERNO").toUpperCase();
                var sesRol = sessionService.get("US_ROL");

                $scope.datos.f01_sesNodo =sesNodo;
                $scope.datos.f01_sesRol = sesTpPrc;
                //$scope.datos.f01_sesTpPrc = sesTrmAct;
                $scope.datos.f01_sesTrmAct =sesUsr;
                $scope.datos.f01_sesUsr = sesUsrNom;
                $scope.datos.f01_sesUsrNom = sesRol;
                


                $scope.cargarDatos($scope.datos);
                $scope.guardarData($scope.datos);}
                //console.log("NATURa",$scope.natura);
                if($scope.natura == 1) {
                    var registrarCiudadano=new rcNatural();
                    registrarCiudadano.ci=response.f01_num_dos_prop;
                    registrarCiudadano.complemento="";
                    registrarCiudadano.nombre=response.f01_pri_nom_prop;
                    registrarCiudadano.paterno=response.f01_ape_pat_prop;
                    registrarCiudadano.materno=response.f01_ape_mat_prop;
                    registrarCiudadano.tercer_apellido=response.f01_ape_cas_prop;
                    registrarCiudadano.expedido=response.f01_expedido_prop;
                    registrarCiudadano.fec_nacimiento=response.f01_fecha_nac;
                    registrarCiudadano.lugar_nacimiento="0";
                    registrarCiudadano.pais_origen="0";
                    registrarCiudadano.sexo="0";
                    registrarCiudadano.id_estado_civil="0";
                    registrarCiudadano.profesion="0";
                    registrarCiudadano.otra_profesion="0";
                    registrarCiudadano.telefono=response.f01_telef_prop;
                    registrarCiudadano.movil=response.f01_cel_prop;
                    registrarCiudadano.correo=response.f01_email_prop;
                    registrarCiudadano.direccion=response.f01_dir_det_prop;
                    registrarCiudadano.usr_id="0";
                    registrarCiudadano.pais = "0";
                    registrarCiudadano.departamento = "0";
                    registrarCiudadano.provincia = "0";
                    registrarCiudadano.municipio = "0";
                    registrarCiudadano.macrodistrito = "0";
                    registrarCiudadano.macrodistrito_desc = "0";
                    registrarCiudadano.distrito = "0";
                    registrarCiudadano.distrito_desc = "0";
                    registrarCiudadano.zona = response.f01_zon_prop;
                    registrarCiudadano.zona_desc = response.f01_zon_prop_descrip;
                    registrarCiudadano.tipo_via = response.f01_tip_via_prop;
                    registrarCiudadano.nombre_via = response.f01_nom_via_prop;
                    registrarCiudadano.numero_casa = response.f01_num_prop;
                    registrarCiudadano.edificio = response.f01_nom_edi_prop;
                    registrarCiudadano.bloque = response.f01_bloq_prop;
                    registrarCiudadano.piso = response.f01_piso_prop;
                    registrarCiudadano.oficina = response.f01_depa_prop;
                    registrarCiudadano.latitud = "0";
                    registrarCiudadano.longitud = "0";
                    console.log("registrarCiudadano: ", registrarCiudadano);
                    registrarCiudadano.crearNatural(function(resultado){
                        resultadoApi = JSON.parse(resultado);
                        if( typeof(resultadoApi.success) != 'undefined'){
                            console.log("REGISTRO CORRECTO");
                            $scope.registroCiudadanoMensajes(resultadoApi);
                        }else{
                            $.unblockUI();
                            sweet.show(resultadoApi.error.message);
                        }
                    });
                }
            }
            else
            {
                sweet.show('', "Debe llenar todos los campos obligatorios * ", 'warning');
            }

             console.log("registrarCiudadano: ", registrarCiudadano);
             console.log("datos... scope: ", $scope.datos);
    };

    $scope.setContribuyente = function(datos) { 
        console.log("SET Contribuyente 1111",datos);
        if(datos.f01_tipo_per=="N")
            $scope.setContribuyenteNatural(datos);
        else
            $scope.setContribuyenteJuridico(datos);
    };

    //Servicio de lista de Actividades del contribuyente
    $scope.listadoAEContribuyente = function (dato) {
        console.log("dato:: ", dato);
        $.blockUI();
        var x2js = new X2JS(); 
        var datoss = {};
        datoss.idContribuyente = dato.idContribuyente; 
        datoss.personaclase = dato.personaclase; 
        var contribuyente1 = [];         
        $.ajax({
            url: 'http://192.168.5.148/swGenesisFinalProduccion/swLicencia.asmx/LotuActividadContribuyente?jsoncallback=?',
            //url: 'http://192.168.5.148/swGenesisFinal/swLicencia.asmx/LotuActividadContribuyente?jsoncallback=?',
            type:"post",
            data: {
                idContribuyente: datoss.idContribuyente,
                clase: datoss.personaclase
            },
            success: function (xml, status, xhr) {
                xml = xhr.responseText;
                  try{
                    contribuyente1 = x2js.xml_str2json(xml).DataSet.diffgram.NewDataSet.Table;
                    console.log('Contribuyente: ',contribuyente1);
                  }catch(e){
                    contribuyente1 = [];
                  }                      
            },
            error: function (SOAPResponse) {
            }
        });

        setTimeout(function(){
                var  condato = [];
                var contribuyente111 = JSON.stringify(contribuyente1);
                console.log("contribuyente111: ",contribuyente111);
                if(contribuyente111 != '[]'){
                    if(contribuyente1.length > 0){
                        condato = contribuyente1; 
                    }else{
                        var contribuyente11 = "["+JSON.stringify(contribuyente1)+"]";
                        contribuyente1 = JSON.parse(contribuyente11); 
                        condato = contribuyente1; 
                    }                   
                } 

                console.log(contribuyente1);           
                var response = condato;
                var nroregistros = condato.length;
                console.log("condato.length: ",condato.length);
                    if(condato.length > 0){
                        console.log("idContribuyente2: ",condato);
                        for(var i = 0; i<nroregistros ; i++){
                            console.log("oooooo");

                        }  
                        $scope.$apply(function(){
                            //$scope.formGrillaFallecido = "mostrar";
                            //$scope.tablaCiudadanos = "mostrar";
                            $scope.obtDatosCont = response;
                            sweet.show('', "Datos Encontrados !!!", 'success');
                            $scope.licenciaToogle = true;
                            $scope.licenciaToogle1 = true;
                            $scope.licenciaToogle2 = false;
                            $scope.datos.rdTipoTramite = "RENOVACION";
                        });
                        $.unblockUI();
                    } else {
                        $scope.obtDatosCont = [];
                        //$scope.tablaCiudadanos = null;
                        sweet.show('', "No se Encontro ningun Registro", 'error');
                        $.unblockUI();
                    }  

                }, 5000);
    };
    $scope.cambioToggle = function (cambio) {
        console.log("cambio toggle");
        console.log(cambio);
        /*var resp = $(this).prop('checked');
        if ($(this).prop('checked')) {
            //NUEVO
            console.log ($(this).prop('checked'));
            $scope.licenciaToogle1 = false;
            $scope.licenciaToogle2 = true;
        } else {
            //RENOVACION
            console.log ($(this).prop('checked'));
            $scope.licenciaToogle1 = true;
            $scope.licenciaToogle2 = false;
        } */   
        if (cambio == "NUEVO") {
            //NUEVO
            $scope.tipoCategoria = false;
            $scope.actividadDesarrollada = true;
            $scope.datos.f01_id_actividad_economica = '';
            $scope.datos.f01_nro_orden = "";
            $scope.datos.f01_nit = '';
            $scope.datos.f01_raz_soc = '';
            $scope.datos.f01_sup = '';
            $scope.datos.f01_cap_aprox = '';
            $scope.datos.f01_de_hor = '';
            $scope.datos.f01_a_hor = '';
            $scope.datos.f01_fecha_ini_act = '';
            $scope.datos.f01_estab_es = '';
            $scope.datos.f01_macro_act = '';
            $scope.datos.f01_macro_act_descrip = '';
            $scope.datos.f01_dist_act = '';
            $scope.datos.f01_dist_act_descrip = '';
            $scope.datos.f01_tip_via_act = '';
            $scope.datos.f01_zona_act = '';
            $scope.datos.f01_zona_act_descrip = '';
            $scope.datos.f01_num_act = '';
            $scope.datos.f01_num_act1 = '';
            $scope.datos.f01_edificio_act = '';
            $scope.datos.f01_bloque_act = '';
            $scope.datos.f01_piso_act = '';
            $scope.datos.f01_dpto_of_loc = '';
            $scope.datos.f01_tel_act1 = '';
            $scope.datos.f01_cod_luz = '';
            $scope.datos.f01_idCodigoZona = '';
            $scope.datos.f01_casilla = '';
            $scope.datos.f01_productosElaborados = '';
            $scope.datos.f01_actividadesSecundarias = '';
            $scope.datos.f01_factor = '';
            $scope.datos.f01_tip_act = '';
            $scope.datos.f01_tipo_lic = '';
            $scope.datos.f01_tipo_lic_descrip = '';
            $scope.datos.f01_categoria = '';
            $scope.datos.f01_categoria_descrip = '';
            $scope.licenciaToogle1 = false;
            $scope.licenciaToogle2 = true;
        } else {
            //RENOVACION
            $scope.tipoCategoria = false;
            $scope.actividadDesarrollada = true;
            $scope.datos.f01_id_actividad_economica = '';
            $scope.datos.f01_nro_orden = "";
            $scope.datos.f01_nit = '';
            $scope.datos.f01_raz_soc = '';
            $scope.datos.f01_sup = '';
            $scope.datos.f01_cap_aprox = '';
            $scope.datos.f01_de_hor = '';
            $scope.datos.f01_a_hor = '';
            $scope.datos.f01_fecha_ini_act = '';
            $scope.datos.f01_estab_es = '';
            $scope.datos.f01_macro_act = '';
            $scope.datos.f01_macro_act_descrip = '';
            $scope.datos.f01_dist_act = '';
            $scope.datos.f01_dist_act_descrip = '';
            $scope.datos.f01_tip_via_act = '';
            $scope.datos.f01_zona_act = '';
            $scope.datos.f01_zona_act_descrip = '';
            $scope.datos.f01_num_act = '';
            $scope.datos.f01_num_act1 = '';
            $scope.datos.f01_edificio_act = '';
            $scope.datos.f01_bloque_act = '';
            $scope.datos.f01_piso_act = '';
            $scope.datos.f01_dpto_of_loc = '';
            $scope.datos.f01_tel_act1 = '';
            $scope.datos.f01_cod_luz = '';
            $scope.datos.f01_idCodigoZona = '';
            $scope.datos.f01_casilla = '';
            $scope.datos.f01_productosElaborados = '';
            $scope.datos.f01_actividadesSecundarias = '';
            $scope.datos.f01_factor = '';
            $scope.datos.f01_tip_act = '';
            $scope.datos.f01_tipo_lic = '';
            $scope.datos.f01_tipo_lic_descrip = '';
            $scope.datos.f01_categoria = '';
            $scope.datos.f01_categoria_descrip = '';
            $scope.licenciaToogle1 = true;
            $scope.licenciaToogle2 = false;
        }    
    };

    /*
    $scope.setContribuyenteNatural = function(datos) { 
            console.log("Entro hasta aca");
            wsContribuyenteNatural.RegistrarNuevoContribuyenteGenesisNatural(datos).then(function(response){
                $scope.datos.f01_id_contribuyente = response.idPersona;
                if($scope.datos.f01_id_contribuyente != "" && $scope.datos.f01_id_contribuyente != null)
                {
                    $scope.desabilitado=true;
                    $scope.registraControbuyente = true;
                    $scope.registrarActividad =false;
                    $scope.generaLicencia = true;
                //sweet.show('Contribuyente Registrado','El Contribuyente se registro correctamente','success');    
                }
                console.log(response);
              });
      };
    $scope.setContribuyenteJuridico = function(datos) { 
            console.log("hol adatas",datos);
            var data = {};
            wsContribuyenteJuridico.RegistrarNuevoContribuyenteGenesisJuridico(datos).then(function(response){
                 data.idContribuyente = response.idEmpresa;
                if(data.idContribuyente != "" && data.idContribuyente != null)
                {
                    $scope.cargardatosj(data);
               //     sweet.show('Contribuyente Registrado', 'El Contribuyente se registro correctamente', 'success');    
                }
                console.log("hola",response);
               // $scope.datos.f01_id_actividad_economica = response.idEmpresa;
              });
      };
      */
    ///////////////////////////////////////////////////////////////////////////////////////////
    /////////////////////////////////// FUNCIONES DE INICIO ///////////////////////////////////
    /////////////////////////////////////////////////////////////////////////////////////////// 
    
    $scope.$on('api:ready',function(){ 
        
        //var sesNodo = sessionStorage.NODO.toUpperCase();
        var sesNodo = sessionService.get("NODO").toUpperCase();
        //var sesTpPrc = sessionStorage.TIPO_PROCESO;//no se tiene 
        var sesTpPrc = sessionService.get("TIPO_PROCESO");//no se tiene 
        //var sesTrmAct = sessionStorage.TRAMITE_ACTUAL;
        var sesTrmAct = sessionService.get("TRAMITE_ACTUAL");
        //var sesUsr = sessionStorage.USUARIO;
        var sesUsr = sessionService.get("USUARIO");
        //var sesUsrNom = sessionStorage.US_NOMBRE.toUpperCase() + " " + sessionStorage.US_PATERNO.toUpperCase() + " " + sessionStorage.US_MATERNO.toUpperCase();
        var sesUsrNom = sessionService.get("US_NOMBRE").toUpperCase() + " " + sessionService.get("US_PATERNO").toUpperCase() + " " + sessionService.get("US_MATERNO").toUpperCase();
        //var sesRol = sessionStorage.US_ROL;
        var sesRol = sessionService.get("US_ROL");  
                
        $scope.getLicencias();
        $scope.getMacrodistritos();
        $scope.cargarZonaContribuyente();
        // publicidad

        // codigo_agregado

        $scope.GetDatosVia($scope.datos.f01_zona_act);
        console.log("ZONA READY:****",$scope.datos.f01_zon_prop);

            
       //$scope.desabilitado = true;

        console.log("TIPO DE VIA actividad:",$scope.datos.f01_tip_via_act);
        // if($scope.datos.INT_AC_TIP_VIA=="AVENIDA")
        // {
        //     $scope.datos.INT_AC_TIP_VIA="AV";
        // }

        switch($scope.datos.f01_tip_via_act){
            case "AVENIDA":
                $scope.datos.f01_tip_via_act="AV";
            break;

            case "CALLE":
                $scope.datos.f01_tip_via_act="CA";
            break;

            case "CALLEJON":
                $scope.datos.f01_tip_via_act="CL";
            break;

            case "CANCHA":
                $scope.datos.f01_tip_via_act="CN";
            break;

            case "PARQUE":
                $scope.datos.f01_tip_via_act="PR";
            break;

            case "PLAZA":
                $scope.datos.f01_tip_via_act="PL";
            break;

            case "PASAJE":
                $scope.datos.f01_tip_via_act="PA";
            break;

            case "NO DEFINIDO":
                $scope.datos.f01_tip_via_act="ND";
            break;
        } 
// fin codigo_agregado

        /*$scope.datos.f01_sesNodo = sesNodo;
        //$scope.datos.f01_sesTpPrc = sesTpPrc;
        $scope.datos.f01_sesTrmAct = sesTrmAct;
        $scope.datos.f01_sesUsr = sesUsr;
        $scope.datos.f01_sesUsrNom = sesUsrNom;
        $scope.datos.f01_sesRol = sesRol;*/
        $scope.lscategoria();
        $scope.lssubcategoria();
        $scope.lsCaracteristica();
        
    });
    $scope.inicioAE = function () {
        if(DreamFactory.api[CONFIG.SERVICE]){
            
            //var sesNodo = sessionStorage.NODO.toUpperCase();
            var sesNodo = sessionService.get("NODO").toUpperCase();
            //var sesTpPrc = sessionStorage.TIPO_PROCESO;//no se tiene 
            var sesTpPrc = sessionService.get("TIPO_PROCESO");//no se tiene 
            //var sesTrmAct = sessionStorage.TRAMITE_ACTUAL;
            var sesTrmAct = sessionService.get("TRAMITE_ACTUAL");
            //var sesUsr = sessionStorage.USUARIO;
            var sesUsr = sessionService.get("USUARIO");
            //var sesUsrNom = sessionStorage.US_NOMBRE.toUpperCase() + " " + sessionStorage.US_PATERNO.toUpperCase() + " " + sessionStorage.US_MATERNO.toUpperCase();
            var sesUsrNom = sessionService.get("US_NOMBRE").toUpperCase() + " " + sessionService.get("US_PATERNO").toUpperCase() + " " + sessionService.get("US_MATERNO").toUpperCase();
            //var sesRol = sessionStorage.US_ROL;
            var sesRol = sessionService.get("US_ROL");
            
            $scope.getLicencias();
            $scope.getMacrodistritos();
            $scope.cargarZonaContribuyente();
            $scope.GetDatosVia($scope.datos.f01_zona_act);

            console.log("111111111111111111111111",$scope.datos.f01_id_actividad_economica);
            console.log("222222222222222222222222",$scope.datos.rdTipoTramite);
             if($scope.datos.rdTipoTramite) {
                if ($scope.datos.rdTipoTramite == "RENOVACION" || $scope.datos.rdTipoTramite == "NUEVO") {
                    $scope.licenciaToogle = true;
                    $scope.licenciaToogle1 = false;
                    $scope.licenciaToogle2 = true;
                } else {
                    $scope.licenciaToogle = true;
                    $scope.licenciaToogle1 = false;
                    $scope.licenciaToogle2 = false;
                }
            } else {
                $scope.licenciaToogle = true;
                $scope.licenciaToogle1 = false;
                $scope.licenciaToogle2 = true;
                if($scope.datos.f01_id_actividad_economica) {
                    $scope.datos.rdTipoTramite = "RENOVACION";
                } else {
                    $scope.datos.rdTipoTramite = "NUEVO";
                }
            }
            
            /*if ($scope.datos.rdTipoTramite == "RENOVACION" || $scope.datos.rdTipoTramite == "NUEVO") {
                $scope.licenciaToogle = true;
                $scope.licenciaToogle1 = false;
                $scope.licenciaToogle2 = true;
            } else {
                $scope.licenciaToogle = true;
                $scope.licenciaToogle1 = false;
                $scope.licenciaToogle2 = false;
            }*/




            switch($scope.datos.f01_tip_via_act){
                case "AVENIDA":
                    $scope.datos.f01_tip_via_act="AV";
                break;

                case "CALLE":
                    $scope.datos.f01_tip_via_act="CA";
                break;

                case "CALLEJON":
                    $scope.datos.f01_tip_via_act="CL";
                break;

                case "CANCHA":
                    $scope.datos.f01_tip_via_act="CN";
                break;

                case "PARQUE":
                    $scope.datos.f01_tip_via_act="PR";
                break;

                case "PLAZA":
                    $scope.datos.f01_tip_via_act="PL";
                break;

                case "PASAJE":
                    $scope.datos.f01_tip_via_act="PA";
                break;

                case "NO DEFINIDO":
                    $scope.datos.f01_tip_via_act="ND";
                break;
            } 
            /*
            $scope.datos.f01_sesNodo = sesNodo;
            //$scope.datos.f01_sesTpPrc = sesTpPrc;
            $scope.datos.f01_sesTrmAct = sesTrmAct;
            $scope.datos.f01_sesUsr = sesUsr;
            $scope.datos.f01_sesUsrNom = sesUsrNom;
            $scope.datos.f01_sesRol = sesRol;
            */
            $scope.lscategoria();
            $scope.lssubcategoria();
            $scope.lsCaracteristica();
            if ($scope.datos.f01_num_act_n == $scope.datos.f01_num_act) {
                $scope.datos.f01_num_act = "NINGUNO";
            } 
        }
    };
}



</script>

<!-- ////////////////////////////////////////////////////////////////////////////////////////////////////// -->
<!-- ////////////////////////////////////////////////////////////////////////////////////////////////////// -->
<!-- ////////////////////////////////////////////////////////////////////////////////////////////////////// -->
<!-- //////////////////////////////////////// vista del formulario //////////////////////////////////////// -->
<!-- ////////////////////////////////////////////////////////////////////////////////////////////////////// -->
<!-- ////////////////////////////////////////////////////////////////////////////////////////////////////// -->
<!-- ////////////////////////////////////////////////////////////////////////////////////////////////////// -->




<div class="wrap" ng-controller="frmAE10Controller" data-ng-init="inicioAE()">
    <!--<legend><center>{{titulo}}</center></legend>-->
    
    <div>
        <!-- /////////////////////////////// -->
        <!-- /////// tipo de persona /////// -->
        <!-- /////////////////////////////// -->
        <div ng-show = "tipoPersona == null">
            <div class="ibox-title_2">
                <center><h5>{{titulo}}</h5></center>
            </div>
            <form name="formularioBuscar" readOnly="true" novalidate>
                <div class="row">
                    <div class="col-md-4">                    
                        <div class="form-group">
                            <label class="col-sm-4 control-label no-padding-right" for="tpersona">Tipo Persona: </label>
                            <div class="col-sm-8">
                                <select id="AE_B_TIPO_SOL" name="AE_B_TIPO_SOL" ng-model="tipo_persona" class="form-control" required>
                                    <option value="N" selected> Persona Natural </option>
                                    <option value="J"> Persona Jurídica </option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <button name="btnTipoPersona" id="btnTipoPersona" ng-click="abrirDivPersona(tipo_persona)" data-dismiss="modal" type="button" class="btn btn-primary" ng-show="tipo_persona != null"><i class="glyphicon fa fa-search-plus"></i> Continuar </button>
                    
                </div>
            </form>
        </div>
       
        
        <!-- ////////////////////////////////////// -->
        <!-- /////// buscar persona natural /////// -->
        <!-- ////////////////////////////////////// -->
        <div ng-show = "personaNatural != null">
            <form name="formularioBuscar" readOnly="true" novalidate>
                <div class="row">
                    <div class="col-md-4">
                        <div class="form-group" >
                            <label for="url" >Nro CI:</label>
                            <input  ng-model="datos.vci" id="vci" name="vci" class="form-control" type="text" placeholder="Ingrese Nro. CI" size="20" onkeyup="deshabilita(this.form);valNumero(this);" required>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group" >
                            <label for="url" >Nombre:</label>
                            <input  ng-model="datos.vnombre" id="vnombre" name="vnombre" class="form-control" type="text" placeholder="Ingrese Nombre" class="form-control"  onkeyUp="return conMayusculas(this);" ng-minlength="3" required>
                        </div>
                        <span style="color:red" ng-show="formularioBuscar.vnombre.$invalid">
                          <span ng-show="formularioBuscar.vnombre.$error.required"></span>
                        </span>
                    </div>
                    <div  class="col-md-4" >
                        <div class="form-group" >
                            <label for="url" >Apellido Paterno:</label>
                            <input  ng-model="datos.vappaterno" id="vappaterno" name="vappaterno" class="form-control" type="text" placeholder="Ingrese Apellido Paterno" onkeyUp="return conMayusculas(this);" ng-minlength="3" required >
                        </div>
                        <span style="color:red" ng-show="formularioBuscar.vappaterno.$invalid">
                            <span ng-show="formularioBuscar.vappaterno.$error.required">
                            </span>
                        </span>
                    </div>
                    <div  class="col-md-4">
                        <div class="form-group" >
                            <label for="category">Apellido Materno:</label>
                            <input  ng-model="datos.vapmaterno" id="vapmaterno" ng-minlength="3"  name="vapmaterno" class="form-control" type="text" placeholder="Ingrese Apellido Materno" onkeyUp="return conMayusculas(this);" required>
                        </div>
                            <span style="color:red" ng-show="formularioBuscar.vapmaterno.$invalid">
                                <span ng-show="formularioBuscar.vapmaterno.$error.required">
                                </span>
                            </span>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group" >
                            <label for="url" >Nro PMC:</label>
                            <input  ng-model="datos.vpmc" id="vpmc" name="vpmc" class="form-control" type="text" placeholder="PMC" size="20" onkeyup="deshabilita(this.form);" required>
                        </div>
                    </div>
                </div>
                <div>
                    <button name="btnVolver" id="btnVolver" ng-click="volverBusqueda()" data-dismiss="modal" type="button" class="btn btn-primary"><i class="glyphicon fa fa-reply"></i> Volver </button>
                    <button  name="btnBuscar" ng-click="buscarPersona(datos)" data-dismiss="modal" type="button" class="btn btn-primary" ng-disabled="formularioBuscar.vnombre.$invalid && formularioBuscar.vappaterno.$invalid && formularioBuscar.vapmaterno.$invalid"><i class="glyphicon fa fa-search"></i> Buscar</button>
                    <button name="btnNumeroRegistro" id="btnNumeroRegistro" ng-click="nuevoForm()" data-dismiss="modal" type="button" class="btn btn-primary"><i class="glyphicon fa fa-plus"></i> Nuevo Registro</button>
                </div>
            </form>
        </div>
        

        <!-- //////////////////////////////////////// -->
        <!-- /////// buscar persona juridicar /////// -->
        <!-- //////////////////////////////////////// -->
        <div ng-show = "personaJuridica != null">
            <form name="formularioBuscarJ" readOnly="true" novalidate>
                <div class="row">
                    <div class="col-md-4">
                        <div class="form-group" >
                            <label for="url" >Nro NIT :</label>
                            <input  ng-model="datos.vnit" id="vnit" name="vnit" class="form-control" type="text" ng-minlength="7" placeholder="Nro. NIT" onkeyup="deshabilita2(this.form);valNumero(this);" required>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group" >
                            <label for="url" >Razón Social:</label>
                            <input  ng-model="datos.vrazonsocial" id="vrazonsocial" name="vrazonsocial" class="form-control" type="text" placeholder="Razón Social" class="form-control" onkeyUp="return conMayusculas(this);" ng-minlength="3" required>
                        </div>
                        <span style="color:red" ng-show="formularioBuscarJ.vrazonsocial.$invalid">
                          <span ng-show="formularioBuscarJ.vrazonsocial.$error.required"></span>
                        </span>
                    </div>
                    <div  class="col-md-4" >
                        <div class="form-group" >
                            <label for="url" >Nro PMC:</label>
                            <input  ng-model="datos.vpmc2" id="vpmc2" name="vpmc2" class="form-control" ng-minlength="3" type="text" placeholder="PMC" onkeyUp="deshabilita2(this.form);" ng-minlength="3" required>
                        </div>
                    </div>
                </div>
                <div>
                    <button name="btnVolver" id="btnVolver" ng-click="volverBusqueda()" data-dismiss="modal" type="button" class="btn btn-primary"><i class="glyphicon fa fa-reply"></i> Volver </button>
                    <button  name="btnBuscar" ng-click="buscarPersonaJ(datos)" data-dismiss="modal" type="button" class="btn btn-primary" ng-disabled="formularioBuscarJ.vrazonsocial.$invalid"><i class="glyphicon fa fa-search"></i> Buscar</button>
                    <button name="btnNumeroRegistro" id="btnNumeroRegistro" ng-click="nuevoForm()" data-dismiss="modal" type="button" class="btn btn-primary"><i class="glyphicon fa fa-plus"></i> Nuevo Registro</button>
                </div>
            </form>
        </div>
        <br>
        

        <!-- ////////////////////////////////////// -->
        <!-- /////// tabla de datos natural /////// -->
        <!-- ////////////////////////////////////// -->
        <div class="row" ng-show="tablaCiudadanos != null"> 
            <div class="ibox float-e-margins">
                <div class="ibox-title">
                   <h5>Lista de personas</h5>
                      <div ibox-tools></div>
                </div>
                <div class="ibox-content">
                   <table class="table table-striped">
                      <thead>
                        <th>#&nbsp;</th>
                        <th>ELEGIR&nbsp;</th>
                        <th>PADRON&nbsp;</th>
                        <th>IDENTIFICACION&nbsp;</th>
                        <th>NOMBRE&nbsp;</th>
                        <th>APELLIDO PATERNO&nbsp;</th>
                        <th>APELLIDO MATERNO&nbsp;</th>
                        <!--<th>ID CONTRIBUYENTE&nbsp;</th>-->
                              <!-- <th>Datos&nbsp;</th> -->
                      </thead>
                      <tbody>
                         <tr class="column" ng-repeat="datos in obtDatos">
                            <td>{{$index+1}}</td>
                            <td>
                                <a ng-click="verFormularioNatural(datos)" tooltip = "Ver" class="btn btn-info btn-circle"><i class="fa fa-folder-open"></i></a>
                            </td>
                            <td>{{datos.padron}}</td>
                            <td>{{datos.identificacion}}</td>
                            <td>{{datos.NOMBRE}}</td>
                            <td>{{datos.APELLIDO}}</td>
                            <td>{{datos.APELLIDO2}}</td>
                            <!--<td>{{datos.idContribuyente}}</td>-->
                          </tr>
                      </tbody>
                   </table>
                </div>
            </div>
        </div>
        <div class="row" ng-show="tablaCiudadanosRC != null"> 
            <div class="ibox float-e-margins">
                <div class="ibox-title">
                   <h5>Lista de personas</h5>
                      <div ibox-tools></div>
                </div>
                <div class="ibox-content">
                   <table class="table table-striped">
                      <thead>
                        <th>#&nbsp;</th>
                        <th>ELEGIR&nbsp;</th>
                        <!--th>PADRON&nbsp;</th-->
                        <th>IDENTIFICACION&nbsp;</th>
                        <th>NOMBRE&nbsp;</th>
                        <th>APELLIDO PATERNO&nbsp;</th>
                        <th>APELLIDO MATERNO&nbsp;</th>
                        <!--<th>ID CONTRIBUYENTE&nbsp;</th>-->
                              <!-- <th>Datos&nbsp;</th> -->
                      </thead>
                      <tbody>
                         <tr class="column" ng-repeat="datos in obtDatosRC">
                            <td>{{$index+1}}</td>
                            <td>
                                <a ng-click="nuevoFormRC(datos)" tooltip = "Ver" class="btn btn-info btn-circle"><i class="fa fa-folder-open"></i></a>
                            </td>
                            <!--td>{{datos.padron}}</td-->
                            <td>{{datos.dtspsl_ci}}</td>
                            <td>{{datos.dtspsl_nombres}}</td>
                            <td>{{datos.dtspsl_paterno}}</td>
                            <td>{{datos.dtspsl_materno}}</td>
                            <!--<td>{{datos.idContribuyente}}</td>-->
                          </tr>
                      </tbody>
                   </table>
                </div>
            </div>
        </div>


        <!-- /////////////////////////////////////// -->
        <!-- /////// tabla de datos juridico /////// -->
        <!-- /////////////////////////////////////// -->
        <div class="row" ng-show="tablaEmpresas != null"> 
            <div class="ibox float-e-margins">
                <div class="ibox-title">
                   <h5>Lista de empresas</h5>
                      <div ibox-tools></div>
                </div>
                <div class="ibox-content">
                   <table class="table table-striped">
                      <thead>
                        <th>#&nbsp;</th>
                        <th>ELEGIR&nbsp;</th>
                        <th>PADRON&nbsp;</th>
                        <th>NIT&nbsp;</th>
                        <th>EMPRESA&nbsp;</th>
                        <!--<th>ID CONTRIBUYENTE&nbsp;</th>
                        <th>ID Padron&nbsp;</th>-->
                      </thead>
                      <tbody>
                         <tr class="column" ng-repeat="datos in obtDatos">
                            <td>{{$index+1}}</td>
                            <td>
                                <a ng-click="verFormularioJuridico(datos)" class="btn btn-default btn-circle"><i class="fa fa-folder-open" style="color:#249FE6"></i></a>
                            </td>
                            <td>{{datos.padron}}</td>
                            <td>{{datos.identificacion}}</td>
                            <td>{{datos.contribuyente}}</td>
                          </tr>
                      </tbody>
                   </table>
                </div>
            </div>
        </div>
        <div class="row" ng-show="tablaCiudadanosRCE != null"> 
            <div class="ibox float-e-margins">
                <div class="ibox-title">
                   <h5>Lista de empresas</h5>
                      <div ibox-tools></div>
                </div>
                <div class="ibox-content">
                   <table class="table table-striped">
                      <thead>
                        <th>#&nbsp;</th>
                        <th>ELEGIR&nbsp;</th>
                        <!--th>PADRON&nbsp;</th-->
                        <th>IDENTIFICACION&nbsp;</th>
                        <th>RAZON SOCIAL&nbsp;</th>
                        <!--<th>ID CONTRIBUYENTE&nbsp;</th>-->
                              <!-- <th>Datos&nbsp;</th> -->
                      </thead>
                      <tbody>
                         <tr class="column" ng-repeat="datos in obtDatosRC">
                            <td>{{$index+1}}</td>
                            <td>
                                <a ng-click="nuevoFormRC(datos)" tooltip = "Ver" class="btn btn-info btn-circle"><i class="fa fa-folder-open"></i></a>
                            </td>
                            <!--td>{{datos.padron}}</td-->
                            <td>{{datos.dtspsl_nit}}</td>
                            <td>{{datos.dtspsl_razon_social}}</td>
                            <!--<td>{{datos.idContribuyente}}</td>-->
                          </tr>
                      </tbody>
                   </table>
                </div>
            </div>
        </div>
        
        <!-- /////////////////////////// -->
        <!-- /////// datos debug /////// -->
        <!-- /////////////////////////// -->
        <!--<div>
            {{datos}}
        </div>-->


        
        <div> 
            <!-- //////////////////////////////// -->
            <!-- /////// cabecera natural /////// -->
            <!-- //////////////////////////////// -->
            
            <div ng-show="volverForm">
                <button name="btnVolver" id="btnVolver" ng-click="volverBusqueda()" data-dismiss="modal" type="button" class="btn btn-primary"><i class="glyphicon fa fa-reply"></i> Volver</button>
            </div>
            <br>

            <div ng-show = "cabeceraNatural">
                <!--<legend> Datos del contribuyente</legend>-->
                <div class="ibox-title_2">
                    <h5>Datos del contribuyente</h5>
                </div>
                <div class="col-sm-12" align="right">
                    <div class="form-group" >
                        <label class="col-sm-4 control-label no-padding-right" for="url" > NIT: </label>
                        <div class="col-sm-8" align="left">
                            <label for="url" >{{datos.f01_nit_prop}}</label>
                        </div>
                    </div>
                </div>
                <div class="col-sm-12" align="right">
                    <div class="form-group" >
                        <label class="col-sm-4 control-label no-padding-right" for="url" >Nombre Completo:</label>
                        <div class="col-sm-8" align="left">
                            <label for="url">
                                {{datos.f01_pri_nom_prop}} {{datos.f01_seg_nom_prop}} {{datos.f01_ter_nom_prop}} {{datos.f01_ape_pat_prop}} {{datos.f01_ape_mat_prop}} {{datos.f01_ape_cas_prop}}
                            </label>
                        </div>
                    </div>
                </div>
                <div class="col-sm-12" align="right">
                    <div class="form-group" >
                        <label class="col-sm-4 control-label no-padding-right" for="url" >Número de identidad: </label>
                        <div class="col-sm-8" align="left">
                            <label for="url" >{{datos.f01_num_dos_prop}}</label>
                        </div>
                    </div>
                </div>
                <div class="col-sm-12" align="right">
                    <div class="form-group" >
                        <label class="col-sm-4 control-label no-padding-right" for="url" > PMC: </label>
                        <div class="col-sm-8" align="left">
                            <label for="url" >{{datos.f01_num_pmc}}</label>
                        </div>
                    </div>
                </div>
            </div>
            <br>
            <br>


            <!-- ///////////////////////////////// -->
            <!-- /////// cabecera juridico /////// -->
            <!-- ///////////////////////////////// -->
            <div ng-show = "cabeceraJuridico">
                <!--<legend> Datos del contribuyente</legend>-->
                <div class="ibox-title_2">
                    <h5>Datos del contribuyente</h5>
                </div>
                <div class="col-sm-12" align="right">
                    <div class="form-group" >
                        <label class="col-sm-4 control-label no-padding-right" for="url" > NIT: </label>
                        <div class="col-sm-8" align="left">
                            <label for="url" >{{datos.f01_num_doc_per_jur}}</label>
                        </div>
                    </div>
                </div>
                <div class="col-sm-12" align="right">
                    <div class="form-group" >
                        <label class="col-sm-4 control-label no-padding-right" for="url" >Razon Social:</label>
                        <div class="col-sm-8" align="left">
                            <label for="url">
                                {{datos.f01_raz_soc_per_jur}}
                            </label>
                        </div>
                    </div>
                </div>
                <div class="col-sm-12" align="right">
                    <div class="form-group" >
                        <label class="col-sm-4 control-label no-padding-right" for="url" > PMC: </label>
                        <div class="col-sm-8" align="left">
                            <label for="url" >{{datos.f01_num_pmc}}</label>
                        </div>
                    </div>
                </div>
            </div>
            <br>
            <br>

            <!-- //////////////////////////////////////// -->
            <!-- /////// contenedor formulario 10 /////// -->
            <!-- //////////////////////////////////////// -->
        <form name="formularioRegistro" readOnly="true" novalidate ng-show = "mostrarFormulario">            
            <div class="tab-container" ng-show = "mostrarFormulario">
                <ul class="nav nav-tabs">
                    <li class="active"><a href="#tabDatos" data-toggle="tab">Datos del titular de la licencia</a></li>
                    <li><a href="#tabTecnicos" data-toggle="tab">Datos técnicos de la actividad económica</a></li>
                    <li><a href="#tabRequisitos" data-toggle="tab">Requisitos solicitados de la actividad económica</a></li>
                </ul>
                <div class="tab-content">
                    <div class="tab-pane active cont" id="tabDatos">
                        

                        <!-- /////////////////////////////////////////////////// -->
                        <!-- /////// TAB datos generales persona natural /////// -->
                        <!-- /////////////////////////////////////////////////// -->
                        <div class="col-lg-12" class="tab fade" ng-show = "naturalForm">
                            <div class="ibox float-e-margins">
                                <!--<legend>Datos Generales</legend>-->
                                <div class="ibox-title_2">
                                    <h5>Datos Generales</h5>
                                    <input  ng-model="datos.f01_sesNodo" name="f01_sesNodo" id="f01_sesNodo" type="hidden"> 
                                    <!--input  ng-model="datos.f01_sesTpPrc" name="f01_sesTpPrc" id="f01_sesTpPrc" type="hidden"--> 
                                    <input  ng-model="datos.f01_sesTrmAct" name="f01_sesTrmAct" id="f01_sesTrmAct" type="hidden"> 
                                    <input  ng-model="datos.f01_sesUsr" name="f01_sesUsr" id="f01_sesUsr" type="hidden"> 
                                    <input  ng-model="datos.f01_sesUsrNom" name="f01_sesUsrNom" id="f01_sesUsrNom" type="hidden"> 
                                    <input  ng-model="datos.f01_sesRol" name="f01_sesRol" id="f01_sesRol" type="hidden"> 
                                </div>
                                <div class="row">
                                    <div class="col-md-4">
                                        <div class="col-md-12" align="left">
                                            <div class="form-group" class="col-md-12">
                                                <label for="url" >NIT:</label>
                                                <div class="controls">
                                                    <input  ng-model="datos.f01_nit_prop" name="f01_nit_prop" id="f01_nit_prop" class="form-control" type="text" placeholder="Sin dato" ng-disabled="desabilitadonitc" onkeyUp="return valNumero(this);"> 
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="col-md-12" align="left">
                                            <div class="form-group" class="col-md-12">
                                                <label for="url" >TIPO DE DOCUMENTO: <font color="#FF0000"> * </font></label>
                                                <div class="controls">
                                                    <select id="f01_tip_doc_prop" name="f01_tip_doc_prop"  ng-model="datos.f01_tip_doc_prop"  class="form-control" placeholder="-- Seleccione --" ng-disabled="desabilitadotpc" required>
                                                        <option value="CI"> CARNET DE IDENTIDAD  </option>
                                                        <option value="CEXT"> CARNET DE EXTRANJERO  </option>
                                                        <option value="PAS"> PASAPORTE  </option>
                                                        <option value="RUN"> RUN  </option>
                                                        <option value="NT"> NIT  </option>
                                                        <option value="RUC"> RUC  </option>
                                                    </select>
                                                    <span style="color:red" ng-show="formularioRegistro.f01_tip_doc_prop.$invalid">
                                                        <span ng-show="formularioRegistro.f01_tip_doc_prop.$error.required">Es requerido.
                                                        </span>
                                                    </span>   
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="col-md-12" align="left">
                                            <div class="form-group" class="col-md-12">
                                                <label for="url" >NRO DE DOCUMENTO: <font color="#FF0000"> * </font></label>
                                                <div class="controls">
                                                    <input   ng-model="datos.f01_num_dos_prop" name="f01_num_dos_prop" id="f01_num_dos_prop" class="form-control" type="text" placeholder="Sin dato" ng-disabled="desabilitadonroc" ng-blur= "verificarC(datos)" onkeyUp="return valNumero(this);" required> 
                                                    <span style="color:red" ng-show="formularioRegistro.f01_num_dos_prop.$invalid">
                                                        <span ng-show="formularioRegistro.f01_num_dos_prop.$error.required">Es requerido.
                                                        </span>
                                                    </span> 
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="col-md-12" align="left">
                                            <div class="form-group" class="col-md-12">
                                                <label for="url" >EXPEDIDO: <font color="#FF0000"> * </font></label>
                                                <div class="controls">
                                                    <select id="f01_expedido_prop" name="f01_expedido_prop"  ng-model="datos.f01_expedido_prop"  class="form-control" placeholder="-- Seleccione --" required>
                                                        <option value="LPZ"> LA PAZ  </option>
                                                        <option value="ORU"> ORURO  </option>
                                                        <option value="PTS"> POTOSI  </option>
                                                        <option value="CBB"> COCHABAMBA  </option>
                                                        <option value="TJA"> TARIJA  </option>
                                                        <option value="CHQ"> CHUQUISACA  </option>
                                                        <option value="SCZ"> SANTA CRUZ  </option>
                                                        <option value="PND"> PANDO  </option>
                                                        <option value="BNI"> BENI  </option>
                                                        <option value="EXT"> EXTRANJERO  </option>
                                                    </select>
                                                    <span style="color:red" ng-show="formularioRegistro.f01_expedido_prop.$invalid">
                                                        <span ng-show="formularioRegistro.f01_expedido_prop.$error.required">Es requerido.
                                                        </span>
                                                    </span> 
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="col-md-12" align="left">
                                            <div class="form-group" class="col-md-12">
                                                <label for="url" >PRIMER NOMBRE: <font color="#FF0000"> * </font></label>
                                                <div class="controls">
                                                    <input  ng-model="datos.f01_pri_nom_prop" name="f01_pri_nom_prop" id="f01_pri_nom_prop" class="form-control" type="text" placeholder="Sin dato" onkeyUp="return conMayusculas(this);" required> 
                                                    <span style="color:red" ng-show="formularioRegistro.f01_pri_nom_prop.$invalid">
                                                        <span ng-show="formularioRegistro.f01_pri_nom_prop.$error.required">Es requerido.
                                                        </span>
                                                    </span> 
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-md-4">
                                        <div class="col-md-12" align="left">
                                            <div class="form-group" class="col-md-12">
                                                <label for="url" >SEGUNDO NOMBRE:</label>
                                                <div class="controls">
                                                    <input  ng-model="datos.f01_seg_nom_prop" name="f01_seg_nom_prop" id="f01_seg_nom_prop" class="form-control" type="text" placeholder="Sin dato" onkeyUp="return conMayusculas(this);"> 
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="col-md-12" align="left">
                                            <div class="form-group" class="col-md-12">
                                                <label for="url" >TERCER NOMBRE:</label>
                                                <div class="controls">
                                                    <input  ng-model="datos.f01_ter_nom_prop" name="f01_ter_nom_prop" id="f01_ter_nom_prop" class="form-control" type="text" placeholder="Sin dato" onkeyUp="return conMayusculas(this);" > 
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="col-md-12" align="left">
                                            <div class="form-group" class="col-md-12">
                                                <label for="url" >APELLIDO PATERNO: <font color="#FF0000"> ** </font></label>
                                                <div class="controls">
                                                    <input  ng-model="datos.f01_ape_pat_prop" name="f01_ape_pat_prop" id="f01_ape_pat_prop" class="form-control" type="text" placeholder="Sin dato" onkeyUp="return conMayusculas(this);" required> 
                                                    <span style="color:red" ng-show="formularioRegistro.f01_ape_pat_prop.$invalid && formularioRegistro.f01_ape_mat_prop.$invalid">
                                                        <span>** Es requerido Paterno o Materno.</span>
                                                    </span> 
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="col-md-12" align="left">
                                            <div class="form-group" class="col-md-12">
                                                <label for="url" >APELLIDO MATERNO: <font color="#FF0000"> ** </font></label>
                                                <div class="controls">
                                                    <input  ng-model="datos.f01_ape_mat_prop" name="f01_ape_mat_prop" id="f01_ape_mat_prop" class="form-control" type="text" placeholder="Sin dato" onkeyUp="return conMayusculas(this);" required> 
                                                    <span style="color:red" ng-show="formularioRegistro.f01_ape_mat_prop.$invalid && formularioRegistro.f01_ape_pat_prop.$invalid">
                                                        <span >** Es requerido Paterno o Materno.</span>
                                                    </span> 
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="col-md-12" align="left">
                                            <div class="form-group" class="col-md-12">
                                                <label for="url" >APELLIDO CASADA:</label>
                                                <div class="controls">
                                                    <input  ng-model="datos.f01_ape_cas_prop" name="f01_ape_cas_prop" id="f01_ape_cas_prop" class="form-control" type="text" placeholder="Sin dato" onkeyUp="return conMayusculas(this);"> 
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="col-md-12" align="left">
                                            <div class="form-group" class="col-md-12">
                                                <label for="url" >NACIONALIDAD: <font color="#FF0000"> * </font></label>
                                                <div class="controls">
                                                    <input  ng-model="datos.f01_nac_prop" name="f01_nac_prop" id="f01_nac_prop" class="form-control" type="text" placeholder="Sin dato" onkeyUp="return conMayusculas(this);" required>
                                                    <span style="color:red" ng-show="formularioRegistro.f01_nac_prop.$invalid">
                                                        <span ng-show="formularioRegistro.f01_nac_prop.$error.required">Es requerido.
                                                        </span>
                                                    </span>  
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!--<div class="col-md-4">
                                        <div class="col-md-12" align="left">
                                            <div class="form-group" class="col-md-12">
                                                <label for="url" >FECHA DE NACIMIENTO:</label>
                                                <div class="controls">
                                                    <input  ng-model="datos.f01_fecha_nac" name="f01_fecha_nac" id="f01_fecha_nac" class="form-control" type="text" placeholder="Sin dato" ng-disabled="desabilitado" onkeyUp="return conMayusculas(this);"> 
                                                </div>
                                            </div>
                                        </div>
                                    </div>-->

                                    <div class="col-md-4" >
                                        <div class="col-md-12" align="left">
                                            <div class="form-group" class="col-md-12">
                                                <label for="url" >FECHA DE NACIMIENTO: <font color="#FF0000"> * </font></label>
                                                <div class="controls">
                                                    <p class="input-group"><input name="f01_fecha_nac" id="f01_fecha_nac" type="text" placeholder="Sin dato" class="form-control" datepicker-popup="" ng-model="datos.f01_fecha_nac" is-open="startDateOpened" close-text="Close" required/> 
                                                    <span class="input-group-btn">
                                                        <button type="button" class="btn btn-default" ng-click="startDateOpen($event)"><i class="glyphicon glyphicon-calendar" ></i></button>
                                                    </span></p>
                                                    <span style="color:red" ng-show="formularioRegistro.f01_fecha_nac.$invalid">
                                                        <span ng-show="formularioRegistro.f01_fecha_nac.$error.required">Es requerido.
                                                        </span>
                                                    </span>                                               
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="col-md-12" align="left">
                                            <div class="form-group" class="col-md-12">
                                                <label for="url" >TELEFONO: <font color="#FF0000"> </font></label>
                                                <div class="controls">
                                                    <input  ng-model="datos.f01_telef_prop" name="f01_telef_prop" id="f01_telef_prop" class="form-control" type="text" placeholder="Sin dato" maxlength="7" onkeyUp="valNumeroTelefono(this);" required> 
                                                    <!--<span style="color:red" ng-show="formularioRegistro.f01_telef_prop.$invalid  && formularioRegistro.f01_telef_prop.$invalid">
                                                        <span>Es requerido Telefono o Celular.</span>
                                                    </span>     -->
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="col-md-12" align="left">
                                            <div class="form-group" class="col-md-12">
                                                <label for="url" >CELULAR: <font color="#FF0000"> ** </font></label>
                                                <div class="controls">
                                                    <input  ng-model="datos.f01_cel_prop" name="f01_cel_prop" id="f01_cel_prop" class="form-control" type="text" placeholder="Sin dato" onkeyUp="return valNumero(this);" required>
                                                    <span style="color:red" ng-show="formularioRegistro.f01_cel_prop.$invalid  && formularioRegistro.f01_cel_prop.$invalid">
                                                        <span>Es requerido Telefono o Celular.</span>
                                                    </span>   
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="col-md-12" align="left">
                                            <div class="form-group" class="col-md-12">
                                                <label for="url" >CORREO ELECTRÓNICO:</label>
                                                <div class="controls">
                                                    <input  ng-model="datos.f01_email_prop" name="f01_email_prop" id="f01_email_prop" class="form-control" type="email" placeholder="Sin dato"> 
                                                </div>
                                                <!--span style="color:red" ng-show="formularioRegistro.f01_email_prop.$invalid">
                                                        <span>Es requerido correo.</span>
                                                </span-->  
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!--<legend>Dirección del contribuyente</legend>-->
                                <div class="ibox-title_2">
                                    <h5>Dirección del contribuyente</h5>
                                </div>
                                <div class="row">
                                    <div class="col-md-4">
                                        <div class="col-md-12" align="left">
                                            <div class="form-group" class="col-md-12">
                                                <label for="url" >ZONA: <font color="#FF0000"> * </font></label>
                                                <div class="controls">
                                                    <!--<input  ng-model="datos.f01_zon_prop_descrip" name="f01_zon_prop_descrip" id="f01_zon_prop_descrip" class="form-control" type="text" placeholder="Sin dato" onkeyUp="return conMayusculas(this);" required> 
                                                    <span style="color:red" ng-show="formularioRegistro.f01_zon_prop_descrip.$invalid">
                                                        <span ng-show="formularioRegistro.f01_zon_prop_descrip.$error.required">Es requerido.
                                                        </span>
                                                    </span> -->
                                                    <!--select 
                                                        id="f01_zon_prop" 
                                                        name="f01_zon_prop" 
                                                        placeholder="-- Seleccione --" 
                                                        ng-model="datos.f01_zon_prop" 
                                                        class="form-control" 
                                                        ng-options="dato.idzona as dato.desczona for dato in datosZonaTodo" 
                                                        ng-change=" GetValueZonaContribuyente();"
                                                        ng-disabled="desabilitadozonc" required>
                                                    </select-->
                                                    <select id="f01_zon_prop" 
                                                        name="f01_zon_prop" 
                                                        placeholder="-- Seleccione --" 
                                                        ng-model="datos.f01_zon_prop" 
                                                        class="form-control"
                                                        ng-change=" GetValueZonaContribuyente();"
                                                        required>
                                                       <option ng-repeat="dato in datosZonaTodo" value="{{dato.idzona}}"  
                                                       ng-selected="{{dato.idzona==datos.f01_zon_prop}}">{{dato.desczona}}</option>
                                                    </select>
                                                    <span style="color:red" ng-show="formularioRegistro.f01_zon_prop.$invalid">
                                                        <span ng-show="formularioRegistro.f01_zon_prop.$error.required">Es requerido.
                                                        </span>
                                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="col-md-12" align="left">
                                            <div class="form-group" class="col-md-12">
                                                <label for="url" >TIPO DE VIA: <font color="#FF0000"> * </font></label>
                                                <div class="controls">
                                                    <select id="f01_tip_via_prop" name="f01_tip_via_prop"  ng-model="datos.f01_tip_via_prop"  class="form-control" placeholder="-- Seleccione --" required>
                                                        <option value="AV"> AVENIDA  </option>
                                                        <option value="CA"> CALLE  </option>
                                                        <option value="CL"> CALLEJON  </option>
                                                        <option value="CN"> CANCHA  </option>
                                                        <option value="PR"> PARQUE  </option>
                                                        <option value="PL"> PLAZA  </option>
                                                        <option value="ND"> NO DEFINIDO  </option>
                                                        <option value="PA"> PASAJE  </option>
                                                    </select>
                                                    <span style="color:red" ng-show="formularioRegistro.f01_tip_via_prop.$invalid">
                                                        <span ng-show="formularioRegistro.f01_tip_via_prop.$error.required">Es requerido.
                                                        </span>
                                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="col-md-12" align="left">
                                            <div class="form-group" class="col-md-12">
                                                <label for="url" >NOMBRE DE VIA: <font color="#FF0000"> * </font></label>
                                                <div class="controls">
                                                    <input  ng-model="datos.f01_nom_via_prop" name="f01_nom_via_prop" id="f01_nom_via_prop" class="form-control" type="text" placeholder="Sin dato" onkeyUp="return conMayusculas(this);" required>
                                                    <span style="color:red" ng-show="formularioRegistro.f01_nom_via_prop.$invalid">
                                                        <span ng-show="formularioRegistro.f01_nom_via_prop.$error.required">Es requerido.
                                                        </span>
                                                    </span> 
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="col-md-12" align="left">
                                            <div class="form-group" class="col-md-12">
                                                <label for="url" >NÚMERO DE DOMICILIO: <font color="#FF0000"> * </font></label>
                                                <div class="controls">
                                                    <input  ng-model="datos.f01_num_prop" name="f01_num_prop" id="f01_num_prop" class="form-control" type="text" placeholder="Sin dato" onkeyUp="return conMayusculas(this);" required> 
                                                    <span style="color:red" ng-show="formularioRegistro.f01_num_prop.$invalid">
                                                        <span ng-show="formularioRegistro.f01_num_prop.$error.required">Es requerido.
                                                        </span>
                                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="col-md-12" align="left">
                                            <div class="form-group" class="col-md-12">
                                                <label for="url" >NOMBRE DEL EDIFICIO:</label>
                                                <div class="controls">
                                                    <input  ng-model="datos.f01_nom_edi_prop" name="f01_nom_edi_prop" id="f01_nom_edi_prop" class="form-control" type="text" placeholder="Sin dato" onkeyUp="return conMayusculas(this);"> 
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="col-md-12" align="left">
                                            <div class="form-group" class="col-md-12">
                                                <label for="url" >BLOQUE:</label>
                                                <div class="controls">
                                                    <input  ng-model="datos.f01_bloq_prop" name="f01_bloq_prop" id="f01_bloq_prop" class="form-control" type="text" placeholder="Sin dato" onkeyUp="return conMayusculas(this);"> 
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="col-md-12" align="left">
                                            <div class="form-group" class="col-md-12">
                                                <label for="url" >PISO:</label>
                                                <div class="controls">
                                                    <input  ng-model="datos.f01_piso_prop" name="f01_piso_prop" id="f01_piso_prop" class="form-control" type="text" placeholder="Sin dato" onkeyUp="return conMayusculas(this);"> 
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="col-md-12" align="left">
                                            <div class="form-group" class="col-md-12">
                                                <label for="url" >DPTO./OF./LOCAL:</label>
                                                <div class="controls">
                                                    <input  ng-model="datos.f01_depa_prop" name="f01_depa_prop" id="f01_depa_prop" class="form-control" type="text" placeholder="Sin dato" onkeyUp="return conMayusculas(this);"> 
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-8">
                                        <div class="col-md-12" align="left">
                                            <div class="form-group" class="col-md-12">
                                                <label for="url" >DIRECCIÓN DETALLADA: </label>
                                                <div class="controls">
                                                    <!--<input  ng-model="datos.f01_dir_det_prop" name="f01_dir_det_prop" id="f01_dir_det_prop" class="form-control" type="text" placeholder="Sin dato" ng-disabled="desabilitado" onkeyUp="return conMayusculas(this);">-->

                                                    <textarea ng-model="datos.f01_dir_det_prop" id="f01_dir_det_prop" name="f01_dir_det_prop" class="form-control" placeholder="Sin dato" onkeyUp="return conMayusculas(this);"></textarea>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- /////////////////////////////////////////////////// -->
                        <!-- /////// TAB datos generales persona juridica /////// -->
                        <!-- /////////////////////////////////////////////////// -->
                        <div class="col-lg-12" class="tab fade" ng-show = "juridicoForm">
                            <div class="ibox float-e-margins">
                                <!--<legend>Identificacion de la empresa</legend>-->
                                <div class="ibox-title_2">
                                    <h5>Identificacion de la empresa</h5>
                                </div>
                                <div class="row">
                                    <div class="col-md-4">
                                        <div class="col-md-12" align="left">
                                            <div class="form-group" class="col-md-12">
                                                <label for="url" >NIT: <font color="#FF0000"> * </font></label>
                                                <div class="controls">
                                                    <!--input  ng-model="datos.f01_num_doc_per_jur" name="f01_num_doc_per_jur" id="f01_num_doc_per_jur" ng-blur ="verificarJ(datos)" class="form-control" type="text" placeholder="Sin dato" ng-disabled="desabilitado" onkeyUp="return valNumero(this);" required--> 
                                                    

                                                    <input  ng-model="datos.f01_num_doc_per_jur" name="f01_num_doc_per_jur" id="f01_num_doc_per_jur" class="form-control" type="text" placeholder="Sin dato" ng-disabled="desabilitado" onkeyUp="return valNumero(this);" required> 

                                                    
                                                    <span style="color:red" ng-show="formularioRegistro.f01_num_doc_per_jur.$invalid">
                                                        <span ng-show="formularioRegistro.f01_num_doc_per_jur.$error.required">Es requerido.
                                                        </span>
                                                    </span> 
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="col-md-12" align="left">
                                            <div class="form-group" class="col-md-12">
                                                <label for="url" >RAZON SOCIAL: <font color="#FF0000"> * </font></label>
                                                <div class="controls">
                                                    <input  ng-model="datos.f01_raz_soc_per_jur" name="f01_raz_soc_per_jur" id="f01_raz_soc_per_jur" class="form-control" type="text" placeholder="Sin dato" ng-disabled="desabilitado" onkeyUp="return conMayusculas(this);" required> 
                                                    <span style="color:red" ng-show="formularioRegistro.f01_raz_soc_per_jur.$invalid">
                                                        <span ng-show="formularioRegistro.f01_raz_soc_per_jur.$error.required">Es requerido.
                                                        </span>
                                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!--<legend>Datos del representante legal</legend>-->
                                <div class="ibox-title_2">
                                    <h5>Datos del representante legal</h5>
                                </div>
                                <div class="row">
                                    <div class="col-md-4">
                                        <div class="col-md-12" align="left">
                                            <div class="form-group" class="col-md-12">
                                                <label for="url" >TIPO DE DOCUMENTO: <font color="#FF0000"> * </font></label>
                                                <div class="controls">
                                                    <select id="f01_tip_doc_rep" name="f01_tip_doc_rep"  ng-model="datos.f01_tip_doc_rep"  class="form-control" placeholder="-- Seleccione --" required>
                                                        <option value="CI"> CARNET DE IDENTIDAD  </option>
                                                        <option value="CEXT"> CARNET DE EXTRANJERO  </option>
                                                        <option value="PAS"> PASAPORTE  </option>
                                                        <option value="RUN"> RUN  </option>
                                                        <option value="NT"> NIT  </option>
                                                        <option value="RUC"> RUC  </option>
                                                    </select>
                                                    <span style="color:red" ng-show="formularioRegistro.f01_tip_doc_rep.$invalid">
                                                        <span ng-show="formularioRegistro.f01_tip_doc_rep.$error.required">Es requerido.
                                                        </span>
                                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="col-md-12" align="left">
                                            <div class="form-group" class="col-md-12">
                                                <label for="url" >NRO DE DOCUMENTO: <font color="#FF0000"> * </font></label>
                                                <div class="controls">
                                                    <input  ng-model="datos.f01_num_doc_rep" name="f01_num_doc_rep" id="f01_num_doc_rep" class="form-control" type="text" placeholder="Sin dato" onkeyUp="return valNumero(this);" required>
                                                    <span style="color:red" ng-show="formularioRegistro.f01_num_doc_rep.$invalid">
                                                        <span ng-show="formularioRegistro.f01_num_doc_rep.$error.required">Es requerido.
                                                        </span>
                                                    </span> 
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="col-md-12" align="left">
                                            <div class="form-group" class="col-md-12">
                                                <label for="url" >EXPEDIDO: <font color="#FF0000"> * </font></label>
                                                <div class="controls">
                                                    <select id="f01_expedido_rep" name="f01_expedido_rep"  ng-model="datos.f01_expedido_rep"  class="form-control" placeholder="-- Seleccione --" required>
                                                        <option value="LPZ"> LA PAZ  </option>
                                                        <option value="ORU"> ORURO  </option>
                                                        <option value="PTS"> POTOSI  </option>
                                                        <option value="CBB"> COCHABAMBA  </option>
                                                        <option value="TJA"> TARIJA  </option>
                                                        <option value="CHQ"> CHUQUISACA  </option>
                                                        <option value="SCZ"> SANTA CRUZ  </option>
                                                        <option value="PND"> PANDO  </option>
                                                        <option value="BNI"> BENI  </option>
                                                        <option value="EXT"> EXTRANJERO  </option>
                                                    </select>
                                                    <span style="color:red" ng-show="formularioRegistro.f01_expedido_rep.$invalid">
                                                        <span ng-show="formularioRegistro.f01_expedido_rep.$error.required">Es requerido.
                                                        </span>
                                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="col-md-12" align="left">
                                            <div class="form-group" class="col-md-12">
                                                <label for="url" >PRIMER NOMBRE: <font color="#FF0000"> * </font></label>
                                                <div class="controls">
                                                    <input  ng-model="datos.f01_pri_nom_rep" name="f01_pri_nom_rep" id="f01_pri_nom_rep" class="form-control" type="text" placeholder="Sin dato" onkeyUp="return conMayusculas(this);" required> 
                                                    <span style="color:red" ng-show="formularioRegistro.f01_pri_nom_rep.$invalid">
                                                        <span ng-show="formularioRegistro.f01_pri_nom_rep.$error.required">Es requerido.
                                                        </span>
                                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="col-md-12" align="left">
                                            <div class="form-group" class="col-md-12">
                                                <label for="url" >SEGUNDO NOMBRE:</label>
                                                <div class="controls">
                                                    <input  ng-model="datos.f01_seg_nom_rep" name="f01_seg_nom_rep" id="f01_seg_nom_rep" class="form-control" type="text" placeholder="Sin dato" onkeyUp="return conMayusculas(this);"> 
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="col-md-12" align="left">
                                            <div class="form-group" class="col-md-12">
                                                <label for="url" >TERCER NOMBRE:</label>
                                                <div class="controls">
                                                    <input  ng-model="datos.f01_ter_nom_rep" name="f01_ter_nom_rep" id="f01_ter_nom_rep" class="form-control" type="text" placeholder="Sin dato" onkeyUp="return conMayusculas(this);"> 
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="col-md-12" align="left">
                                            <div class="form-group" class="col-md-12">
                                                <label for="url" >APELLIDO PATERNO: <font color="#FF0000"> ** </font></label>
                                                <div class="controls">
                                                    <input  ng-model="datos.f01_ape_pat_rep" name="f01_ape_pat_rep" id="f01_ape_pat_rep" class="form-control" type="text" placeholder="Sin dato" onkeyUp="return conMayusculas(this);" required>
                                                    <span style="color:red" ng-show="formularioRegistro.f01_ape_pat_rep.$invalid && formularioRegistro.f01_ape_mat_rep.$invalid">
                                                        <span>** Es requerido Paterno o Materno.</span>
                                                    </span> 
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="col-md-12" align="left">
                                            <div class="form-group" class="col-md-12">
                                                <label for="url" >APELLIDO MATERNO: <font color="#FF0000"> ** </font></label>
                                                <div class="controls">
                                                    <input  ng-model="datos.f01_ape_mat_rep" name="f01_ape_mat_rep" id="f01_ape_mat_rep" class="form-control" type="text" placeholder="Sin dato" onkeyUp="return conMayusculas(this);" required>
                                                    <span style="color:red" ng-show="formularioRegistro.f01_ape_pat_rep.$invalid && formularioRegistro.f01_ape_mat_rep.$invalid">
                                                        <span>** Es requerido Paterno o Materno.</span>
                                                    </span> 
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="col-md-12" align="left">
                                            <div class="form-group" class="col-md-12">
                                                <label for="url" >APELLIDO CASADA:</label>
                                                <div class="controls">
                                                    <input  ng-model="datos.f01_ape_cas_rep" name="f01_ape_cas_rep" id="f01_ape_cas_rep" class="form-control" type="text" placeholder="Sin dato" onkeyUp="return conMayusculas(this);"> 
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="col-md-12" align="left">
                                            <div class="form-group" class="col-md-12">
                                                <label for="url" >TELEFONO OFICINA: <!--<font color="#FF0000"> * </font>--></label>
                                                <div class="controls">
                                                    <input  ng-model="datos.f01_telef_rep" name="f01_telef_rep" id="f01_telef_rep" class="form-control" type="text" placeholder="Sin dato" onkeyUp="return valNumero(this);"> 
                                                    <!--<span style="color:red" ng-show="formularioRegistro.f01_telef_rep.$invalid">
                                                        <span ng-show="formularioRegistro.f01_telef_rep.$error.required">Es requerido.
                                                        </span>
                                                    </span>-->
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="col-md-12" align="left">
                                            <div class="form-group" class="col-md-12">
                                                <label for="url" >CELULAR: </label>
                                                <div class="controls">
                                                    <input  ng-model="datos.f01_cel_rep" name="f01_cel_rep" id="f01_cel_rep" class="form-control" type="text" placeholder="Sin dato" onkeyUp="return valNumero(this);"> 
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="col-md-12" align="left">
                                            <div class="form-group" class="col-md-12">
                                                <label for="url" >CORREO ELECTRÓNICO:</label>
                                                <div class="controls">
                                                    <input  ng-model="datos.f01_email_rep" name="f01_email_rep" id="f01_email_rep" class="form-control" type="text" placeholder="Sin dato"> 
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-4">
                                        <div class="col-md-12" align="left">
                                            <div class="form-group" class="col-md-12">
                                                <label for="url" >ZONA: <font color="#FF0000"> * </font></label>
                                                <div class="controls">
                                                    <select id="f01_id_zona_rep" 
                                                        name="f01_id_zona_rep" 
                                                        placeholder="-- Seleccione --" 
                                                        ng-model="datos.f01_id_zona_rep" 
                                                        class="form-control"
                                                        ng-change=" GetValueZonaContribuyenteJuridico();"
                                                        required>
                                                       <option ng-repeat="dato in datosZonaTodo" value="{{dato.idzona}}"  
                                                       ng-selected="{{dato.idzona==datos.f01_id_zona_rep}}">{{dato.desczona}}</option>
                                                    </select>
                                                    <span style="color:red" ng-show="formularioRegistro.f01_id_zona_rep.$invalid">
                                                        <span ng-show="formularioRegistro.f01_id_zona_rep.$error.required">Es requerido.
                                                        </span>
                                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="col-md-12" align="left">
                                            <div class="form-group" class="col-md-12">
                                                <label for="url" >TIPO DE VIA: <font color="#FF0000"> * </font></label>
                                                <div class="controls">
                                                    <select id="f01_tipo_viarep" name="f01_tipo_viarep"  ng-model="datos.f01_tipo_viarep"  class="form-control" placeholder="-- Seleccione --" required>
                                                        <option value="AV"> AVENIDA  </option>
                                                        <option value="CA"> CALLE  </option>
                                                        <option value="CL"> CALLEJON  </option>
                                                        <option value="CN"> CANCHA  </option>
                                                        <option value="PR"> PARQUE  </option>
                                                        <option value="PL"> PLAZA  </option>
                                                        <option value="ND"> NO DEFINIDO  </option>
                                                        <option value="PA"> PASAJE  </option>
                                                    </select>
                                                    <span style="color:red" ng-show="formularioRegistro.f01_tipo_viarep.$invalid">
                                                        <span ng-show="formularioRegistro.f01_tipo_viarep.$error.required">Es requerido.
                                                        </span>
                                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="col-md-12" align="left">
                                            <div class="form-group" class="col-md-12">
                                                <label for="url" >NOMBRE DE VIA: <font color="#FF0000"> * </font></label>
                                                <div class="controls">
                                                    <input  ng-model="datos.f01_nom_via_rep" name="f01_nom_via_rep" id="f01_nom_via_rep" class="form-control" type="text" placeholder="Sin dato" onkeyUp="return conMayusculas(this);" required> 
                                                    <span style="color:red" ng-show="formularioRegistro.f01_nom_via_rep.$invalid">
                                                        <span ng-show="formularioRegistro.f01_nom_via_rep.$error.required">Es requerido.
                                                        </span>
                                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="col-md-12" align="left">
                                            <div class="form-group" class="col-md-12">
                                                <label for="url" >NUMERO: <font color="#FF0000"> * </font></label>
                                                <div class="controls">
                                                    <input  ng-model="datos.f01_num_rep" name="f01_num_rep" id="f01_num_rep" class="form-control" type="text" placeholder="Sin dato" onkeyUp="return conMayusculas(this);" required> 
                                                    <span style="color:red" ng-show="formularioRegistro.f01_num_rep.$invalid">
                                                        <span ng-show="formularioRegistro.f01_num_rep.$error.required">Es requerido.
                                                        </span>
                                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-4">
                                        <div class="col-md-12" align="left">
                                            <div class="form-group" class="col-md-12">
                                                <label for="url" >GESTION DE VIGENCIA DEL PODER LEGAL: <font color="#FF0000"> * </font></label>
                                                <div class="controls">
                                                    <input  ng-model="datos.f01_ges_vig_pod" name="f01_ges_vig_pod" id="f01_ges_vig_pod" class="form-control" type="text" placeholder="Sin dato" onkeyUp="return valNumero(this);" required> 
                                                    <span style="color:red" ng-show="formularioRegistro.f01_ges_vig_pod.$invalid">
                                                        <span ng-show="formularioRegistro.f01_ges_vig_pod.$error.required">Es requerido.
                                                        </span>
                                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="col-md-12" align="left">
                                            <div class="form-group" class="col-md-12">
                                                <label for="url" >NUMERO PODER LEGAL: <font color="#FF0000"> * </font></label>
                                                <div class="controls">
                                                    <input  ng-model="datos.f01_num_pod_leg" name="f01_num_pod_leg" id="f01_num_pod_leg" class="form-control" type="text" placeholder="Sin dato" onkeyUp="return valNumero(this);" required> 
                                                    <span style="color:red" ng-show="formularioRegistro.f01_num_pod_leg.$invalid">
                                                        <span ng-show="formularioRegistro.f01_num_pod_leg.$error.required">Es requerido.
                                                        </span>
                                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="col-md-12" align="left">
                                            <div class="form-group" class="col-md-12">
                                                <label for="url" >NUMERO NOTARIA: <font color="#FF0000"> * </font></label>
                                                <div class="controls">
                                                    <input  ng-model="datos.f01_num_not" name="f01_num_not" id="f01_num_not" class="form-control" type="text" placeholder="Sin dato" onkeyUp="return valNumero(this);" required> 
                                                    <span style="color:red" ng-show="formularioRegistro.f01_num_not.$invalid">
                                                        <span ng-show="formularioRegistro.f01_num_not.$error.required">Es requerido.
                                                        </span>
                                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- ////////////////////////////////////////////////////////////// -->
                    <!-- /////// TAB requisitos solicitados actividad economica /////// -->
                    <!-- ////////////////////////////////////////////////////////////// -->
                    <div class="tab-pane" id="tabRequisitos">
                        <div class="row">
                            <div class="col-md-4">
                                <div class="col-md-12" align="left">
                                    <div class="form-group" class="col-md-12">
                                        <label for="url" >TIPO DE ACTIVIDAD: <font color="#FF0000"> * </font></label>
                                        <div class="controls">
                                            <select id="f01_tip_act" name="f01_tip_act"  ng-model="datos.f01_tip_act"  class="form-control" ng-change="asignarcampo(datos.f01_tip_act)" placeholder="-- Seleccione --" required>
                                                <option value="MA"> MATRIZ  </option>
                                                <option value="SU"> SUCURSAL  </option>
                                            </select>
                                            <span style="color:red" ng-show="formularioRegistro.f01_tip_act.$invalid">
                                                <span ng-show="formularioRegistro.f01_tip_act.$error.required">Es requerido.
                                                </span>
                                            </span>
                                        </div>
                                    </div>
                                    <div class="col-md-4" style="visibility:hidden">
                                        <div class="col-md-12" align="left">
                                            <div class="form-group" class="col-md-12">
                                                <label for="url" ></label>
                                                <div class="controls">
                                                    <input type = "text" class= "form-control" id = "f01_tip_act_dec" ng-model = "datos.f01_tip_act_dec">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="col-md-12" align="left">
                                    <div class="form-group" class="col-md-12">
                                        <label for="url" >TIPO DE LICENCIA: <font color="#FF0000"> * </font></label>
                                        <div class="controls">
                                            <select 
                                                id="f01_tipo_lic" 
                                                name="f01_tipo_lic" 
                                                placeholder="-- Seleccione --" 
                                                ng-model="datos.f01_tipo_lic" 
                                                class="form-control" 
                                                ng-options="dato.idtipolicencia as dato.tipolicencia for dato in datosLicencia" 
                                                ng-change="tipoActividad(datos.f01_tipo_lic); GetValueLicencia();"
                                                required >
                                            </select>
                                            <span style="color:red" ng-show="formularioRegistro.f01_tipo_lic.$invalid">
                                                <span ng-show="formularioRegistro.f01_tipo_lic.$error.required">Es requerido.
                                                </span>
                                            </span>

                                        </div>
                                    </div>
                                </div>
                            </div>
                            

                            <div class="col-md-6" ng-show = "tipoCategoria">
                                <div class="col-md-12" align="left">
                                    <div class="form-group" class="col-md-12">
                                        <label for="url" >TIPO DE CATEGORIA: <font color="#FF0000"> * </font></label>
                                        <div class="controls">
                                            <!--select 
                                                id="f01_categoria_agrupada" 
                                                name="f01_categoria_agrupada" 
                                                placeholder="-- Seleccione --" 
                                                ng-model="datos.f01_categoria_agrupada" 
                                                class="form-control" 
                                                ng-options="dato.idtipolicencia as dato.tipolicencia for dato in datosCategoria" 
                                                ng-change="getRequisitosCategoria(datos.f01_categoria_agrupada, datos.f01_tipo_per); GetValueCategoriaAgrupada();" 
                                                ng-disabled="desabilitt"required>
                                                <option value=""></option>
                                            </select-->
                                            <select id="f01_categoria_agrupada" name="f01_categoria_agrupada" ng-model="datos.f01_categoria_agrupada" class="form-control" ng-change="getRequisitosCategoria(datos.f01_categoria_agrupada, datos.f01_tipo_per); GetValueCategoriaAgrupada();" required>
                                                <option ng-repeat="dato in datosCategoria" value="{{dato.idtipolicencia}}" ng-selected="{{dato.idtipolicencia==datos.f01_categoria_agrupada}}"> {{dato.tipolicencia}} </option >
                                            </select>

                                            <span style="color:red" ng-show="formularioRegistro.f01_categoria_agrupada.$invalid">
                                                <span ng-show="formularioRegistro.f01_categoria_agrupada.$error.required">Es requerido.
                                                </span>
                                            </span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="row">
                            <div class="col-md-6" ng-show = "actividadDesarrollada">
                                <div class="col-md-12" align="left">
                                    <div class="form-group" class="col-md-12">
                                        <label for="url" >ACTIVIDAD DESARROLLADA: <font color="#FF0000"> * </font></label>
                                        <div class="controls">
                                            <select id="f01_categoria" name="f01_categoria" ng-model="datos.f01_categoria" class="form-control" ng-change="getRequisitosActividad(datos.f01_categoria, datos.f01_tipo_per); GetValueCategoria();" required>
                                                <option ng-repeat="dato in datosActividadDesarrollada" value="{{dato.idtipolicencia}}" ng-selected="{{dato.idtipolicencia==datos.f01_categoria}}"> {{dato.tipolicencia}} </option >
                                            </select>
                                            <span style="color:red" ng-show="formularioRegistro.f01_categoria.$invalid">
                                                <span ng-show="formularioRegistro.f01_categoria.$error.required">Es requerido.
                                                </span>
                                            </span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4" ng-show = 'segura'>
                                <div class="col-md-12" align="left">
                                    <div class="form-group" class="col-md-12">
                                        <label for="url" >ZONA SEGURA: <font color="#FF0000"> * </font></label>
                                        <div class="controls">
                                            <input type = "checkbox" class= "form-control" id = "f01_zon_se" ng-model = "datos.f01_zon_se">                                                
                                            </input>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-10">
                                <div class="col-md-12" align="left">
                                    <div class="form-group" class="col-md-12">
                                        <label for="url" >DETALLE ACTIVIDAD DESARROLLADA: </label>
                                        <div class="controls">
                                            <textarea ng-model="datos.f01_actividad_desarrollada" id="f01_actividad_desarrollada" name="f01_actividad_desarrollada" class="form-control" placeholder="Sin dato" ng-disabled="only" onkeyUp="return conMayusculas(this);" required></textarea>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!--<legend>REQUISITOS DOCUMENTALES</legend>-->
                        <div class="ibox-title_2">
                            <h5>Requisitos Documentales <font color="#FF0000"> * </font></h5>
                        </div>
                        <div class="col-sm-12" align="right">
                            <div class="form-group" >
                                <div class="col-sm-10">
                                    <table class="table table-striped ">                        
                                        <tbody>
                                            <tr ng-repeat="role in datosRequisitos">
                                                <td><div class="ngSelectionCell">
                                                    <input tabindex="-1" class="ngSelectionCheckbox" type="checkbox" ng-checked="role.estado" ng-model="role.estado"/></div></td>
                                                <td>{{role.resvalor}}</td>                                
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <!--<legend>REQUISITOS TECNICOS</legend>
                        <div class="col-sm-12" align="right">
                            <div class="form-group" >
                                <div class="col-sm-8" align="left">
                                    <table class="table table-striped ">                        
                                        <tbody>
                                            <tr ng-repeat="role2 in datosTecnicos">
                                                <td><div class="ngSelectionCell">
                                                    <input tabindex="-1" class="ngSelectionCheckbox" type="checkbox" ng-checked="role2.estado" ng-model="role2.estado"/></div></td>
                                                <td>{{role2.resvalor}}</td>                                
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>-->
                    </div>
                    

                    <!-- ////////////////////////////////////////////////////// -->
                    <!-- /////// TAB datos tecnicos actividad economica /////// -->
                    <!-- ////////////////////////////////////////////////////// -->
                    <div class="tab-pane" id="tabTecnicos">
                        <!--<legend>ACTIVIDADES ECONÓMICAS REFERENCIAL</legend>-->
                        <div class="row">
                            <div class="ibox-title_2">
                                <h5>Tipo trámite : {{datos.rdTipoTramite}}</h5>
                            </div>
                            <div class="col-md-12" ng-show="licenciaToogle==true">
                                <div class="col-md-12" align="left">
                                    <div class="form-group" class="col-md-12">
                                        <div class="controls">
                                            <!--input  id="toggle-demo" type="checkbox" data-toggle="toggle" data-on="Nuevo" data-off="Renovación" data-onstyle="success" data-offstyle="warning" data-width="200" ng-click="cambioToggle()"-->
                                            <input type="radio" ng-model="datos.rdTipoTramite" name="rdTipoTramite" value="NUEVO" ng-change="cambioToggle(datos.rdTipoTramite)" ng-disabled="only" ng-required="true" required>&nbsp;&nbsp;&nbsp;&nbsp;Nueva Actividad Económica&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                            <input type="radio" ng-model="datos.rdTipoTramite" name="rdTipoTramite" value="RENOVACION" ng-change="cambioToggle(datos.rdTipoTramite)" ng-disabled="only" ng-required="true" required>&nbsp;&nbsp;&nbsp;&nbsp;Recuperar Actividad Económica<br>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div ng-show="licenciaToogle1==true">
                            <div class="ibox-title_2">
                                <h5>Actividades Económicas del Contribuyente</h5>
                            </div>
                            <table show-filter="true" class="table table-striped table-bordered">
                                <thead>
                                    <th>ELEGIR&nbsp;</th>
                                    <th>DESCRIPCIÓN&nbsp;</th>
                                    <th>DIRECCIÓN&nbsp;</th>
                                    <th>FECHA INICIO&nbsp;</th>
                                    <th>SUCURSAL&nbsp;</th>
                                    <th>DEUDA&nbsp;</th>
                                </thead>
                                <tbody>
                                    <tr class="column" ng-repeat="datosRef in obtDatosCont">
                                        <td>
                                            <a ng-click="actualizarActividadEconomica(datosRef)" tooltip="Renovar Actividad Económica" class="btn btn-info btn-circle">
                                                <i class="fa fa-folder-open"></i>
                                            </a>
                                        </td>
                                        <td>{{datosRef.Descripcion}}</td>
                                        <td>{{datosRef.Direccion}}</td>
                                        <td>{{datosRef.FechaInicio}}</td>
                                        <td>{{datosRef.Nro}}</td>
                                        <td>{{datosRef.deudaActividad}}</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                                <!--<th>ESTADO&nbsp;</th>-->
                                    <!--<th>FECHA FIN&nbsp;</th>-->
                                    <!--<th>BLOQUEO&nbsp;</th>-->
                                    <!--<td>{{datosRef.Estado}}</td>-->
                                    <!--<td>{{datosRef.fechaBaja}}</td>-->
                                    <!--<td>{{datosRef.tipoBloqueo}}</td>-->
                        <!--<legend>Datos Generales</legend>-->
                        <div ng-show="licenciaToogle2==true">
                            <div class="ibox-title_2">
                                <h5>Datos Generales</h5>
                            </div>
                            <div class="row">
                                <div class="col-md-4">
                                    <div class="col-md-12" align="left">
                                        <div class="form-group" class="col-md-12">
                                            <label for="url" >NIT:</label>
                                            <div class="controls">
                                                <input  ng-model="datos.f01_nit" name="f01_nit" id="f01_nit" class="form-control" type="text" placeholder="Sin dato" ng-disabled="only" onkeyUp="return valNumero(this);"> 
                                                <input  ng-model="datos.f01_nro_orden" name="f01_nro_orden" id="f01_nro_orden" class="form-control" type="hidden" placeholder="Sin dato" ng-disabled="only" onkeyUp="return valNumero(this);">
                                                <input  ng-model="datos.f01_tipo_tramite" name="f01_tipo_tramite" id="f01_tipo_tramite" class="form-control" type="hidden" placeholder="Sin dato" ng-disabled="only" onkeyUp="return valNumero(this);">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="col-md-12" align="left">
                                        <div class="form-group" class="col-md-12">
                                            <label for="url" >DENOMINACIÓN:</label>
                                            <div class="controls">
                                                <input  ng-model="datos.f01_raz_soc" name="f01_raz_soc" id="f01_raz_soc" class="form-control" type="text" placeholder="Sin dato" ng-disabled="only" onkeyUp="return conMayusculas(this);"> 
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="col-md-12" align="left">
                                        <div class="form-group" class="col-md-12">
                                            <label for="url" >SUPERFICIE M2: <font color="#FF0000"> * </font></label>
                                            <!--<div class="controls">
                                                <input  ng-model="datos.f01_sup" name="f01_sup" id="f01_sup" class="form-control" type="text" placeholder="ingrese superficie" ng-disabled="only" onkeyUp="" ng-change="calcularCapacidad(datos.f01_sup);" required> 
                                                <span style="color:red" ng-show="formularioRegistro.f01_sup.$invalid">
                                                    <span ng-show="formularioRegistro.f01_sup.$error.required">Es requerido.
                                                    </span>
                                                </span>
                                            </div>-->
                                            <div class="controls">
                                                <input  ng-model="datos.f01_sup" name="f01_sup" id="f01_sup" class="form-control" type="text" placeholder="Sin dato" ng-disabled="only" onkeyUp="" ng-change="calcularCapacidad(datos.f01_sup);" required> 
                                                <span style="color:red" ng-show="formularioRegistro.f01_sup.$invalid">
                                                    <span ng-show="formularioRegistro.f01_sup.$error.required">Es requerido.
                                                    </span>
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                
                                <div class="col-md-4">
                                    <div class="col-md-12" align="left">
                                        <div class="form-group" class="col-md-12">
                                            <label for="url" >CAPACIDAD APROX: <font color="#FF0000"> * </font></label>
                                            <div class="controls">
                                                <input  
                                                ng-model="datos.f01_cap_aprox" 
                                                name="f01_cap_aprox" 
                                                id="f01_cap_aprox" 
                                                class="form-control" 
                                                type="text" 
                                                placeholder="Sin dato" 
                                                ng-disabled="only" 
                                                
                                                required> 
                                                <span style="color:red" ng-show="formularioRegistro.f01_cap_aprox.$invalid">
                                                    <span ng-show="formularioRegistro.f01_cap_aprox.$error.required">Es requerido.
                                                    </span>
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="col-md-12" align="left">
                                        <div class="form-group" class="col-md-12">
                                            <label for="url" >HORA INICIO DE ATENCION: <font color="#FF0000"> * </font></label>
                                            <div class="controls">
                                                <!--select id="f01_de_hor" name="f01_de_hor"  ng-model="datos.f01_de_hor"  class="form-control" placeholder="-- Seleccione --" required>
                                                    <option value="12:00AM"> 12:00 AM  </option>
                                                    <option value="01:00AM"> 01:00 AM  </option>
                                                    <option value="02:00AM"> 02:00 AM  </option>
                                                    <option value="03:00AM"> 03:00 AM  </option>
                                                    <option value="04:00AM"> 04:00 AM  </option>
                                                    <option value="05:00AM"> 05:00 AM  </option>
                                                    <option value="06:00AM"> 06:00 AM  </option>
                                                    <option value="07:00AM"> 07:00 AM  </option>
                                                    <option value="08:00AM"> 08:00 AM  </option>
                                                    <option value="09:00AM"> 09:00 AM  </option>
                                                    <option value="10:00AM"> 10:00 AM  </option>
                                                    <option value="11:00AM"> 11:00 AM  </option>
                                                    <option value="12:00PM"> 12:00 PM  </option>
                                                    <option value="01:00PM"> 01:00 PM  </option>
                                                    <option value="02:00PM"> 02:00 PM  </option>
                                                    <option value="03:00PM"> 03:00 PM  </option>
                                                    <option value="04:00PM"> 04:00 PM  </option>
                                                    <option value="05:00PM"> 05:00 PM  </option>
                                                    <option value="06:00PM"> 06:00 PM  </option>
                                                    <option value="07:00PM"> 07:00 PM  </option>
                                                    <option value="08:00PM"> 08:00 PM  </option>
                                                    <option value="09:00PM"> 09:00 PM  </option>
                                                    <option value="10:00PM"> 10:00 PM  </option>
                                                    <option value="11:00PM"> 11:00 PM  </option>
                                                </select-->
                                                <div class="input-group clockpicker pull-center" data-placement="left" data-align="top" data-autoclose="true" placeholder="HORA INSPECCIÓN">
                                                    <input  ng-model="datos.f01_de_hor" id="f01_de_hor" name="f01_de_hor" class="form-control" type="text" class="form-control" >
                                                    <span class="input-group-addon">
                                                        <span class="glyphicon glyphicon-time"></span>
                                                    </span>
                                                </div>
                                                <span style="color:red" ng-show="formularioRegistro.f01_de_hor.$invalid">
                                                    <span ng-show="formularioRegistro.f01_de_hor.$error.required">Es requerido.
                                                    </span>
                                                </span>
                                            </div>
                                        </div>
                                        <!--div class="form-group">
                                            <label class="col-sm-2 control-label">HORA INICIO DE ATENCION: <font color="#FF0000"> * </font></label>
                                            <div class="col-sm-10">
                                                <div class="clearfix">
                                                    <div class="input-group clockpicker pull-center" data-placement="left" data-align="top" data-autoclose="true" placeholder="HORA INSPECCIÓN">
                                                        <input  ng-model="datos.f01_de_hor" id="f01_de_hor" name="f01_de_hor" class="form-control" type="text" class="form-control" >
                                                        <span class="input-group-addon">
                                                            <span class="glyphicon glyphicon-time"></span>
                                                        </span>
                                                    </div>
                                                </div>                        
                                            </div>
                                        </div-->
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="col-md-12" align="left">
                                        <div class="form-group" class="col-md-12">
                                            <label for="url" >HORA FIN DE ATENCION: <font color="#FF0000"> * </font></label>
                                            <div class="controls">
                                                <!--select id="f01_a_hor" name="f01_a_hor"  ng-model="datos.f01_a_hor"  class="form-control" placeholder="-- Seleccione --" required>
                                                    <option value="12:00AM"> 12:00 AM  </option>
                                                    <option value="01:00AM"> 01:00 AM  </option>
                                                    <option value="02:00AM"> 02:00 AM  </option>
                                                    <option value="03:00AM"> 03:00 AM  </option>
                                                    <option value="04:00AM"> 04:00 AM  </option>
                                                    <option value="05:00AM"> 05:00 AM  </option>
                                                    <option value="06:00AM"> 06:00 AM  </option>
                                                    <option value="07:00AM"> 07:00 AM  </option>
                                                    <option value="08:00AM"> 08:00 AM  </option>
                                                    <option value="09:00AM"> 09:00 AM  </option>
                                                    <option value="10:00AM"> 10:00 AM  </option>
                                                    <option value="11:00AM"> 11:00 AM  </option>
                                                    <option value="12:00PM"> 12:00 PM  </option>
                                                    <option value="01:00PM"> 01:00 PM  </option>
                                                    <option value="02:00PM"> 02:00 PM  </option>
                                                    <option value="03:00PM"> 03:00 PM  </option>
                                                    <option value="04:00PM"> 04:00 PM  </option>
                                                    <option value="05:00PM"> 05:00 PM  </option>
                                                    <option value="06:00PM"> 06:00 PM  </option>
                                                    <option value="07:00PM"> 07:00 PM  </option>
                                                    <option value="08:00PM"> 08:00 PM  </option>
                                                    <option value="09:00PM"> 09:00 PM  </option>
                                                    <option value="10:00PM"> 10:00 PM  </option>
                                                    <option value="11:00PM"> 11:00 PM  </option>
                                                </select-->
                                                <div class="input-group clockpicker pull-center" data-placement="left" data-align="top" data-autoclose="true" placeholder="HORA INSPECCIÓN">
                                                    <input  ng-model="datos.f01_a_hor" id="f01_a_hor" name="f01_a_hor" class="form-control" type="text" class="form-control" >
                                                    <span class="input-group-addon">
                                                        <span class="glyphicon glyphicon-time"></span>
                                                    </span>
                                                </div>
                                                <span style="color:red" ng-show="formularioRegistro.f01_a_hor.$invalid">
                                                    <span ng-show="formularioRegistro.f01_a_hor.$error.required">Es requerido.
                                                    </span>
                                                </span>
                                            </div>
                                        </div>

                                        <!--div class="form-group">
                                            <label class="col-sm-2 control-label">HORA FIN DE ATENCION: <font color="#FF0000"> * </font></label>
                                            <div class="col-sm-10">
                                                <div class="clearfix">
                                                    <div class="input-group clockpicker pull-center" data-placement="left" data-align="top" data-autoclose="true" placeholder="HORA INSPECCIÓN">
                                                        <input  ng-model="datos.f01_a_hor" id="f01_a_hor" name="f01_a_hor" class="form-control" type="text" class="form-control" >
                                                        <span class="input-group-addon">
                                                            <span class="glyphicon glyphicon-time"></span>
                                                        </span>
                                                    </div>
                                                </div>                        
                                            </div>
                                        </div-->


                                    </div>
                                </div>
                            </div>
                            <div class="row">

                                <div class="col-md-4">
                                    <div class="col-md-12" align="left">
                                        <div class="form-group" class="col-md-12">
                                            <label for="url" >EL ESTABLECIMIENTO ES: <font color="#FF0000"> * </font></label>
                                            <div class="controls">
                                                <select id="f01_estab_es" name="f01_estab_es"  ng-model="datos.f01_estab_es"  class="form-control" placeholder="-- Seleccione --" required>
                                                    <option value="PROPIO"> PROPIO  </option>
                                                    <option value="ALQUILADO"> ALQUILADO  </option>
                                                    <option value="ANTICRÉTICO"> ANTICRÉTICO  </option>
                                                    <option value="OTRO"> OTRO  </option>
                                                </select>
                                                <span style="color:red" ng-show="formularioRegistro.f01_estab_es.$invalid">
                                                    <span ng-show="formularioRegistro.f01_estab_es.$error.required">Es requerido.
                                                    </span>
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="col-md-12" align="left">
                                        <div class="form-group" class="col-md-12">
                                            <label for="url" >PRODUCTOS ELABORADOS:</label>
                                            <div class="controls">
                                                <input  ng-model="datos.f01_productosElaborados" name="f01_productosElaborados" id="f01_productosElaborados" class="form-control" type="text" placeholder="Sin dato" ng-disabled="only" onkeyUp="return conMayusculas(this);"> 
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="col-md-12" align="left">
                                        <div class="form-group" class="col-md-12">
                                            <label for="url" >ACTIVIDADES SECUNDARIAS:</label>
                                            <div class="controls">
                                                <input  ng-model="datos.f01_actividadesSecundarias" name="f01_actividadesSecundarias" id="f01_actividadesSecundarias" class="form-control" type="text" placeholder="Sin dato" ng-disabled="only" onkeyUp="return conMayusculas(this);"> 
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!--<legend>Ubicación de la actividad económica</legend>-->
                            <div class="ibox-title_2">
                                <h5>Ubicación de la actividad económica</h5>
                            </div>
                            <div class="row">
                                <div class="col-md-4">
                                    <div class="col-md-12" align="left">
                                        <div class="form-group" class="col-md-12">
                                            <label for="url" >MACRODISTRITO: <font color="#FF0000"> * </font></label>
                                            <div class="controls">
                                                <!--<select id="f01_macro_act" 
                                                    name="f01_macro_act"  
                                                    ng-model="datos.f01_macro_act"  
                                                    class="form-control" 
                                                    ng-change="getDistritos(datos.f01_macro_act); GetValueMacrodistrito();"
                                                    placeholder=" Seleccione ">
                                                    <option ng-repeat="dato in datosMacrodistritos " value="{{dato.idmacro}}"> {{dato.macro}} </option>
                                                </select>
                                                
                                                 <select 
                                                    id="f01_macro_act" 
                                                    name="f01_macro_act" 
                                                    placeholder=" Seleccione " 
                                                    ng-model="datos.f01_macro_act" 
                                                    class="form-control" 
                                                    ng-options="dato.idmacro as dato.macro for dato in datosMacrodistritos" 
                                                    ng-change="getDistritos(datos.f01_macro_act); GetValueMacrodistrito(); "
                                                    required>
                                                    <option value=""></option>
                                                </select> -->
                                                
                                                 <select id="f01_macro_act" name="f01_macro_act" placeholder=" Seleccione " ng-model="datos.f01_macro_act" class="form-control" ng-change="getDistritos(datos.f01_macro_act); GetValueMacrodistrito(datos.f01_macro_act);" required ng-show="macroSesion != null">
                                                    <option value="-1">-- Seleccione --</option>
                                                    <option value="1">COTAHUMA</option>
                                                    <option value="2">MAX PAREDES</option>
                                                    <option value="3">PERIFERICA</option>
                                                    <option value="4">SAN ANTONIO</option>
                                                    <option value="5">SUR</option>
                                                    <option value="6">MALLASA</option>
                                                    <option value="7">CENTRO</option>
                                                    <option value="8">HAMPATURI</option>
                                                    <option value="9">ZONGO</option>
                                                </select>

                                                <input  ng-model="datos.f01_macro_act_descrip" name="f01_macro_act_descrip" id="f01_macro_act_descrip" class="form-control" type="text" placeholder="{{macrodistrito}}" ng-disabled="desabilitado" ng-show="macroSesion == null">

                                                <!--<span style="color:red" ng-show="formularioRegistro.f01_macro_act.$invalid">
                                                    <span ng-show="formularioRegistro.f01_macro_act.$error.required">Es requerido.
                                                    </span>
                                                </span>-->
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="col-md-12" align="left">
                                        <div class="form-group" class="col-md-12">
                                            <label for="url" >DISTRITO: <font color="#FF0000"> * </font></label>
                                            <div class="controls">
                                                <!--<select id="f01_dist_act" name="f01_dist_act"  ng-model="datos.f01_dist_act"  class="form-control" 
                                                ng-change="getZonas(datos.f01_dist_act)" placeholder=" Seleccione ">
                                                    <option ng-repeat="dato in datosDistritos " value="{{dato.iddistrito}}"> {{dato.distrito}} </option>
                                                </select>-->
                                                <select 
                                                    id="f01_dist_act" 
                                                    name="f01_dist_act" 
                                                    placeholder="-- Seleccione --" 
                                                    ng-model="datos.f01_dist_act" 
                                                    class="form-control" 
                                                    ng-options="dato.iddistrito as dato.distrito for dato in datosDistritos" 
                                                    ng-change="getZonas(datos.f01_dist_act); GetValueDistrito(); GetTrayecto(datos.f01_zona_act,'d')"
                                                    required>
                                                </select>
                                                <span style="color:red" ng-show="formularioRegistro.f01_dist_act.$invalid">
                                                    <span ng-show="formularioRegistro.f01_dist_act.$error.required">Es requerido.
                                                    </span>
                                                </span>

                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="col-md-12" align="left">
                                        <div class="form-group" class="col-md-12">
                                            <label for="url" >ZONA: <font color="#FF0000"> * </font></label>
                                            <div class="controls">
                                                <!--<select id="f01_zona_act" name="f01_zona_act"  ng-model="datos.f01_zona_act"  class="form-control"  placeholder=" Seleccione " >
                                                    <option ng-repeat="dato in datosZonas " value="{{dato.idzona}}"  > {{dato.zona}} </option>
                                                </select>-->
                                                  <select 
                                                    id="f01_zona_act" 
                                                    name="f01_zona_act" 
                                                    placeholder="-- Seleccione --" 
                                                    ng-model="datos.f01_zona_act" 
                                                    class="form-control" 
                                                    ng-options="dato.idzona as dato.zona for dato in datosZonas" 
                                                    ng-change=" GetValueZonaActividad();  GetDatosVia(datos.f01_zona_act); GetTrayecto(datos.f01_zona_act,'z')"
                                                    required>
                                                    <option value=""></option>
                                                </select>
                                                <span style="color:red" ng-show="formularioRegistro.f01_zona_act.$invalid">
                                                    <span ng-show="formularioRegistro.f01_zona_act.$error.required">Es requerido.
                                                    </span>
                                                </span>

                                            </div>
                                        </div>
                                    </div>
                                </div>
                               <!--  <div class="col-md-4">
                                    <div class="col-md-12" align="left">
                                        <div class="form-group" class="col-md-12">
                                            <label for="url" >TIPO TRAYECTO: <font color="#FF0000"> * </font></label>
                                            <div class="controls">
                                                <select id="f01_factor" name="f01_factor"  ng-model="datos.f01_factor"  class="form-control" placeholder="-- Seleccione --" ng-change="cargarTipoVia(datos.f01_factor, datos)" required>
                                                    <option value="TM"> TRAYECTO MATRIZ  </option>
                                                    <option value="VA"> VIA DE ACOMPAÑAMIENTO </option>
                                                </select>
                                                <span style="color:red" ng-show="formularioRegistro.f01_factor.$invalid">
                                                    <span ng-show="formularioRegistro.f01_factor.$error.required">Es requerido.
                                                    </span>
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                </div> -->

                                




                                <div class="col-md-4">
                                    <div class="col-md-12" align="left">
                                        <div class="form-group" class="col-md-12">
                                            <label for="url" >TIPO DE VIA: <font color="#FF0000"> * </font></label>
                                            <div class="controls">
                                                <!--<select id="f01_tip_via_act" name="f01_tip_via_act"  ng-model="datos.f01_tip_via_act"  class="form-control" placeholder=" Seleccione " ng-change="cargarNombVia(datos.f01_tip_via_act, datos)">
                                                    <option ng-repeat="dato in datosTipoVia " value="{{dato.idVia}}"> {{dato.nomVia}} </option>
                                                </select>-->
                                                <select 
                                                    id="f01_tip_via_act" 
                                                    name="f01_tip_via_act" 
                                                    placeholder="-- Seleccione --" 
                                                    ng-model="datos.f01_tip_via_act" 
                                                    class="form-control" 
                                                    ng-options="dato.idVia as dato.nomVia for dato in datosTipoVia" 
                                                    ng-change="cargarNombVia(datos.f01_tip_via_act, datos)"
                                                    required>
                                                </select>
                                                <span style="color:red" ng-show="formularioRegistro.f01_tip_via_act.$invalid">
                                                    <span ng-show="formularioRegistro.f01_tip_via_act.$error.required">Es requerido.
                                                    </span>
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                

                                <!--<div class="col-md-4">
                                    <div class="col-md-12" align="left">
                                        <div class="form-group" class="col-md-12">
                                            <label for="url" >TIPO DE VIA:</label>
                                            <div class="controls">
                                                <select id="f01_tip_via_act" name="f01_tip_via_act"  ng-model="datos.f01_tip_via_act"  class="form-control" placeholder=" Seleccione ">
                                                    <option value="AV"> AVENIDA  </option>
                                                    <option value="CA"> CALLE  </option>
                                                    <option value="CL"> CALLEJON  </option>
                                                    <option value="CN"> CANCHA  </option>
                                                    <option value="PR"> PARQUE  </option>
                                                    <option value="PL"> PLAZA  </option>
                                                    <option value="ND"> NO DEFINIDO  </option>
                                                    <option value="PA"> PASAJE  </option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                </div>-->
                                <div class="col-md-4">
                                    <div class="col-md-12" align="left">
                                        <div class="form-group" class="col-md-12">
                                            <label for="url" >VIA: <font color="#FF0000"> * </font></label>
                                            <div class="controls">
                                                <!--<select id="f01_num_act" name="f01_num_act"  ng-model="datos.f01_num_act"  class="form-control" placeholder=" Seleccione ">
                                                    <option ng-repeat="dato in datosNombVia " value="{{dato.nombVia}}"> {{dato.nombVia}} </option>
                                                </select>-->
                                                <select 
                                                    id="f01_num_act" 
                                                    name="f01_num_act" 
                                                    placeholder="-- Seleccione --" 
                                                    ng-model="datos.f01_num_act" 
                                                    class="form-control" 
                                                    ng-options="dato.nombVia as dato.nombVia for dato in datosNombVia"
                                                    ng-change="cargarNombViaTxt(datos.f01_num_act)" 
                                                    required>
                                                </select>
                                                <span style="color:red" ng-show="formularioRegistro.f01_num_act.$invalid">
                                                    <span ng-show="formularioRegistro.f01_num_act.$error.required">Es requerido.
                                                    </span>
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4" ng-show = "nombreViaTxt">
                                    <div class="col-md-12" align="left">
                                        <div class="form-group" class="col-md-12">
                                            <label for="url" >NOMBRE DE VIA: <font color="#FF0000"> * </font></label>
                                            <div class="controls">
                                                <input  ng-model="datos.f01_num_act_n" name="f01_num_act_n" id="f01_num_act_n" class="form-control" type="text" placeholder="Sin dato" ng-disabled="only" onkeyUp="return conMayusculas(this);" required>
                                                <span style="color:red" ng-show="formularioRegistro.f01_num_act.$invalid">
                                                    <span ng-show="formularioRegistro.f01_num_act.$error.required">Es requerido.
                                                    </span>
                                                </span> 
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div ng-show="tipoTrayectoMain==true">
                                    <div ng-show="tipoTrayecto==true">
                                            <div class="col-md-4">
                                                <div class="col-md-12" align="left">
                                                    <div class="form-group" class="col-md-12">
                                                        <label for="url" ><font color="#FF0000"> * </font>TIPO TRAYECTO: </label>
                                                        <div class="controls">
                                                            <select 
                                                                    id="f01_factor" 
                                                                    name="f01_factor"
                                                                    ng-model="datos.f01_factor"  
                                                                    class="form-control" 
                                                                    placeholder="-- Seleccione --" 
                                                                    required>
                                                                <option value="TM"> TRAYECTO MATRIZ  </option>                                                          
                                                            </select>
                                                            <span style="color:red" ng-show="formularioRegistro.f01_factor.$invalid">
                                                                <span ng-show="formularioRegistro.f01_factor.$error.required">Es requerido.
                                                                </span>
                                                            </span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                    </div>

                                    <div ng-show="tipoTrayecto==false">
                                        <div class="col-md-4">
                                            <div class="col-md-12" align="left">
                                                <div class="form-group" class="col-md-12">
                                                    <label for="url" ><font color="#FF0000"> * </font>TIPO TRAYECTO: </label>
                                                    <div class="controls">
                                                       
                                                         <select 
                                                                id="f01_factor" 
                                                                name="f01_factor"  
                                                                ng-model="datos.f01_factor"  
                                                                class="form-control" 
                                                                placeholder="-- Seleccione --" required>
                                                            <option value="VA"> VIA DE ACOMPAÑAMIENTO </option>
                                                        </select>
                                                        <span style="color:red" ng-show="formularioRegistro.f01_factor.$invalid">
                                                            <span ng-show="formularioRegistro.f01_factor.$error.required">Es requerido.
                                                            </span>
                                                        </span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="col-md-12" align="left">
                                        <div class="form-group" class="col-md-12">
                                            <label for="url" >NÚMERO: <font color="#FF0000"> * </font></label>
                                            <div class="controls">
                                                <input  ng-model="datos.f01_num_act1" name="f01_num_act1" id="f01_num_act1" class="form-control" type="text" placeholder="Sin dato" ng-disabled="only" onkeyUp="return conMayusculas(this);" required> 
                                                <span style="color:red" ng-show="formularioRegistro.f01_num_act1.$invalid">
                                                    <span ng-show="formularioRegistro.f01_num_act1.$error.required">Es requerido.
                                                    </span>
                                                </span> 
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="col-md-12" align="left">
                                        <div class="form-group" class="col-md-12">
                                            <label for="url" >EDIFICIO:</label>
                                            <div class="controls">
                                                <input  ng-model="datos.f01_edificio_act" name="f01_edificio_act" id="f01_edificio_act" class="form-control" type="text" placeholder="Sin dato" ng-disabled="only" onkeyUp="return conMayusculas(this);"> 
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="col-md-12" align="left">
                                        <div class="form-group" class="col-md-12">
                                            <label for="url" >BLOQUE:</label>
                                            <div class="controls">
                                                <input  ng-model="datos.f01_bloque_act" name="f01_bloque_act" id="f01_bloque_act" class="form-control" type="text" placeholder="Sin dato" ng-disabled="only" onkeyUp="return conMayusculas(this);"> 
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="col-md-12" align="left">
                                        <div class="form-group" class="col-md-12">
                                            <label for="url" >PISO:</label>
                                            <div class="controls">
                                                <input  ng-model="datos.f01_piso_act" name="f01_piso_act" id="f01_piso_act" class="form-control" type="text" placeholder="Sin dato" ng-disabled="only" onkeyUp="return conMayusculas(this);"> 
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="col-md-12" align="left">
                                        <div class="form-group" class="col-md-12">
                                            <label for="url" >DPTO/OF/LOC:</label>
                                            <div class="controls">
                                                <input  ng-model="datos.f01_dpto_of_loc" name="f01_dpto_of_loc" id="f01_dpto_of_loc" class="form-control" type="text" placeholder="Sin dato" ng-disabled="only" onkeyUp="return conMayusculas(this);"> 
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="col-md-12" align="left">
                                        <div class="form-group" class="col-md-12">
                                            <label for="url" >TELEFONO:</label>
                                            <div class="controls">
                                                <input  ng-model="datos.f01_tel_act1" name="f01_tel_act1" id="f01_tel_act1" class="form-control" type="text" placeholder="Sin dato" ng-disabled="only" maxlength="7" onkeyUp="valNumeroTelefono(this);"> 
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="col-md-12" align="left">
                                        <div class="form-group" class="col-md-12">
                                            <label for="url" >CASILLA:</label>
                                            <div class="controls">
                                                <input  ng-model="datos.f01_casilla" name="f01_casilla" id="f01_casilla" class="form-control" type="text" placeholder="Sin dato" ng-disabled="only" onkeyUp="return valNumero(this);"> 
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="col-md-12" align="left">
                                        <div class="form-group" class="col-md-12">
                                            <label for="url" >CUENTA ENERGIA ELECTRICA:</label>
                                            <div class="controls">
                                                <input  ng-model="datos.f01_cod_luz" name="f01_cod_luz" id="f01_cod_luz" class="form-control" type="text" pplaceholder="Sin dato" ng-disabled="only" onkeyUp="return valNumero(this);"> 
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="ibox-title_2">
                                <h5>Foliado y descripción</h5>
                            </div>
                            <div class="row">
                                <div class="col-md-4">
                                    <div class="col-md-12" align="left">
                                        <div class="form-group" class="col-md-12">
                                            <label for="url" >NRO DE HOJAS: <font color="#FF0000"> * </font></label>
                                            <div class="controls">
                                                <input  ng-model="datos.f01_hojas_recibidas" name="f01_hojas_recibidas" id="f01_hojas_recibidas" class="form-control" type="text" placeholder="Sin dato" ng-disabled="only" onkeyUp="return valNumero(this);" required> 
                                                <span style="color:red" ng-show="formularioRegistro.f01_hojas_recibidas.$invalid">
                                                    <span ng-show="formularioRegistro.f01_hojas_recibidas.$error.required">Es requerido.
                                                    </span>
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-8">
                                    <div class="col-md-12" align="left">
                                        <div class="form-group" class="col-md-12">
                                            <label for="url" >DESCRIPCIÓN: <font color="#FF0000"> * </font></label>
                                            <div class="controls">
                                                <!--<input  ng-model="datos.f01_observaciones_i" name="f01_observaciones_i" id="f01_observaciones_i" class="form-control" type="text" placeholder="ingrese numero de caso" ng-disabled="only" onkeyUp="return conMayusculas(this);"> -->
                                                <textarea ng-model="datos.f01_observaciones_i" id="f01_observaciones_i" name="f01_observaciones_i" class="form-control" placeholder="Sin dato" ng-disabled="only" onkeyUp="return conMayusculas(this);" required></textarea>
                                                <span style="color:red" ng-show="formularioRegistro.f01_observaciones_i.$invalid">
                                                    <span ng-show="formularioRegistro.f01_observaciones_i.$error.required">Es requerido.
                                                    </span>
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!--- ***************************************************   datos de publicidada   *************************************************************** -->
                            <div class="ibox-title_2">
                                <h5>Variable de Identificación de la Actividad Económica:</h5>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group" >
                                    <div class="controls" >
                                        <input type="radio" ng-model="datos.swpublicidad" name="swpublicidad" value="CP" ng-change="" ng-disabled="only" ng-required="true" required>Con VIAE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                        <input type="radio" ng-model="datos.swpublicidad" name="swpublicidad" value="SP" ng-change="" ng-disabled="only" ng-required="true" required>Sin VIAE<br>
                                        <span style="color:red" ng-show="formularioRegistro.swpublicidad.$invalid">
                                            <span ng-show="formularioRegistro.swpublicidad.$error.required">VIAE es requerido.
                                            </span>
                                        </span>
                                    </div>
                                </div>
                            </div>
                            <div ng-show="datos.swpublicidad =='CP'"  >
                                <div class="col-md-12">
                                    <div class="panel panel-default">
                                        <div class="panel-heading"><b>Datos de la VIAE:</b></div>
                                        <div class="panel-body">
                                        <form id="myPublicidad" name="myPublicidad">
                                        <div class="col-md-4">
                                            <div class="form-group">
                                                <label for="url" >Tipo:</label>
                                                <div class="controls">
                                                    <select id="INT_TIPO_LETRE" name="INT_TIPO_LETRE"  placeholder="Tipo" ng-model="publi.INT_TIPO_LETRE"  class="form-control" 
                                                    ng-options="tletre.p_descripcion as tletre.p_descripcion for tletre in TipoLetrero"  ng-change="ltCaracteristica(publi.INT_TIPO_LETRE);" ng-disabled="only" required>
                                                    </select>
                                                    <span style="color:red" ng-show="formularioRegistro.INT_TIPO_LETRE.$invalid">
                                                        <span ng-show="formularioRegistro.INT_TIPO_LETRE.$error.required">Es requerido.
                                                        </span>
                                                    </span>
                                                </div>
                                            </div>
                                        </div> 
                                        <div class="col-md-4">
                                            <div class="form-group" >
                                                <label for="url" >Caracteristica:</label>
                                                <div class="controls">
                                                    <select id="INT_CARA" name="INT_CARA"  placeholder="Distrito - Zona" ng-model="publi.INT_CARA"  class="form-control" ng-options="tletr.p_caracteristica as tletr.p_caracteristica for tletr in lCaracteristica" ng-change="actulizarCaracteristica();" ng-disabled="only" required>
                                                    </select>
                                                    <span style="color:red" ng-show="formularioRegistro.INT_CARA.$invalid">
                                                        <span ng-show="formularioRegistro.INT_CARA.$error.required">Es requerido.
                                                        </span>
                                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="form-group" >
                                                <label for="url" >Caras:</label>
                                                <div class="controls">
                                                    <input id="INT_NRO_CARA" type="number" name="INT_NRO_CARA"  placeholder="Número de caras" ng-model="publi.INT_NRO_CARA"  class="form-control" required>
                                                    <span style="color:red" ng-show="formularioRegistro.INT_NRO_CARA.$invalid">
                                                        <span ng-show="formularioRegistro.INT_NRO_CARA.$error.required">Es requerido.
                                                        </span>
                                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                        <!--div class="col-md-4">
                                            <label for="url" >Fecha Inicio:</label>
                                            <p class="input-group"><input name="FECHAINICIO" id="FECHAINICIO"  type="text" 
                                                placeholder="dd/mm/yyyy" class="form-control" datepicker-popup="" ng-model="publi.FECHAINICIO" is-open="startDateOpenedIni" close-text="Close"  ng-change="changeHandler()"   required/> 
                                                <span style="color:red" ng-show="formularioRegistro.FECHAINICIO.$invalid">
                                                    <span ng-show="formularioRegistro.FECHAINICIO.$error.required">Es requerido.
                                                    </span>
                                                </span>
                                                <span class="input-group-btn">
                                                    <button type="button" class="btn btn-default" ng-click="startDateOpenIni($event)" >
                                                        <i class="glyphicon glyphicon-calendar" ></i>
                                                    </button>
                                                </span>
                                                
                                            </p>
                                        </div-->
                                        <!--<div class="col-md-6">
                                          <label for="url" >Fecha Final:</label>
                                            <p class="input-group">
                                                <input type="text" class="form-control" name="FECHAFIN"  data-date-format="yyyy/mm/dd"  ng-model="publi.FECHAFIN" id="FECHAFIN" ng-disabled="desabilitado">
                                            </p>
                                        </div>-->

                                        <div class="col-md-12">
                                            <div class="panel panel-default">
                                                <div class="panel-heading"><B>Superficie de la VIAE </B>(Ejem. Cara superior&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.5)
                                                    <br>
                                                    <input type="checkbox" id="INT_CHECK_VIAE" ng-model="publi.INT_CHECK_VIAE" ng-click="verSuperficie(publi.INT_CHECK_VIAE)"> Superficie Irregular
                                                </div>
                                                <div class="panel-body">
                                                    <form id="myForm" name="myForm">
                                                        <table class="table table-responsive">
                                                            <thead>
                                                                <tr>
                                                                    <th>
                                                                        <input class="form-control" type="text"  id="INT_DESC" name="INT_DESC" placeholder="Descripción" ng-model="publi.INT_DESC" ng-disabled="only" required  onkeyUp="return conMayusculas(this);">
                                                                        <span style="color:red" ng-show="formularioRegistro.INT_DESC.$invalid">
                                                                            <span ng-show="formularioRegistro.INT_DESC.$error.required">Es requerido.
                                                                            </span>
                                                                        </span>
                                                                    </th>
                                                                    <th ng-show="especial==null">
                                                                        <input class="form-control" type="number" min="0" max="1500" id="INT_ALTO" name="INT_ALTO" placeholder="Alto" ng-model="publi.INT_ALTO" ng-disabled="only" required>
                                                                        <span style="color:red" ng-show="formularioRegistro.INT_ALTO.$invalid">
                                                                            <span ng-show="formularioRegistro.INT_ALTO.$error.required">Es requerido.
                                                                            </span>
                                                                        </span>
                                                                    </th>
                                                                    <th ng-show="especial==null">
                                                                        <input class="form-control" type="number" min="0" max="1500" id="INT_ANCHO" name="INT_ANCHO" placeholder="Ancho" ng-model="publi.INT_ANCHO" ng-disabled="only" required>
                                                                        <span style="color:red" ng-show="formularioRegistro.INT_ANCHO.$invalid">
                                                                            <span ng-show="formularioRegistro.INT_ANCHO.$error.required">Es requerido.
                                                                            </span>
                                                                        </span>
                                                                    </th>
                                                                     <th ng-show="especial!=null">
                                                                        <input class="form-control" type="number" min="0" max="1500" id="INT_SUPERFICIE" name="INT_SUPERFICIE" placeholder="Superficie" ng-model="publi.INT_SUPERFICIE" ng-disabled="only" required>
                                                                        <span style="color:red" ng-show="formularioRegistro.INT_SUPERFICIE.$invalid">
                                                                            <span ng-show="formularioRegistro.INT_SUPERFICIE.$error.required">Es requerido.
                                                                            </span>
                                                                        </span>
                                                                    </th>

                                                                    <!--<th>
                                                                        <input class="btn btn-primary" type="button" value="Añadir" ng-class="{'disabled': myForm.$invalid}" ng-click="addUser(detalle);">
                                                                    </th>-->
                                                                </tr>
                                                            </thead>
                                                        </table>
                                                    </form>
                                                    <!--<table class="table table-striped table-bordered">
                                                        <tr ng-repeat="descrip in carass" >
                                                            <td data-title="'#'">{{$index+1}}</td>
                                                            <td data-title="'Descripción'" sortable="'desc'" filter="{'desc':'text'}">
                                                                <span ng-hide="edit[descrip.id]" ng-dblclick="showEdition($event, descrip.id)">{{descrip.desc}}</span>
                                                                    <input type="text" class="form-control" ng-model="descrip.desc" ng-show="edit[descrip.id]" value="{{descrip.desc}}"></td>
                                                            <td data-title="'Sup.'"><span ng-hide="edit[descrip.id]" ng-dblclick="showEdition($event, descrip.id)">{{descrip.sup}}</span>
                                                                    <input type="number" class="form-control" ng-model="descrip.sup" ng-show="edit[descrip.id]" min="1" max="1500" value="{{descrip.sup}}"></td>
                                                            <td data-title="'Acción'">
                                                                <button type="button" class="btn btn-primary" ng-hide="edit[descrip.id]" ng-click="deleteUser(descrip);">Eliminar</button>
                                                                <button type="button" class="btn btn-warning" ng-show="edit[descrip.id]" ng-click="editUser(descrip);">Editar</button>
                                                            </td>
                                                        </tr>
                                                    </table>-->
                                                </div>
                                            </div>
                                        </div>
                                        <input type="hidden" ng-model="publi.idcate" id="idcate" name="idcate" class="form-control"/>
                                        <input type="hidden" ng-model="publi.idcarac" id="idcarac" name="idcarac" class="form-control"/>
                                        <input type="hidden" ng-model="publi.id_cara" id="id_cara" name="id_cara" class="form-control"/>
                                        
                                        <div class="col-md-3">
                                            <a class="btn btn-primary" ng-click="adicionarpublicidad(publi)" ng-class="{'disabled': myPublicidad.$invalid}" ng-show="botonn=='new'" ng-hide="botonn=='upd'" >
                                                <!--i class="glyphicon glyphicon-plus-sign"></i--> Adicionar 
                                            </a>
                                            <a class="btn btn-primary" ng-click="modificarpublicidad(publi)" ng-show="botonn=='upd'" ng-hide="botonn=='new'">
                                                <i class="glyphicon glyphicon-plus-sign"></i>Modificar
                                            </a>
                                        </div>
                                        </form>
                                    </div>
                                    </div>
                                </div>
                                
                                <div class="col-md-12">
                                    <table ng-table="tablaRoles" show-filter="true" class="table table-striped table-bordered">
                                        <tr ng-repeat="pup in datos.publicidad" >
                                            <td align="center" data-title="'Opciones'">
                                                <a class="btn btn-default btn-circle" ng-click="modificarPlubli(pup)"><i class="fa fa-pencil" style="color:#249FE6"></i></a>
                                                <a class="btn btn-default btn-circle" ng-hide="edit[pup.id]" ng-click="eliminarPubli(pup)" ><i class="fa fa-trash-o" style="color:#249FE6"></i></a>
                                            </td>
                                            <td data-title="'VIAE'">{{$index+1}}</td>
                                            <td data-title="'TIPO'" sortable="'INT_TIPO_LETRE'">{{pup.INT_TIPO_LETRE}}</td>
                                            <td data-title="'CARACTERÍSTICA'" sortable="'INT_CARA'">{{pup.INT_CARA}}</td>
                                            <td data-title="'CARAS'" sortable="'CARAS'">{{pup.INT_NRO_CARA}}</td>
                                            <!--<td data-title="'FECHA FIN'" sortable="'FECHAFIN'" filter="{'FECHAFIN':'text'}">{{pup.FECHAFIN}}</td>-->
                                            <td data-title="'DESCRIPCIÓN'" sortable="'INT_DESC'">{{pup.INT_DESC}}</td>
                                            <td data-title="'ALTO'" sortable="'INT_ALTO'">{{pup.INT_ALTO}}</td>
                                            <td data-title="'ANCHO'" sortable="'INT_ANCHO'">{{pup.INT_ANCHO}}</td>
                                            <td data-title="'SUPERFICIE'" sortable="'INT_SUP'">{{pup.INT_SUP}}</td>
                                        </tr>
                                    </table>
                                </div>
                                <input type="hidden" ng-model="datos.publicidad" id="publicidad" name="publicidad" class="form-control"/>
                                <input type="hidden" ng-model="datos.publicidad_grilla" id="publicidad_grilla" name="publicidad_grilla" class="form-control"/>
                            </div>
                        </div>
                        <!--- ************************************************************************************************************************************************************** -->
                    </div>
                </div>                
            </div>
        </form>
        </div>        
        <br>
        <br>

        <!-- ////////////////////////////////////////// -->
        <!-- /////// botones guardar - cancelar /////// -->
        <!-- ////////////////////////////////////////// -->
        <!--<button data-dismiss="modal" type="button" class="btn btn-danger fa fa-save" ng-disabled="false" ng-click="volver()"><span span class="textoAux"> CANCELAR </span></button>
        <button ng-click="guardarForm()" data-dismiss="modal" type="button" class="btn btn-success fa fa-save" ng-disabled="false"
        ><span span class="textoAux"> GUARDAR / CONTINUAR </span></button>-->
        <!--<div ng-show = "btnGuardar">-->
            <a class="btn btn-primary" ng-disabled="false" ng-click="volver()"><i class="glyphicon fa fa-times"></i> Cancelar </a>
            <a ng-show = "btnGuardar" class="btn btn-primary" ng-disabled="false" ng-click="guardarForm()"><i class="glyphicon fa fa-save"></i> Guardar / Continuar </a>
        <!--</div>-->
        <br>
        <br>

    </div>
    <div class="modal fade" id="myModal" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h2 class="modal-title">Ciudadano Existente</h2>
                </div>
                <div class="modal-body">
                    <p>El Ciudadano {{nombreciu}} se encuentra registrado </p>
                    <p>CARGAR LOS DATOS DEL CIUDADANO {{nombreciu}}</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Cerrar</button>
                    <button type="button" class="btn btn-default" ng-click="verFormularioNatural(datos)" data-dismiss="modal">Aceptar</button>
                </div>
            </div>

        </div>
    </div>
    <div class="modal fade" id="juridico" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h2 class="modal-title">Ciudadano Existente</h2>
                </div>
                <div class="modal-body">
                    <p>La Persona Juridica {{nombreemp}} se encuentra registrada </p>
                    <p>CARGAR LOS DATOS DE LA PERSONA JURIDICA {{nombreemp}}</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Cerrar</button>
                    <button type="button" class="btn btn-default" ng-click="verFormularioJuridico(datos)" data-dismiss="modal">Aceptar</button>
                </div>
            </div>

        </div>
    </div>
    <div class="modal fade" id="naturalm" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h2 class="modal-title">Ciudadano Existente</h2>
                </div>
                <div class="modal-body">
                    <p>El Ciudadano {{nombreciu}} se encuentra registrado </p>
                    <p>CARGAR LOS DATOS DEL CIUDADANO {{nombreciu}}</p>
                    <p>EL CIUDADANO ES NUEVO EN EL SISTEMA GENESIS POR LO CUAL NO CUENTA CON UN PATRON</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Cerrar</button>
                    <button type="button" class="btn btn-default" ng-click="verFormularioNaturalM(datoss)" data-dismiss="modal">Aceptar</button>
                </div>
            </div>

        </div>
    </div>
    <div class="modal fade" id="juridicom" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h2 class="modal-title">Ciudadano Existente</h2>
                </div>
                <div class="modal-body">
                    <p>La Persona Juridica {{nombreemp}} se encuentra registrada </p>
                    <p>CARGAR LOS DATOS DE LA PERSONA JURIDICA {{nombreemp}}</p>
                    <p>LA PERSONA JURIDICA ES NUEVA EN EL SISTEMA GENESIS POR LO CUAL NO CUENTA CON UN PATRON</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Cerrar</button>
                    <button type="button" class="btn btn-default" ng-click="verFormularioJuridicoM(datoss)" data-dismiss="modal">Aceptar</button>
                </div>
            </div>

        </div>
    </div>
</div>